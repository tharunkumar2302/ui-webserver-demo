{"version":3,"sources":["../node_modules/@mui/material/utils/requirePropFactory.js","../node_modules/@mui/utils/esm/requirePropFactory.js","../node_modules/@babel/runtime/helpers/interopRequireDefault.js","../node_modules/@mui/icons-material/utils/createSvgIcon.js","../node_modules/@mui/material/utils/unsupportedProp.js","../node_modules/@mui/utils/esm/unsupportedProp.js","../node_modules/@mui/material/utils/deprecatedPropType.js","../node_modules/@mui/utils/esm/deprecatedPropType.js","../node_modules/@mui/material/utils/setRef.js","../node_modules/@mui/material/utils/index.js","../node_modules/@mui/material/DialogTitle/dialogTitleClasses.js","../../../src/js/core/CoreFeature.js","../../../src/js/core/tools/Helpers.js","../../../src/js/core/tools/Popup.js","../../../src/js/core/Module.js","../../../src/js/modules/Accessor/Accessor.js","../../../src/js/modules/Accessor/defaults/accessors.js","../../../src/js/modules/Ajax/defaults/urlGenerator.js","../../../src/js/modules/Ajax/defaults/contentTypeFormatters.js","../../../src/js/modules/Ajax/Ajax.js","../../../src/js/modules/Ajax/defaults/config.js","../../../src/js/modules/Ajax/defaults/loaderPromise.js","../../../src/js/modules/Clipboard/defaults/pasteActions.js","../../../src/js/modules/Clipboard/Clipboard.js","../../../src/js/modules/Clipboard/defaults/pasteParsers.js","../../../src/js/modules/ColumnCalcs/CalcComponent.js","../../../src/js/core/cell/CellComponent.js","../../../src/js/core/cell/Cell.js","../../../src/js/core/column/ColumnComponent.js","../../../src/js/core/column/defaults/options.js","../../../src/js/core/column/Column.js","../../../src/js/core/row/RowComponent.js","../../../src/js/core/row/Row.js","../../../src/js/modules/ColumnCalcs/defaults/calculations.js","../../../src/js/modules/ColumnCalcs/ColumnCalcs.js","../../../src/js/modules/DataTree/DataTree.js","../../../src/js/modules/Download/defaults/downloaders.js","../../../src/js/modules/Download/defaults/downloaders/csv.js","../../../src/js/modules/Download/defaults/downloaders/json.js","../../../src/js/modules/Download/defaults/downloaders/jsonLines.js","../../../src/js/modules/Download/defaults/downloaders/pdf.js","../../../src/js/modules/Download/defaults/downloaders/xlsx.js","../../../src/js/modules/Download/defaults/downloaders/html.js","../../../src/js/modules/Download/Download.js","../../../src/js/modules/Edit/inputMask.js","../../../src/js/modules/Edit/defaults/editors/datetime.js","../../../src/js/modules/Edit/List.js","../../../src/js/modules/Edit/defaults/editors.js","../../../src/js/modules/Edit/defaults/editors/input.js","../../../src/js/modules/Edit/defaults/editors/textarea.js","../../../src/js/modules/Edit/defaults/editors/number.js","../../../src/js/modules/Edit/defaults/editors/range.js","../../../src/js/modules/Edit/defaults/editors/date.js","../../../src/js/modules/Edit/defaults/editors/time.js","../../../src/js/modules/Edit/defaults/editors/select.js","../../../src/js/modules/Edit/defaults/editors/list.js","../../../src/js/modules/Edit/defaults/editors/autocomplete.js","../../../src/js/modules/Edit/defaults/editors/star.js","../../../src/js/modules/Edit/defaults/editors/progress.js","../../../src/js/modules/Edit/defaults/editors/tickCross.js","../../../src/js/modules/Edit/Edit.js","../../../src/js/modules/Export/ExportRow.js","../../../src/js/modules/Export/ExportColumn.js","../../../src/js/modules/Export/Export.js","../../../src/js/modules/Filter/defaults/filters.js","../../../src/js/modules/Filter/Filter.js","../../../src/js/modules/Format/defaults/formatters.js","../../../src/js/modules/Format/defaults/formatters/plaintext.js","../../../src/js/modules/Format/defaults/formatters/html.js","../../../src/js/modules/Format/defaults/formatters/textarea.js","../../../src/js/modules/Format/defaults/formatters/money.js","../../../src/js/modules/Format/defaults/formatters/link.js","../../../src/js/modules/Format/defaults/formatters/image.js","../../../src/js/modules/Format/defaults/formatters/tickCross.js","../../../src/js/modules/Format/defaults/formatters/datetime.js","../../../src/js/modules/Format/defaults/formatters/datetimediff.js","../../../src/js/modules/Format/defaults/formatters/lookup.js","../../../src/js/modules/Format/defaults/formatters/star.js","../../../src/js/modules/Format/defaults/formatters/traffic.js","../../../src/js/modules/Format/defaults/formatters/progress.js","../../../src/js/modules/Format/defaults/formatters/color.js","../../../src/js/modules/Format/defaults/formatters/buttonTick.js","../../../src/js/modules/Format/defaults/formatters/buttonCross.js","../../../src/js/modules/Format/defaults/formatters/rownum.js","../../../src/js/modules/Format/defaults/formatters/handle.js","../../../src/js/modules/Format/defaults/formatters/responsiveCollapse.js","../../../src/js/modules/Format/defaults/formatters/rowSelection.js","../../../src/js/modules/Format/Format.js","../../../src/js/modules/FrozenColumns/FrozenColumns.js","../../../src/js/modules/FrozenRows/FrozenRows.js","../../../src/js/modules/GroupRows/GroupComponent.js","../../../src/js/modules/GroupRows/Group.js","../../../src/js/modules/GroupRows/GroupRows.js","../../../src/js/modules/History/defaults/undoers.js","../../../src/js/modules/History/History.js","../../../src/js/modules/History/defaults/redoers.js","../../../src/js/modules/HtmlTableImport/HtmlTableImport.js","../../../src/js/modules/Import/defaults/importers.js","../../../src/js/modules/Import/defaults/importers/csv.js","../../../src/js/modules/Import/defaults/importers/json.js","../../../src/js/modules/Import/defaults/importers/array.js","../../../src/js/modules/Import/Import.js","../../../src/js/modules/Interaction/Interaction.js","../../../src/js/modules/Keybindings/defaults/bindings.js","../../../src/js/modules/Keybindings/Keybindings.js","../../../src/js/modules/Keybindings/defaults/actions.js","../../../src/js/modules/Menu/Menu.js","../../../src/js/modules/MoveColumns/MoveColumns.js","../../../src/js/modules/MoveRows/MoveRows.js","../../../src/js/modules/Mutator/defaults/mutators.js","../../../src/js/modules/Mutator/Mutator.js","../../../src/js/modules/Page/defaults/pageCounters.js","../../../src/js/modules/Page/defaults/pageCounters/rows.js","../../../src/js/modules/Page/defaults/pageCounters/pages.js","../../../src/js/modules/Page/Page.js","../../../src/js/modules/Persistence/defaults/readers.js","../../../src/js/modules/Persistence/defaults/writers.js","../../../src/js/modules/Persistence/Persistence.js","../../../src/js/modules/Popup/Popup.js","../../../src/js/modules/Print/Print.js","../../../src/js/modules/ReactiveData/ReactiveData.js","../../../src/js/modules/ResizeColumns/ResizeColumns.js","../../../src/js/modules/ResizeRows/ResizeRows.js","../../../src/js/modules/ResizeTable/ResizeTable.js","../../../src/js/modules/ResponsiveLayout/ResponsiveLayout.js","../../../src/js/modules/SelectRow/SelectRow.js","../../../src/js/modules/Sort/defaults/sorters/datetime.js","../../../src/js/modules/Sort/defaults/sorters.js","../../../src/js/modules/Sort/defaults/sorters/number.js","../../../src/js/modules/Sort/defaults/sorters/string.js","../../../src/js/modules/Sort/defaults/sorters/date.js","../../../src/js/modules/Sort/defaults/sorters/time.js","../../../src/js/modules/Sort/defaults/sorters/boolean.js","../../../src/js/modules/Sort/defaults/sorters/array.js","../../../src/js/modules/Sort/defaults/sorters/exists.js","../../../src/js/modules/Sort/defaults/sorters/alphanum.js","../../../src/js/modules/Sort/Sort.js","../../../src/js/modules/Tooltip/Tooltip.js","../../../src/js/modules/Validate/defaults/validators.js","../../../src/js/modules/Validate/Validate.js","../../../src/js/core/tools/OptionsList.js","../../../src/js/core/rendering/Renderer.js","../../../src/js/core/rendering/renderers/BasicHorizontal.js","../../../src/js/core/rendering/renderers/VirtualDomHorizontal.js","../../../src/js/core/ColumnManager.js","../../../src/js/core/rendering/renderers/BasicVertical.js","../../../src/js/core/rendering/renderers/VirtualDomVertical.js","../../../src/js/core/RowManager.js","../../../src/js/core/FooterManager.js","../../../src/js/core/tools/InteractionMonitor.js","../../../src/js/core/tools/ComponentFunctionBinder.js","../../../src/js/core/tools/DataLoader.js","../../../src/js/core/tools/ExternalEventBus.js","../../../src/js/core/tools/InternalEventBus.js","../../../src/js/core/tools/DeprecationAdvisor.js","../../../src/js/core/tools/TableRegistry.js","../../../src/js/modules/Layout/defaults/modes/fitDataGeneral.js","../../../src/js/modules/Layout/defaults/modes.js","../../../src/js/modules/Layout/defaults/modes/fitData.js","../../../src/js/modules/Layout/defaults/modes/fitDataStretch.js","../../../src/js/modules/Layout/defaults/modes/fitColumns.js","../../../src/js/modules/Layout/Layout.js","../../../src/js/modules/Localize/defaults/langs.js","../../../src/js/modules/Localize/Localize.js","../../../src/js/modules/Comms/Comms.js","../../../src/js/core/tools/ModuleBinder.js","../../../src/js/core/tools/Alert.js","../../../src/js/core/Tabulator.js","../../../src/js/core/defaults/options.js","../../../src/js/core/TabulatorFull.js","../node_modules/@mui/material/DialogContent/dialogContentClasses.js","../node_modules/@mui/material/DialogContent/DialogContent.js"],"names":["requirePropFactory","componentNameInError","Component","module","exports","obj","__esModule","Object","defineProperty","value","enumerable","get","_utils","createSvgIcon","require","unsupportedProp","props","propName","componentName","location","propFullName","deprecatedPropType","validator","reason","setRef","unstable_ClassNameGenerator","configure","generator","ClassNameGenerator","getDialogTitleUtilityClass","slot","generateUtilityClass","dialogTitleClasses","generateUtilityClasses","CoreFeature","table","_classCallCheck","this","_createClass","key","data","silent","columnsChanged","dataLoader","load","undefined","_this$table$modules$l","modules","localize","getText","apply","arguments","_this$table$modules$l2","bind","_this$table$modules$l3","getLocale","_this$table$modules$c","comms","getConnections","_this$table$modules$c2","send","layout","getMode","force","_this$table$eventBus","eventBus","subscribe","_this$table$eventBus2","unsubscribe","subscribed","_this$table$eventBus3","subscriptionChange","_this$table$eventBus4","dispatch","_this$table$eventBus5","chain","_this$table$eventBus6","confirm","_this$table$externalE","externalEvents","_this$table$externalE2","options","oldOption","newOption","deprecationAdvisor","check","msg","checkMsg","Helpers","el","offsetWidth","offsetHeight","box","getBoundingClientRect","top","window","pageYOffset","document","documentElement","clientTop","left","pageXOffset","clientLeft","clone","_this","list","length","objectProto","__proto__","arrayProto","assign","Array","isArray","_loop","match","copy","subject","i","findIndex","item","unshift","deepClone","Popup","_CoreFeature","_inherits","_super","_createSuper","element","parent","_this2","call","container","_lookupContainer","reversedX","childPopup","blurable","blurCallback","blurEventsBound","renderedCallback","visible","hideable","classList","add","blurEvent","hide","_assertThisInitialized","escEvent","_escapeCheck","destroyBinding","tableDestroyed","destroyed","popupContainer","querySelector","console","warn","_checkContainerIsParent","body","parentNode","callback","e","touch","MouseEvent","x","touches","pageX","y","pageY","parentOffset","elOffset","containerOffset","position","offset","origin","parentEl","coords","HTMLElement","elementPositionCoords","containerEventCoords","style","appendChild","_fitToScreen","addEventListener","stopPropagation","scrollTop","right","Math","max","scrollHeight","parseInt","_this3","setTimeout","rowManager","keyCode","removeEventListener","removeChild","Module","_CoreFeature2","_super2","name","_this4","_handler","optionsList","register","columnManager","func","_this5","initGuard","component","handler","componentFunctionBinder","priority","registerDataPipelineHandler","registerDisplayPipelineHandler","adjust","lookupIndex","_this6","index","displayRows","displayPipeline","getDisplayRows","activeRows","renderInPosition","refreshActiveData","footerManager","append","prepend","remove","menuEl","menuContainer","content","type","alertManager","alert","clear","Accessor","_Module","_super3","_this7","allowedTypes","registerColumnOption","initializeColumn","transformRow","column","_this8","config","forEach","accessor","charAt","toUpperCase","slice","definition","lookupAccessor","params","accessors","row","rowComponent","getComponent","traverse","colComponent","getFieldValue","setFieldValue","moduleName","generateParamsList","prefix","output","concat","push","serializeParams","encoded","encodeURIComponent","join","urlBuilder","url","keys","method","toLowerCase","includes","generateParamsList$1","defaultContentTypeFormatters","headers","JSON","stringify","form","FormData","Ajax","_Module2","_super4","_this10","urlGenerator","loaderPromise","registerTableOption","contentTypeFormatters","ajaxRequestFunc","defaultLoaderPromise","ajaxURLGenerator","defaultURLGenerator","ajaxURL","setUrl","setDefaultConfig","ajaxConfig","registerTableFunction","getUrl","requestDataCheck","requestParams","requestData","ajaxParams","previousData","generateConfig","sendRequest","defaultConfig","_this11","ajaxRequesting","then","ajaxResponse","Promise","reject","contentType","_this9","resolve","ajaxContentType","Accept","mode","credentials","fetch","response","ok","json","catch","error","status","statusText","Clipboard","_Module3","_super5","_this12","pasteParser","pasteAction","customSelection","rowRange","blocked","_this13","clipboard","clipboardCopyRowRange","plain","html","preventDefault","clipboardCopyFormatter","export","generateExportList","clipboardCopyConfig","clipboardCopyStyled","generateHTMLTable","generatePlainContent","clipboardData","setData","originalEvent","dispatchExternal","reset","paste","setPasteParser","clipboardPasteParser","setPasteAction","clipboardPasteAction","rowData","columns","col","getKey","range","internal","sel","textRange","getSelection","createRange","selectNodeContents","toString","removeAllRanges","addRange","selection","createTextRange","moveToElementText","select","execCommand","action","pasteActions","parser","pasteParsers","rows","checkPaseOrigin","getPasteData","modExists","mutateData","_this14","mutator","valid","target","tagName","edit","currentCell","getData","replace","update","updateOrAddData","insert","addData","headerFindSuccess","columnMap","split","find","title","trim","field","columnsByIndex","shift","CalcComponent","_row","Proxy","receiver","handle","transform","getElement","cells","getCells","cell","getCell","CellComponent","_cell","getValue","getOldValue","initialValue","getField","mutate","setValue","setValueActual","checkHeight","Cell","_CoreFeature3","_super6","_this15","oldValue","height","width","minWidth","loaded","build","generateElement","setWidth","_configureCell","createElement","className","setAttribute","textAlign","hozAlign","vertAlign","display","alignItems","bottom","middle","justifyContent","center","cssClass","val","_this16","innerHTML","Node","firstChild","containerOnly","layoutElement","setValueProcessData","cellRendered","cellEdited","subscribedExternal","changed","_generateContents","widthStyled","minWidthStyled","maxWidth","maxWidthStyled","reinitializeHeight","heightStyled","redrawBlock","deleteCell","calcs","getCellIndex","ColumnComponent","_column","getDefinition","getTitleDownload","isGroup","show","delete","Column","scrollToColumn","to","after","toColumn","findColumn","moveColumn","nextCol","nextColumn","prevCol","prevColumn","updates","updateDefinition","getWidth","result","reinitializeWidth","rerenderColumns","defaultColumnOptions","_CoreFeature4","_super7","def","_this17","contentElement","titleHolderElement","titleElement","groupElement","createGroupElement","fieldStructure","titleDownload","titleFormatterRendered","mapDefinitions","setField","maxInitialWidth","widthFixed","newCol","attachColumn","checkColumnVisibility","registerColumnField","_initialize","columnHeaderVertAlign","defaults","columnDefaults","generate","defaultOptionList","_this18","indexOf","nestedFieldSeparator","_getNestedData","_getFlatData","_setNestedData","_setFlatData","registerColumnPosition","reRegisterPosition","headerVertical","_buildColumnHeaderContent","_buildGroupHeader","_buildColumnHeader","_this19","setMinWidth","setMaxWidth","headerHozAlign","_buildColumnHeaderTitle","_this20","headerWordWrap","editableTitle","focus","langBind","text","_formatColumnHeaderTitle","contents","_this21","dataObj","structure","columnRendered","alignment","parentHeight","getGroupElement","clientHeight","getHeadersElement","minHeight","verticalAlign","paddingTop","clearVerticalAlign","getFirstColumn","getLastColumn","getColumns","getTopColumn","updateBranches","colDefs","responsiveToggle","verticalAlignHeaders","matchChildWidths","childWidth","child","splice","setWidthActual","isNaN","floor","clientWidth","min","heightInitialized","offsetParent","clearCellHeight","calcHeight","setCellHeight","offsetLeft","getLeftOffset","ceil","_this22","cellCount","deregisterColumn","findColumnIndex","_nextVisibleColumn","getColumnByIndex","_prevVisibleColumn","fitToData","clearWidth","setTo","_this23","addColumn","RowComponent","getPosition","watchPosition","scrollToRow","moveToRow","updateData","normalizeHeight","reinitialize","nextRow","prevRow","Row","_CoreFeature5","_super8","_this24","manualHeight","outerHeight","initialized","positionWatchers","created","create","generateCells","deleteCells","renderer","renderRowCells","rowFormatter","rerenderRowCells","children","initialize","maxHeight","rowHeight","resizableRows","getHeight","setHeight","clearHeight","updatedData","newRowData","_this25","elVisible","tempData","attrname","parse","getColumnsByFieldRoot","findCell","nextDisplayRow","prevDisplayRow","before","toRow","findRow","moveRowActual","deleteActual","blockRedraw","detachModules","deleteRow","isDisplayed","_this26","group","defaultCalculations","values","calcParams","precision","reduce","sum","Number","toFixed","parseFloat","String","ColumnCalcs","_Module4","_super9","_this27","topCalcs","botCalcs","genColumn","topElement","botElement","topRow","botRow","topInitialized","botInitialized","recalcAfterBlock","cellValueChanged","initializeColumnCheck","rowsUpdated","scrollHorizontal","recalcActiveRows","recalcActiveRowsRefresh","tableRedraw","visibleRows","adjustForScrollbar","restoreRedraw","resizeHolderWidth","getResults","userRecalc","headersElement","recalc","redraw","viewable","groupBy","recalcRowGroup","dataTreeStartExpanded","dataTree","recalcAll","topCalc","bottomCalc","columnCalcs","topCalcParams","botCalcParams","bottomCalcParams","calculations","initializeTopRow","botCalc","initializeBottomRow","footerRemove","adjustTableSize","getContentsElement","insertBefore","nextSibling","footerPrepend","scrollLeft","blockCheck","rowsToData","generateRow","frozenColumns","recalcGroup","groupRows","getRowGroup","_this28","getChildGroups","generateRowData","_this29","dataTreeChildColumnCalcs","open","getFilteredTreeChildren","pos","_this30","disable","enable","format","formatter","getFormatter","paramKey","_this31","results","getGroups","getGroupResults","_this32","groupObj","_getSelf","subGroups","getSubGroups","subGroupResults","subgroup","groups","rtl","paddingLeft","paddingRight","DataTree","_Module5","_super10","_this33","indent","collapseEl","expandEl","branchEl","elementField","startOpen","registerComponentFunction","collapseRow","expandRow","toggleRow","getTreeParent","getRowChildren","addTreeChildRow","isRowExpanded","dummyEl","dataTreeChildField","dataTreeChildIndent","dataTreeBranchElement","dataTreeCollapseElement","tabIndex","dataTreeExpandElement","initializeRow","layoutRow","rowDelete","rowDataChanged","columnMoving","initializeElementField","tableRedrawing","registerDisplayHandler","getRows","_this34","reinitializeRowChildren","firstCol","getFirstVisibleColumn","dataTreeElementColumn","getTreeChildren","_this35","redrawNeeded","refreshData","childArray","controlEl","generateControlElement","cloneNode","marginRight","marginLeft","getComputedStyle","getPropertyValue","_this36","oldControl","replaceChild","_this37","getChildren","allChildren","_this38","generateChildren","dataTreeFilter","filter","dataTreeSort","sort","sub","_this39","childData","childRow","getTreeParentRoot","childIndex","findChildIndex","_this40","recurse","_this41","defaultDownloaders","csv","setFileContents","delimiter","fileContents","depth","bom","jsonLines","pdf","header","autoTableParams","rowGroupStyles","fontStyle","fontSize","cellPadding","fillColor","rowCalcStyles","jsPDFParams","jsPDF","parseRow","styles","colSpan","rowSpan","orientation","unit","doc","jspdf","autoTable","didDrawPage","head","documentProcessing","xlsx","sheetName","workbook","XLSX","utils","book_new","tableFeatures","compression","compress","generateSheet","merges","worksheet","s","c","r","a","b","j","Date","sheet_add_aoa","encode_range","SheetNames","Sheets","sheetOnly","sheets","sheet","commsSend","active","intercept","buf","ArrayBuffer","view","Uint8Array","charCodeAt","s2ab","write","bookType","bookSST","Download","_Module6","_super11","_this42","mimeType","Blob","deprecatedOptionsCheck","download","downloadToTab","deprecationCheck","filename","interceptCallback","downloadFunc","downloaders","mime","triggerDownload","downloadConfig","downloadRowRange","groupHeader","groupHeaderDownload","_group","getRowCount","newTab","blob","downloadEncoder","URL","createObjectURL","navigator","msSaveOrOpenBlob","click","maskInput","mask","maskLetter","maskLetterChar","maskNumber","maskNumberChar","maskWildcard","maskWildcardChar","fillSymbols","symbol","char","ctrlKey","metaKey","maskAutoFill","placeholder","Edit","editor","onRendered","success","cancel","editorParams","_initializeParams","displayItems","currentItems","focusedItem","input","_createInputElement","listEl","_createListElement","initialValues","isFilter","filterTimeout","filtered","typing","popup","listIteration","lastAction","filterTerm","actions","_deprecatedOptionsCheck","_initializeValue","_onRendered","listItemFormatter","getTable","sortValuesList","searchFunc","searchingPlaceholder","defaultValue","multiselect","headerFilterInitialListGen","cellEl","clickStop","preventScroll","_preventPopupBlur","_preventBlur","_inputKeyDown","attribs","elementAttributes","clearable","padding","boxSizing","autocomplete","cursor","caretColor","getAttribute","_bindInputEvents","valueCheck","valueKeys","verticalNavigation","placeholderLoading","placeholderEmpty","filterDelay","emptyValue","freetext","filterFunc","filterRemote","allowEmpty","listOnEmpty","valuesLookup","valuesURL","_inputFocus","_inputClick","_inputBlur","_inputSearch","_inputKeyUp","rebuildOptionsList","_this43","clearTimeout","_filterList","_resolveValue","_clearChoices","_keyUp","_keyDown","_keySide","_keyEnter","_keyEsc","_keyHomeEnd","_keySelectLetter","_keyAutoCompLetter","_this44","blockHide","restoreHide","_this45","stopImmediatePropagation","_focusItem","_chooseItem","_cancel","_scrollToValue","_filter","_this46","character","fromCharCode","label","startsWith","scrollIntoView","behavior","block","inline","_generateOptions","_sortOptions","_buildList","_showList","isInteger","_filterOptions","_this47","iteration","_ajaxRequest","_uniqueColumnValues","valuesLookupField","_addPlaceholder","responseValues","_parseList","_clearList","term","getColumnByField","getColumn","inputValues","_this48","entries","map","_ref","_ref2","_slicedToArray","_parseListItem","option","level","_parseListGroup","itemParams","selected","original","_this49","sorter","_defaultSortFunction","_sortGroup","_this50","as","bs","a1","b1","L","rx","rd","emptyAlign","_ref3","isFinite","test","_this51","_defaultFilterFunc","_filterItem","_this52","matches","_this53","_buildItem","_this54","itemFormatter","_groupClick","_itemClick","_styleItem","_this55","startVis","isVisible","_setListWidth","hideOnBlur","_this56","blur","defaultEditors","cellValue","search","onChange","selectContents","textarea","vertNav","whiteSpace","resize","getRow","heightNow","shiftKey","shiftEnterSubmit","selectionStart","number","step","blurFunc","date","inputFormat","DT","DateTime","luxon","convertDate","isDateTime","fromISO","fromFormat","toFormat","luxDate","toISO","relatedTarget","rangeParent","explicitOriginalTarget","time","newDatetime","luxTime","datetime","luxDateTime","deprecationMsg","star","self","maxStars","getElementsByTagName","size","stars","starsHolder","createElementNS","starChange","browser","buildStar","starHolder","nextStar","changeValue","overflow","textOverflow","progress","mouseDrag","mouseDragWidth","percent","bar","updateValue","calcVal","round","backgroundColor","screenX","tickCross","tristate","indetermValue","indeterminateValue","indetermState","trueValueSet","falseValueSet","marginTop","checkedValue","checked","trueValue","falseValue","indeterminate","Edit$1","_Module7","_super12","_this57","mouseClick","recursionBlock","invalidEdit","editedCells","editors","getEditedCells","clearCellEdited","navigatePrev","navigateNext","navigateLeft","navigateRight","navigateUp","navigateDown","cellIsEdited","clearEdited","editCell","cellCancelEdit","bindEditor","updateCellClass","columnDeleteCheck","rowDeleteCheck","rowEditableCheck","cancelEdit","keybindingNavigateNext","newRow","addRow","edited","allowEdit","_this58","nextCell","findPrevEditableCell","findNextEditableCell","getIndex","prevCell","_this59","editable","clearEditor","variableHeight","cellEditCancelled","contains","button","forceEdit","focusCellNoEvent","getRenderMode","topEdge","bottomEdge","rowEl","offsetTop","leftEdge","rightEdge","leftMargin","rightMargin","renderHorizontal","vDomPadLeft","cellEditor","rendered","focusScrollAdjust","cellClick","cellEditing","validationMode","editIndex","ExportRow","ExportColumn","Export","_Module8","_super13","_this60","cloneTableStyle","colVisProp","getHtml","columnHeaders","headersToExportRows","generateColumnGroupHeaders","bodyToExportRows","rowLookup","generateTableElement","_this61","getVisibleRows","selectRow","selectedRows","pagination","_this62","columnGroups","colData","processColumnGroup","_this63","maxDepth","groupData","subGroup","subGroupData","columnVisCheck","visProp","headerDepth","exportRows","parseColumnGroup","_this64","rowGroups","exportCols","_this65","headerEl","bodyEl","lookupTableStyles","setup","treeElementField","mapElementStyles","generateHeaderElement","generateGroupElement","generateCalcElement","generateRowElement","evenRow","oddRow","calcRow","firstRow","firstGroup","getElementsByClassName","styleCells","firstCell","lastCell","_this66","classNames","_this67","cellStyle","cellWrapper","formatCells","formatExportValue","align","holder","htmlOutputConfig","from","lookup","fromStyle","prop","defaultFilters","filterVal","rowVal","filterParams","RegExp","keywords","separator","keyword","matchAll","endsWith","Filter","_Module9","_super14","_this68","filterList","headerFilters","headerFilterColumns","prevHeaderFilterChangeCheck","tableInitialized","searchRows","searchData","userSetFilter","userRefreshFilter","userAddFilter","getFilters","userSetHeaderFilterFocus","userGetHeaderFilterValue","userSetHeaderFilterValue","getHeaderFilters","userRemoveFilter","userClearFilter","userClearHeaderFilter","setHeaderFilterFocus","reloadHeaderFilter","getHeaderFilterValue","setHeaderFilterValue","initializeColumnHeaderFilter","hideHeaderFilterElements","showHeaderFilterElements","tableBuilt","filterMode","remoteFilterParams","registerDataHandler","_this69","initialFilter","setFilter","initialHeaderFilter","refreshFilter","addFilter","removeFilter","all","clearFilter","clearHeaderFilter","headerFilter","filterType","tagType","attrType","filterChangeCheck","prevSuccess","emptyFunc","headerFilterFunc","filters","headerFilterFuncParams","fieldVal","colVal","trackChanges","generateHeaderFilterElement","filterElement","editorElement","typingTimer","searchTrigger","onRenderedCallback","_this70","headerElement","headerFilterEmptyCheck","headerFilterParams","headerFilterPlaceholder","langText","contentsElement","headerFilterLiveFilterDelay","hasAttribute","headerFilterLiveFilter","reloadData","_this71","findFilter","findSubFilters","_this72","ajax","filtersToArray","_this73","_this74","_this75","searchType","_this76","filterRecurse","rowList","_this77","activeRowComponents","filterRow","_this78","_this79","subFilter","defaultFormatters","plaintext","formatterParams","emptyToSpace","sanitizeHTML","money","integer","decimal","rgx","floatVal","sign","decimalSym","thousandSym","thousand","negativeSign","symbolAfter","abs","link","urlPrefix","labelField","labelTraverse","path","urlField","image","src","urlSuffix","empty","truthy","allowTruthy","tick","tickElement","cross","crossElement","outputFormat","invalid","invalidPlaceholder","isValid","timezone","setZone","datetimediff","suffix","humanize","now","diff","toHuman","traffic","percentValue","colors","color","legend","legendColor","legendAlign","barEl","barContainer","legendEl","holderEl","buttonTick","buttonCross","rownum","innerText","responsiveCollapse","responsiveLayout","toggleList","isOpen","rowSelection","_this80","checkbox","selectableRangeMode","toggleSelect","handleComplexRowClick","isSelected","registerRowSelectCheckbox","deselectRow","registerHeaderSelectCheckbox","Format","_Module10","_super15","_this81","formatValue","formatHeader","lookupFormatter","formatterPrint","print","formatterClipboard","formatterHtmlOutput","htmlOutput","formatters","mockCell","_this82","titleFormatter","titleFormatterParams","entityMap","FrozenColumns","_Module11","_super16","_this83","leftColumns","rightColumns","initializationMode","layoutCell","reinitializeColumns","blockLayout","unblockLayout","_this84","margin","edge","frozenCheck","frozen","layoutGroupCalcs","_this85","groupList","allCells","_this86","leftParents","marginValue","getColGroupParentElement","layoutColumnPosition","reinitializeRows","layoutCalcRows","_this87","deinitialize","_this88","getTableElement","FrozenRows","_Module12","_super17","_this89","freezeRow","unfreezeRow","isRowFrozen","detachRow","frozenRows","initializeRows","_this90","rowType","styleRows","_this91","styleRow","GroupComponent","groupManager","toggleVisibility","Group","oldGroup","hasSubGroups","groupIDLookups","_addRowToGroup","_addRow","old","elementContents","arrowElement","createElements","addBindings","createValueGroups","elementsOnly","wipe","arrow","movableRows","moveRow","initializeGroupHeader","_this92","allowedValues","_createGroup","_this93","groupToggleElement","groupID","groupKey","headerGenerator","conformRowData","toIndex","updateGroupRows","scrollHeader","groupValues","generateGroupHeaderContents","removeGroup","_visSet","detachElement","getHeadersAndRows","hasTopCalcs","generateTopRow","hasBottomCalcs","generateBottomRow","groupClosedShowCalcs","count","prev","getPath","childNodes","GroupRows","_Module13","_super18","_this94","displayHandler","setGroupBy","setGroupValues","setGroupStartOpen","setGroupHeader","userGetGroups","userGetGroupedData","rowGetGroup","_blockRedrawing","_restore_redrawing","groupUpdateOnCellEdit","cellUpdated","reassignRowToGroup","configureGroupSetup","rowDeleting","scrollHeaders","rowMoving","rowAddingIndex","rowSample","virtualRenderFill","_this95","groupStartOpen","langValue","lang","items","removeCalcs","getRealColumns","lookupFunc","prevValue","tableElement","assignRowToGroup","moveRowInArray","reinitializeCalcs","getGroupedData","toGroup","fromGroup","removeRow","insertRow","generateGroups","groupComponents","_this96","_this97","groupListData","pullGroupListData","rowCount","headerContent","_this98","oldGroups","createGroup","assignRowToExistingGroup","newGroupNeeded","oldRowGroup","oldGroupPath","newGroupPath","getExpectedPath","every","groupPath","groupId","_this99","onlyGroupHeaders","History","_Module14","_super19","_this100","history","clearComponentHistory","rowDeleted","rowAdded","rowMoved","undo","redo","getHistoryUndoSize","getHistoryRedoSize","posFrom","posTo","getGroup","getRowIndex","newValue","undoers","redoers","oldRow","cellEdit","rowAdd","addRowActual","_rebindRow","rowMove","HtmlTableImport","_Module15","_super20","_this101","fieldIndex","hasIndex","tableElementCheck","originalElement","parseTable","_extractOptions","_extractHeaders","_generateBlankHeaders","defaultOptions","attributes","optionsArr","attrib","_attribValue","exists","_findCol","textContent","registeredDefaults","defaultImporters","inQuote","nextChar","array","Import","_Module16","_super21","_this102","importFromFile","importFormat","loadDataCheck","loadData","importData","lookupImporter","structureData","err","importer","importers","extension","pickFile","extensions","_this103","accept","file","files","reader","FileReader","importReader","readAsArrayBuffer","readAsBinaryString","readAsDataURL","readAsText","onload","onerror","parsedData","autoColumns","structureArrayToObject","structureArrayToColumns","Interaction","_Module17","_super22","_this104","eventMap","rowClick","rowDblClick","rowContext","rowMouseEnter","rowMouseLeave","rowMouseOver","rowMouseOut","rowMouseMove","rowMouseDown","rowMouseUp","rowTap","rowDblTap","rowTapHold","cellDblClick","cellContext","cellMouseEnter","cellMouseLeave","cellMouseOver","cellMouseOut","cellMouseMove","cellMouseDown","cellMouseUp","cellTap","cellDblTap","cellTapHold","headerClick","headerDblClick","headerContext","headerMouseEnter","headerMouseLeave","headerMouseOver","headerMouseOut","headerMouseMove","headerMouseDown","headerMouseUp","headerTap","headerDblTap","headerTapHold","groupClick","groupDblClick","groupContext","groupMouseEnter","groupMouseLeave","groupMouseOver","groupMouseOut","groupMouseMove","groupMouseDown","groupMouseUp","groupTap","groupDblTap","groupTapHold","subscribers","touchSubscribers","columnSubscribers","touchWatchers","tap","tapDbl","tapHold","initializeExternalEvents","cellContentsSelectionFixer","selectNode","subscriptionChangeExternal","subscriptionChanged","added","subscribeTouchEvents","unsubscribeTouchEvents","handleTouch","noTouch","dispatchEvent","_this105","watchers","componentObj","Keybindings","_Module18","_super23","_this106","watchKeys","pressedKeys","keyupBinding","keydownBinding","bindings","keybindings","mergedBindings","mapBindings","bindEvents","clearBindings","_this107","_loop2","binding","mapBinding","symbolsList","_this108","ctrl","meta","code","checkBinding","_this109","navPrev","navNext","navUp","navDown","scrollPageUp","scrollPageDown","scrollToStart","scrollToEnd","copyToClipboard","keyBlock","newPos","displayRowsCount","scrollMax","navLeft","navRight","Menu","_Module19","_super24","_this110","nestedMenuBlock","currentComponent","rootPopup","initializeRowWatchers","initializeGroupWatchers","rowContextMenu","loadMenuEvent","on","rowClickMenu","rowDblClickMenu","groupContextMenu","groupClickMenu","groupDblClickMenu","headerContextMenu","loadMenuTableColumnEvent","headerClickMenu","headerDblClickMenu","headerMenu","initializeColumnHeaderMenu","contextMenu","loadMenuTableCellEvent","clickMenu","dblClickMenu","headerMenuEl","_this111","icon","headerMenuIcon","menu","loadMenu","parentPopup","_this112","itemEl","disabled","MoveColumns","_Module20","_super25","_this113","placeholderElement","createPlaceholderElement","hoverElement","checkTimeout","checkPeriod","moving","toCol","toColAfter","startX","autoScrollMargin","autoScrollStep","autoScrollTimeout","touchMove","moveHover","endMove","movableColumns","colEl","mousemove","which","startMove","bindTouchEvents","nextColWidth","prevColWidth","nextColWidthLast","prevColWidthLast","_this114","startXMove","passive","moveToCol","_bindMouseMove","movingCells","_unbindMouseMove","moveColumnActual","scrollPos","_this115","columnHolder","xPos","MoveRows","_Module21","_super26","_this116","toRowAfter","hasHandle","startY","tableRowDropEvent","connection","connectionSelectorsTables","connectionSelectorsElements","connectionElements","connections","connectedTable","connectedRow","movableRowsConnectedTables","movableRowsConnectedElements","initializeCell","mouseup","tableRowDrop","previousSibling","rowHandle","nextRowHeight","prevRowHeight","nextRowHeightLast","prevRowHeightLast","_this117","startYMove","setStartPosition","connectToTables","pointerEvents","disconnectFromTables","moveHoverConnections","moveHoverTable","rowHolder","yPos","connectionTables","_this118","commsConnections","query","prototype","querySelectorAll","dropEvent","elementRowDrop","tabulatorElementDropEvent","sender","movableRowsSender","senders","movableRowsReceiver","receivers","connect","disconnect","dropComplete","fromRow","fromTable","toTable","Mutator","_Module22","_super27","_this119","enabled","transformCell","mutateLink","_this120","lookupMutator","mutators","mutatorEdit","links","linkCell","defaultPageCounters","pageSize","currentRow","currentPage","totalRows","totalPages","showingEl","valueEl","ofEl","totalEl","rowsEl","pages","Page","_Module23","_super28","_this121","progressiveLoad","pageCounterElement","pageCounter","page","remoteRowCountEstimate","initialLoad","dataChanging","pageSizes","setMaxPage","setPage","userSetPageToRow","userSetPageSize","getPageSize","previousPage","nextPage","getPage","getPageMax","setPageToRow","initialLoadComplete","calculatePageSizes","footerRedraw","paginationAddRow","rowAddingPosition","paginationMode","remotePageParams","_parseRemoteData","restOnRenderBefore","initializePageCounter","initializePaginator","initializeProgressive","scrollVertical","testElRow","testElCell","paginationSize","visibility","generatePageSizeSelectList","setPageSize","dir","loading","progressiveLoadScrollMargin","pagesElement","firstBut","prevBut","nextBut","lastBut","paginationSizeSelector","pageSizeSelect","_this122","counter","paginationCounter","pageCounters","hidden","pageSelectLabel","paginationCounterHolder","_this123","paginationElement","paginationCounterElement","footerAppend","paginationInitialPage","paginationButtonCount","trigger","leftSize","rightSize","_generatePageButton","_this124","start","end","actualStartRow","actualRowPageSize","actualRows","setMaxRows","_setPageButtons","_setPageCounter","_this125","finally","_this126","last_page","last_row","addRows","progressiveLoadDelay","footer","containerElement","scrollWidth","defaultReaders","local","id","localStorage","getItem","cookie","cookiePos","defaultWriters","setItem","expireDate","setDate","getDate","toUTCString","Persistence","_Module24","_super29","_this127","defWatcherBlock","readFunc","writeFunc","testKey","removeItem","persistence","retrievedData","persistenceMode","persistenceID","localStorageTest","persistenceReaderFunc","readers","persistenceWriterFunc","writers","retrieveData","save","eventSave","getColumnLayout","setColumnLayout","sorters","initialSort","parseColumns","setColumns","mergeDefinition","_this128","getOwnPropertyDescriptor","set","current","oldCols","newCols","_this129","_findColumn","validateSorters","getSort","getGroupConfig","getPageConfig","_this130","definitions","excludedKeys","defStore","colDef","moduleInitOrder","Popup$1","_Module25","_super30","_this131","_componentPopupCall","loadPopupEvent","rowContextPopup","rowClickPopup","rowDblClickPopup","groupContextPopup","groupClickPopup","groupDblClickPopup","headerContextPopup","loadPopupTableColumnEvent","headerClickPopup","headerDblClickPopup","headerPopup","initializeColumnHeaderPopup","contextPopup","loadPopupTableCellEvent","clickPopup","dblClickPopup","headerPopupEl","_this132","headerPopupIcon","loadPopup","contentsEl","_this133","renderCallback","Print","_Module26","_super31","_this134","manualBlock","beforeprintEventHandler","afterprintEventHandler","printAsHtml","replaceTable","cleanup","destroy","printFullscreen","generateTable","printConfig","printStyled","printRowRange","footerContent","scrollX","scrollY","footerEl","tableEl","printHeader","printFooter","printFormatter","scrollTo","ReactiveData","_Module27","_super32","_this135","origFuncs","currentVersion","reactiveData","unblock","watchRow","watchData","unwatchData","version","configurable","args","arg","getRowFromDataObject","pop","startRow","newRows","reverse","oldRows","reRenderInPosition","writable","watchKey","watchTreeChildren","_arguments","_this136","childField","rebuildTree","ResizeColumns","_Module28","_super33","_this137","startColumn","startWidth","latestX","initialNextColumn","layoutColumnHeader","layoutCellHandles","deInitializeComponent","resizeHandle","columnLayoutUpdated","deInitializeColumn","columnWidthUpdated","resizable","initializeEventWatchers","reinitializeColumn","_this138","frozenOffset","frozenColumnOffset","handleEl","nearestColumn","_checkResizability","handleDown","_mouseDown","oldWidth","_this139","parentElement","mouseMove","blockedBefore","blockedAfter","startDiff","moveDiff","resizableColumnFit","colWidth","browserSlow","checkCellHeights","mouseUp","ResizeRows","_Module29","_super34","_this140","startHeight","prevHandle","prevHandleDown","screenY","ResizeTable","_Module30","_super35","_this141","visibilityObserver","resizeObserver","containerObserver","tableHeight","tableWidth","containerHeight","containerWidth","autoResize","initialRedraw","_this142","tableStyle","IntersectionObserver","ResizeObserver","initializeVisibilityObserver","entry","browserMobile","nodeHeight","contentRect","nodeWidth","redrawTable","observe","fixedHeight","tableResized","_this143","isIntersecting","unobserve","ResponsiveLayout","_Module31","_super36","_this144","hiddenColumns","collapseFormatter","collapseStartOpen","collapseHandleColumn","updateColumnVisibility","initializeResponsivity","generateCollapsedRowContent","layoutMode","_this145","responsiveLayoutCollapseFormatter","formatCollapsedData","responsiveLayoutCollapseStartOpen","responsive","order","generateCollapsedContent","_step","_iterator","_createForOfIteratorHelper","n","done","f","colCount","working","getFlexBaseWidth","headerVisible","hideColumn","showColumn","activeRowsCount","renderEmptyScroll","_this146","generateCollapsedRowData","mockCellComponent","_this147","responsiveLayoutCollapseUseFormatters","node_content","titleData","valueData","titleHighlight","SelectRow","_Module32","_super37","_this148","selecting","lastClickedRow","selectPrev","headerCheckboxElement","selectRows","deselectRows","getSelectedRows","getSelectedData","isRowSelected","selectable","clearSelectionData","rowRetrieve","selectablePersistence","_deselectRow","prevSelected","_rowSelectionChanged","endSelect","checkRowSelectability","getCurrentCell","_clearSelection","_this149","lastClickedRowIdx","getDisplayRowIndex","rowIdx","fromRowIdx","toRowIdx","toggledRows","toggledRow","selectableCheck","_selectRow","rowMatch","_this150","rowInfo","selectableRollingSelection","checkboxEl","dataTreeSelectPropagate","childRowSelection","selectedRow","_step2","_iterator2","_step3","_iterator3","datetime$2","aRow","bRow","alignEmptyValues","defaultSorters","decimalSeparator","thousandSeparator","string","locale","langLocale","localeCompare","boolean","calc","d","alphanum","Sort","_Module33","_super38","_this151","sortList","userSetSort","clearSort","sortMode","remoteSortParams","setSort","refreshSort","arrowEl","_this152","sorterParams","startingDir","headerSortStartingDir","headerSortTristate","headerSort","headerSortClickElement","headerSortElement","setColumnHeaderSortIcon","columnHeaderSortMulti","newSortList","sortOrderReverse","sortListActual","rowComponents","clearColumnHeaders","sortObj","findSorter","setColumnHeader","_sortItems","_this153","sortEl","_this154","sorterCount","sortItem","_sortRow","el1Comp","el2Comp","el1","el2","Tooltip","_Module34","_super39","_this155","tooltipSubscriber","headerSubscriber","timeout","popupInstance","deprecationCheckMsg","headerTooltip","mousemoveCheck","mouseoutCheck","tooltip","clearPopup","loadTooltip","tooltipDelay","_this156","defaultValidators","parameters","float","numeric","starts","ends","minLength","maxLength","in","regex","unique","cellData","required","Validate","_Module35","_super40","_this157","invalidCells","getInvalidCells","userClearCellValidation","userValidate","cellIsValid","clearValidation","cellValidate","columnValidate","rowValidate","editValidate","editorClear","editedClear","previousValue","_this158","validate","cancelled","_this159","_this160","_this161","_extractValidator","substring","_buildValidator","validators","failedValidators","invalidIndex","OptionsList","msgType","userOptions","debugInvalidOptions","hasOwnProperty","Renderer","_CoreFeature6","_super41","_this162","elementVertical","elementHorizontal","verticalFillMode","includingBuffer","clearRows","clearColumns","renderRows","renderColumns","rerenderRows","ifVisible","_this163","rowIndex","scrollToRowIfVisible","scrollToRowPosition","scrollToRowNearestTop","BasicHorizontal","_Renderer","_super42","VirtualDomHorizontal","_Renderer2","_super43","_this164","leftCol","rightCol","vDomScrollPosLeft","vDomScrollPosRight","vDomPadRight","fitDataColAvg","windowBuffer","isFitData","compatibilityCheck","layoutCheck","vertScrollListen","clearVisRowCache","dataChange","scroll","buffer","_this165","cols","colPos","calcWindowBuffer","leftPos","rightPos","fitDataCheck","vdomHoz","reinitChanged","reinitializeRow","_this166","change","colEnd","layoutRefresh","_this167","_this168","otherRows","addColRight","removeColLeft","addColLeft","removeColRight","_this169","changes","_loop3","fitDataColActualWidthCheck","_this170","_loop4","_this171","_loop5","ex","message","_this172","_loop6","newWidth","widthDiff","colPositionAdjust","_this173","appendCell","ColumnManager","_CoreFeature7","_super44","_this174","blockHozScrollEvent","columnsByField","redrawBlockUpdate","initializeRenderer","createHeadersElement","createHeaderContentsElement","createHeaderElement","padVerticalScrollbar","renderClass","renderers","scrollColumns","autoColumnsDefinitions","_this175","_addColumn","_reIndexColumns","nextToColumn","topColumn","parentIndex","nextEl","_this176","root","_this177","structured","_moveColumnInArray","getComponents","updateRows","fromIndex","_this178","scrollToColumnPosition","scrollToColumnIfVisible","generateCell","totalWidth","fixedWidth","_this179","resetScroll","BasicVertical","_Renderer3","_super45","_this180","_this181","rowTop","VirtualDomVertical","_Renderer4","_super46","_this182","vDomRowHeight","vDomTop","vDomBottom","vDomScrollPosTop","vDomScrollPosBottom","vDomTopPad","vDomBottomPad","vDomMaxRenderChain","vDomWindowBuffer","vDomWindowMinTotalRows","vDomWindowMinMarginRows","vDomTopNewRows","vDomBottomNewRows","paddingBottom","_virtualRenderFill","topOffset","deinitializeHeight","tableEmpty","topDiff","bottomDiff","_addTopRow","vDomScrollHeight","_removeBottomRow","_addBottomRow","_removeTopRow","renderVerticalBuffer","topFound","bottomRow","forceMove","topPad","rowsHeight","heightOccupied","topPadHeight","rowsCount","fillableSpace","addedRows","paddingAdjust","_i2","_addedRows","_quickNormalizeRowHeight","removableRows","_i3","_removableRows","_i4","_addedRows2","_i5","_removableRows2","_step4","_iterator4","_step5","_iterator5","RowManager","_CoreFeature8","_super47","_this183","createHolderElement","createTableElement","heightFixer","placeholderContents","firstRender","renderMode","activeRowsPipeline","redrawBlockRestoreConfig","redrawBlockRenderInPosition","dataPipeline","scrollbarWidth","_this184","initializePlaceholder","leftDir","topDir","_positionPlaceholder","scrollRows","_this185","_this186","_setDataActual","generateColumnsFromRowData","_this187","_wipeElements","allIndex","activeIndex","setActiveRows","displayRowIterator","displayIndex","regenerateRowPositions","refreshDisplayOnly","_this188","findAddRowPos","_clearPlaceholder","addRowPos","chainResult","_this189","findRowIndex","rowOnly","skipStage","stage","cascadeOrder","refreshPipelines","renderTable","layoutColumnsOnNewData","resetDisplayRows","setDisplayRows","setPosition","scrollBarCheck","renderVertical","_clearTable","_showPlaceholder","initialHeight","otherHeight","external","event","createEvent","initEvent","Event","FooterManager","_CoreFeature9","_super48","_this190","createContainerElement","initializeElement","footerElement","activate","deactivate","InteractionManager","_CoreFeature10","_super49","_this191","abortClasses","previousTargets","listeners","componentMap","pseudoTrackers","subscriber","pseudoTracking","buildListenerMap","bindSubscriptionWatchers","listenerMap","listener","components","_this192","pseudoMouseEnter","pseudoMouseLeave","_this193","leaveList","linkedKeys","_i7","_components","_step6","comp","_iterator6","clearWatchers","bindPseudoEvents","updateEventListeners","track","composedPath","targets","findTargets","bindComponents","triggerEvents","_step7","_this194","_iterator7","_toConsumableArray","_step8","elTargets","_iterator8","_step9","_this195","targetMatches","_iterator9","_loop7","previousTarget","closest","ComponentFunctionBinder","funcName","debugInvalidComponentFuncs","DataLoader","_CoreFeature11","_super50","_this196","requestOrder","_this197","requestNo","alertLoader","mapParams","dataSendParams","objectInvert","dataReceiveParams","clearAlert","alertError","dataLoaderErrorTimeout","dataLoaderLoading","dataLoaderError","ExternalEventBus","debug","events","subscriptionNotifiers","_debugDispatch","_dispatch","_notifySubscriptionChange","notifiers","_this198","callResult","_console","log","InternalEventBus","_debugChain","_chain","_debugConfirm","_confirm","fallback","_this199","_this200","confirmed","_this201","_console2","_console3","_console4","DeprecationAdvisor","_CoreFeature12","_super51","_console5","_warnUser","TableRegistry","tables","matchElement","Tabulator","lookupTable","fitDataGeneral","forced","defaultModes","fitData","reinitializeColumnWidths","fitDataFill","fitDataTable","fitDataStretch","_this202","colsWidth","gap","lastCol","fitColumns","flexColWidth","overflowWidth","flexWidth","flexGrowUnits","flexColumns","fixedShrinkColumns","flexShrinkUnits","gapFill","calcWidth","scaleColumns","freeSpace","shrinkCols","oversizeCols","oversizeSpace","remainingSpace","remainingFlexGrowUnits","changeUnits","undersizeCols","calcGrow","widthGrow","calcShrink","widthShrink","Layout","_Module36","_super52","_this203","modes","dataChanged","Localize","_Module37","_super53","_this204","langList","langs","setHeaderFilterPlaceholder","installLang","setLocale","getLang","default","_setLangProp","desiredLocale","language","traverseLang","trans","_executeBindings","pathArray","_getLangElement","rootPath","_this205","_loop8","Comms","_Module38","_super54","receive","selectors","_this206","con","_this207","tableComms","commsReceived","ModuleBinder","tabulator","bindStaticFunctionality","bindModules","coreModules","moduleBindings","extendModule","property","source","registerModule","mod","registerModuleBinding","findTable","orderedStartMods","orderedEndMods","unOrderedMods","moduleCore","modulesCore","modulesRegular","core","mods","Alert","_CoreFeature13","_super55","_this208","_createAlertElement","msgElement","_createMsgElement","_typeClass","_this209","interactionMonitor","initializeCoreSystems","_create","_clearObjectPointers","_mapDeprecatedFunctionality","debugEventsExternal","debugEventsInternal","_rtlCheck","_buildElement","_initializeTable","_loadInitialData","textDirection","direction","newElement","_detectBrowser","deregister","ua","userAgent","vendor","opera","stack","line","debugInitialization","Error","blockActiveLoad","clearData","getDataCount","_this210","responses","_this211","_this212","getRowFromPosition","_this213","foundRows","_step10","_iterator10","getDefinitionTree","fromColumn","_this214","_this$externalEvents","plugin","debugDeprecation","rowFormatterPrint","rowFormatterClipboard","rowFormatterHtmlOutput","TabulatorFull","_Tabulator","_super56","getDialogContentUtilityClass","_excluded","DialogContentRoot","styled","overridesResolver","ownerState","dividers","theme","_extends","flex","WebkitOverflowScrolling","overflowY","borderTop","vars","palette","divider","borderBottom","_defineProperty","DialogContent","React","inProps","ref","useThemeProps","_props$dividers","other","_objectWithoutPropertiesLoose","classes","slots","composeClasses","useUtilityClasses","_jsx","clsx"],"mappings":"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","file":"static/js/3.833b43d5.chunk.js","sourcesContent":["import { unstable_requirePropFactory as requirePropFactory } from '@mui/utils';\nexport default requirePropFactory;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nexport default function requirePropFactory(componentNameInError, Component) {\n  if (process.env.NODE_ENV === 'production') {\n    return () => null;\n  }\n\n  // eslint-disable-next-line react/forbid-foreign-prop-types\n  const prevPropTypes = Component ? _extends({}, Component.propTypes) : null;\n  const requireProp = requiredProp => (props, propName, componentName, location, propFullName, ...args) => {\n    const propFullNameSafe = propFullName || propName;\n    const defaultTypeChecker = prevPropTypes == null ? void 0 : prevPropTypes[propFullNameSafe];\n    if (defaultTypeChecker) {\n      const typeCheckerResult = defaultTypeChecker(props, propName, componentName, location, propFullName, ...args);\n      if (typeCheckerResult) {\n        return typeCheckerResult;\n      }\n    }\n    if (typeof props[propName] !== 'undefined' && !props[requiredProp]) {\n      return new Error(`The prop \\`${propFullNameSafe}\\` of ` + `\\`${componentNameInError}\\` can only be used together with the \\`${requiredProp}\\` prop.`);\n    }\n    return null;\n  };\n  return requireProp;\n}","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function () {\n    return _utils.createSvgIcon;\n  }\n});\nvar _utils = require(\"@mui/material/utils\");","import { unstable_unsupportedProp as unsupportedProp } from '@mui/utils';\nexport default unsupportedProp;","export default function unsupportedProp(props, propName, componentName, location, propFullName) {\n  if (process.env.NODE_ENV === 'production') {\n    return null;\n  }\n  const propFullNameSafe = propFullName || propName;\n  if (typeof props[propName] !== 'undefined') {\n    return new Error(`The prop \\`${propFullNameSafe}\\` is not supported. Please remove it.`);\n  }\n  return null;\n}","import { unstable_deprecatedPropType as deprecatedPropType } from '@mui/utils';\nexport default deprecatedPropType;","export default function deprecatedPropType(validator, reason) {\n  if (process.env.NODE_ENV === 'production') {\n    return () => null;\n  }\n  return (props, propName, componentName, location, propFullName) => {\n    const componentNameSafe = componentName || '<<anonymous>>';\n    const propFullNameSafe = propFullName || propName;\n    if (typeof props[propName] !== 'undefined') {\n      return new Error(`The ${location} \\`${propFullNameSafe}\\` of ` + `\\`${componentNameSafe}\\` is deprecated. ${reason}`);\n    }\n    return null;\n  };\n}","import { unstable_setRef as setRef } from '@mui/utils';\nexport default setRef;","import { unstable_ClassNameGenerator as ClassNameGenerator } from '@mui/base/className';\nexport { default as capitalize } from './capitalize';\nexport { default as createChainedFunction } from './createChainedFunction';\nexport { default as createSvgIcon } from './createSvgIcon';\nexport { default as debounce } from './debounce';\nexport { default as deprecatedPropType } from './deprecatedPropType';\nexport { default as isMuiElement } from './isMuiElement';\nexport { default as ownerDocument } from './ownerDocument';\nexport { default as ownerWindow } from './ownerWindow';\nexport { default as requirePropFactory } from './requirePropFactory';\nexport { default as setRef } from './setRef';\nexport { default as unstable_useEnhancedEffect } from './useEnhancedEffect';\nexport { default as unstable_useId } from './useId';\nexport { default as unsupportedProp } from './unsupportedProp';\nexport { default as useControlled } from './useControlled';\nexport { default as useEventCallback } from './useEventCallback';\nexport { default as useForkRef } from './useForkRef';\nexport { default as useIsFocusVisible } from './useIsFocusVisible';\n// TODO: remove this export once ClassNameGenerator is stable\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport const unstable_ClassNameGenerator = {\n  configure: generator => {\n    if (process.env.NODE_ENV !== 'production') {\n      console.warn(['MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.', '', \"You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead\", '', 'The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401', '', 'The updated documentation: https://mui.com/guides/classname-generator/'].join('\\n'));\n    }\n    ClassNameGenerator.configure(generator);\n  }\n};","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getDialogTitleUtilityClass(slot) {\n  return generateUtilityClass('MuiDialogTitle', slot);\n}\nconst dialogTitleClasses = generateUtilityClasses('MuiDialogTitle', ['root']);\nexport default dialogTitleClasses;","export default class CoreFeature{\n\n\tconstructor(table){\n\t\tthis.table = table;\n\t}\n\n\t//////////////////////////////////////////\n\t/////////////// DataLoad /////////////////\n\t//////////////////////////////////////////\n\n\treloadData(data, silent, columnsChanged){\n\t\treturn this.table.dataLoader.load(data, undefined, undefined, undefined, silent, columnsChanged);\n\t}\n\n\t//////////////////////////////////////////\n\t///////////// Localization ///////////////\n\t//////////////////////////////////////////\n\n\tlangText(){\n\t\treturn this.table.modules.localize.getText(...arguments);\n\t}\n\n\tlangBind(){\n\t\treturn this.table.modules.localize.bind(...arguments);\n\t}\n\n\tlangLocale(){\n\t\treturn this.table.modules.localize.getLocale(...arguments);\n\t}\n\n\n\t//////////////////////////////////////////\n\t////////// Inter Table Comms /////////////\n\t//////////////////////////////////////////\n\n\tcommsConnections(){\n\t\treturn this.table.modules.comms.getConnections(...arguments);\n\t}\n\n\tcommsSend(){\n\t\treturn this.table.modules.comms.send(...arguments);\n\t}\n\n\t//////////////////////////////////////////\n\t//////////////// Layout  /////////////////\n\t//////////////////////////////////////////\n\n\tlayoutMode(){\n\t\treturn this.table.modules.layout.getMode();\n\t}\n\n\tlayoutRefresh(force){\n\t\treturn this.table.modules.layout.layout(force);\n\t}\n\n\n\t//////////////////////////////////////////\n\t/////////////// Event Bus ////////////////\n\t//////////////////////////////////////////\n\n\tsubscribe(){\n\t\treturn this.table.eventBus.subscribe(...arguments);\n\t}\n\n\tunsubscribe(){\n\t\treturn this.table.eventBus.unsubscribe(...arguments);\n\t}\n\n\tsubscribed(key){\n\t\treturn this.table.eventBus.subscribed(key);\n\t}\n\n\tsubscriptionChange(){\n\t\treturn this.table.eventBus.subscriptionChange(...arguments);\n\t}\n\n\tdispatch(){\n\t\treturn this.table.eventBus.dispatch(...arguments);\n\t}\n\n\tchain(){\n\t\treturn this.table.eventBus.chain(...arguments);\n\t}\n\n\tconfirm(){\n\t\treturn this.table.eventBus.confirm(...arguments);\n\t}\n\n\tdispatchExternal(){\n\t\treturn this.table.externalEvents.dispatch(...arguments);\n\t}\n\n\tsubscribedExternal(key){\n\t\treturn this.table.externalEvents.subscribed(key);\n\t}\n\n\tsubscriptionChangeExternal(){\n\t\treturn this.table.externalEvents.subscriptionChange(...arguments);\n\t}\n\n\t//////////////////////////////////////////\n\t//////////////// Options /////////////////\n\t//////////////////////////////////////////\n\n\toptions(key){\n\t\treturn this.table.options[key];\n\t}\n\n\tsetOption(key, value){\n\t\tif(typeof value !== \"undefined\"){\n\t\t\tthis.table.options[key] = value;\n\t\t}\n\n\t\treturn this.table.options[key];\n\t}\n\n\t//////////////////////////////////////////\n\t/////////// Deprecation Checks ///////////\n\t//////////////////////////////////////////\n\n\tdeprecationCheck(oldOption, newOption){\n\t\treturn this.table.deprecationAdvisor.check(oldOption, newOption);\n\t}\n\n\tdeprecationCheckMsg(oldOption, msg){\n\t\treturn this.table.deprecationAdvisor.checkMsg(oldOption, msg);\n\t}\n\n\tdeprecationMsg(msg){\n\t\treturn this.table.deprecationAdvisor.msg(msg);\n\t}\n\t//////////////////////////////////////////\n\t//////////////// Modules /////////////////\n\t//////////////////////////////////////////\n\n\tmodule(key){\n\t\treturn this.table.module(key);\n\t}\n}","export default class Helpers{\n\n\tstatic elVisible(el){\n\t\treturn !(el.offsetWidth <= 0 && el.offsetHeight <= 0);\n\t}\n\n\tstatic elOffset(el){\n\t\tvar box = el.getBoundingClientRect();\n\n\t\treturn {\n\t\t\ttop: box.top + window.pageYOffset - document.documentElement.clientTop,\n\t\t\tleft: box.left + window.pageXOffset - document.documentElement.clientLeft\n\t\t};\n\t}\n\n\tstatic deepClone(obj, clone, list = []){\n\t\tvar objectProto = {}.__proto__,\n\t\tarrayProto = [].__proto__;\n\n\t\tif (!clone){\n\t\t\tclone = Object.assign(Array.isArray(obj) ? [] : {}, obj);\n\t\t}\n\n\t\tfor(var i in obj) {\n\t\t\tlet subject = obj[i],\n\t\t\tmatch, copy;\n\n\t\t\tif(subject != null && typeof subject === \"object\" && (subject.__proto__ === objectProto || subject.__proto__ === arrayProto)){\n\t\t\t\tmatch = list.findIndex((item) => {\n\t\t\t\t\treturn item.subject === subject;\n\t\t\t\t});\n\n\t\t\t\tif(match > -1){\n\t\t\t\t\tclone[i] = list[match].copy;\n\t\t\t\t}else{\n\t\t\t\t\tcopy = Object.assign(Array.isArray(subject) ? [] : {}, subject);\n\n\t\t\t\t\tlist.unshift({subject, copy});\n\n\t\t\t\t\tclone[i] = this.deepClone(subject, copy, list);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn clone;\n\t}\n}","import CoreFeature from '../CoreFeature.js';\nimport Helpers from './Helpers.js';\n\nexport default class Popup extends CoreFeature{\n\tconstructor(table, element, parent){\n\t\tsuper(table);\n\t\t\n\t\tthis.element = element;\n\t\tthis.container = this._lookupContainer();\n\t\t\n\t\tthis.parent = parent;\n\t\t\n\t\tthis.reversedX = false;\n\t\tthis.childPopup = null;\n\t\tthis.blurable = false;\n\t\tthis.blurCallback = null;\n\t\tthis.blurEventsBound = false;\n\t\tthis.renderedCallback = null;\n\t\t\n\t\tthis.visible = false;\n\t\tthis.hideable = true;\n\t\t\n\t\tthis.element.classList.add(\"tabulator-popup-container\");\n\t\t\n\t\tthis.blurEvent = this.hide.bind(this, false);\n\t\tthis.escEvent = this._escapeCheck.bind(this);\n\t\t\n\t\tthis.destroyBinding = this.tableDestroyed.bind(this);\n\t\tthis.destroyed = false;\n\t}\n\t\n\ttableDestroyed(){\n\t\tthis.destroyed = true;\n\t\tthis.hide(true);\n\t}\n\t\n\t_lookupContainer(){\n\t\tvar container = this.table.options.popupContainer;\n\t\t\n\t\tif(typeof container === \"string\"){\n\t\t\tcontainer = document.querySelector(container);\n\t\t\t\n\t\t\tif(!container){\n\t\t\t\tconsole.warn(\"Menu Error - no container element found matching selector:\",  this.table.options.popupContainer , \"(defaulting to document body)\");\n\t\t\t}\n\t\t}else if (container === true){\n\t\t\tcontainer = this.table.element;\n\t\t}\n\t\t\n\t\tif(container && !this._checkContainerIsParent(container)){\n\t\t\tcontainer = false;\n\t\t\tconsole.warn(\"Menu Error - container element does not contain this table:\",  this.table.options.popupContainer , \"(defaulting to document body)\");\n\t\t}\n\t\t\n\t\tif(!container){\n\t\t\tcontainer = document.body;\n\t\t}\n\t\t\n\t\treturn container;\n\t}\n\t\n\t_checkContainerIsParent(container, element = this.table.element){\n\t\tif(container === element){\n\t\t\treturn true;\n\t\t}else{\n\t\t\treturn element.parentNode ? this._checkContainerIsParent(container, element.parentNode) : false;\n\t\t}\n\t}\n\t\n\trenderCallback(callback){\n\t\tthis.renderedCallback = callback;\n\t}\n\t\n\tcontainerEventCoords(e){\n\t\tvar touch = !(e instanceof MouseEvent);\n\t\t\n\t\tvar x = touch ? e.touches[0].pageX : e.pageX;\n\t\tvar y = touch ? e.touches[0].pageY : e.pageY;\n\t\t\n\t\tif(this.container !== document.body){\n\t\t\tlet parentOffset = Helpers.elOffset(this.container);\n\t\t\t\n\t\t\tx -= parentOffset.left;\n\t\t\ty -= parentOffset.top;\n\t\t}\n\t\t\n\t\treturn {x, y};\n\t}\n\t\n\telementPositionCoords(element, position = \"right\"){\n\t\tvar offset = Helpers.elOffset(element),\n\t\tcontainerOffset, x, y;\n\t\t\n\t\tif(this.container !== document.body){\n\t\t\tcontainerOffset = Helpers.elOffset(this.container);\n\t\t\t\n\t\t\toffset.left -= containerOffset.left;\n\t\t\toffset.top -= containerOffset.top;\n\t\t}\n\t\t\n\t\tswitch(position){\n\t\t\tcase \"right\":\n\t\t\t\tx = offset.left + element.offsetWidth;\n\t\t\t\ty = offset.top - 1;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"bottom\":\n\t\t\t\tx = offset.left;\n\t\t\t\ty = offset.top + element.offsetHeight;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"left\":\n\t\t\t\tx = offset.left;\n\t\t\t\ty = offset.top - 1;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"top\":\n\t\t\t\tx = offset.left;\n\t\t\t\ty = offset.top;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"center\":\n\t\t\t\tx = offset.left + (element.offsetWidth / 2);\n\t\t\t\ty = offset.top + (element.offsetHeight / 2);\n\t\t\t\tbreak;\n\t\t\t\n\t\t}\n\t\t\n\t\treturn {x, y, offset};\n\t}\n\t\n\tshow(origin, position){\n\t\tvar x, y, parentEl, parentOffset, coords;\n\t\t\n\t\tif(this.destroyed || this.table.destroyed){\n\t\t\treturn this;\n\t\t}\n\t\t\n\t\tif(origin instanceof HTMLElement){\n\t\t\tparentEl = origin;\n\t\t\tcoords = this.elementPositionCoords(origin, position);\n\t\t\t\n\t\t\tparentOffset = coords.offset;\n\t\t\tx = coords.x;\n\t\t\ty = coords.y;\n\t\t\t\n\t\t}else if(typeof origin === \"number\"){\n\t\t\tparentOffset = {top:0, left:0};\n\t\t\tx = origin;\n\t\t\ty = position;\n\t\t}else{\n\t\t\tcoords = this.containerEventCoords(origin);\n\t\t\t\n\t\t\tx = coords.x;\n\t\t\ty = coords.y;\n\t\t\t\n\t\t\tthis.reversedX = false;\n\t\t}\n\t\t\n\t\tthis.element.style.top = y + \"px\";\n\t\tthis.element.style.left = x + \"px\";\n\t\t\n\t\tthis.container.appendChild(this.element);\n\t\t\n\t\tif(typeof this.renderedCallback === \"function\"){\n\t\t\tthis.renderedCallback();\n\t\t}\n\t\t\n\t\tthis._fitToScreen(x, y, parentEl, parentOffset, position);\n\t\t\n\t\tthis.visible = true;\n\t\t\n\t\tthis.subscribe(\"table-destroy\", this.destroyBinding);\n\t\t\n\t\tthis.element.addEventListener(\"mousedown\", (e) => {\n\t\t\te.stopPropagation();\n\t\t});\n\t\t\n\t\treturn this;\n\t}\n\t\n\t_fitToScreen(x, y, parentEl, parentOffset, position){\n\t\tvar scrollTop = this.container === document.body ? document.documentElement.scrollTop : this.container.scrollTop;\n\t\t\n\t\t//move menu to start on right edge if it is too close to the edge of the screen\n\t\tif((x + this.element.offsetWidth) >= this.container.offsetWidth || this.reversedX){\n\t\t\tthis.element.style.left = \"\";\n\t\t\t\n\t\t\tif(parentEl){\n\t\t\t\tthis.element.style.right = (this.container.offsetWidth - parentOffset.left) + \"px\";\n\t\t\t}else{\n\t\t\t\tthis.element.style.right = (this.container.offsetWidth - x) + \"px\";\n\t\t\t}\n\t\t\t\n\t\t\tthis.reversedX = true;\n\t\t}\n\t\t\n\t\t//move menu to start on bottom edge if it is too close to the edge of the screen\n\t\tif((y + this.element.offsetHeight) > Math.max(this.container.offsetHeight, scrollTop ? this.container.scrollHeight : 0)) {\n\t\t\tif(parentEl){\n\t\t\t\tswitch(position){\n\t\t\t\t\tcase \"bottom\":\n\t\t\t\t\t\tthis.element.style.top = (parseInt(this.element.style.top) - this.element.offsetHeight - parentEl.offsetHeight - 1) + \"px\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthis.element.style.top = (parseInt(this.element.style.top) - this.element.offsetHeight + parentEl.offsetHeight + 1) + \"px\";\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\tthis.element.style.top = (parseInt(this.element.style.top) - this.element.offsetHeight) + \"px\";\n\t\t\t}\n\t\t}\n\t}\n\t\n\tisVisible(){\n\t\treturn this.visible;\n\t}\n\t\n\thideOnBlur(callback){\n\t\tthis.blurable = true;\n\t\t\n\t\tif(this.visible){\n\t\t\tsetTimeout(() => {\n\t\t\t\tif(this.visible){\n\t\t\t\t\tthis.table.rowManager.element.addEventListener(\"scroll\", this.blurEvent);\n\t\t\t\t\tthis.subscribe(\"cell-editing\", this.blurEvent);\n\t\t\t\t\tdocument.body.addEventListener(\"click\", this.blurEvent);\n\t\t\t\t\tdocument.body.addEventListener(\"contextmenu\", this.blurEvent);\n\t\t\t\t\tdocument.body.addEventListener(\"mousedown\", this.blurEvent);\n\t\t\t\t\twindow.addEventListener(\"resize\", this.blurEvent);\n\t\t\t\t\tdocument.body.addEventListener(\"keydown\", this.escEvent);\n\n\t\t\t\t\tthis.blurEventsBound = true;\n\t\t\t\t}\n\t\t\t}, 100);\n\t\t\t\n\t\t\tthis.blurCallback = callback;\n\t\t}\n\t\t\n\t\treturn this;\n\t}\n\t\n\t_escapeCheck(e){\n\t\tif(e.keyCode == 27){\n\t\t\tthis.hide();\n\t\t}\n\t}\n\t\n\tblockHide(){\n\t\tthis.hideable = false;\n\t}\n\t\n\trestoreHide(){\n\t\tthis.hideable = true;\n\t}\n\t\n\thide(silent = false){\n\t\tif(this.visible && this.hideable){\n\t\t\tif(this.blurable && this.blurEventsBound){\n\t\t\t\tdocument.body.removeEventListener(\"keydown\", this.escEvent);\n\t\t\t\tdocument.body.removeEventListener(\"click\", this.blurEvent);\n\t\t\t\tdocument.body.removeEventListener(\"contextmenu\", this.blurEvent);\n\t\t\t\tdocument.body.removeEventListener(\"mousedown\", this.blurEvent);\n\t\t\t\twindow.removeEventListener(\"resize\", this.blurEvent);\n\t\t\t\tthis.table.rowManager.element.removeEventListener(\"scroll\", this.blurEvent);\n\t\t\t\tthis.unsubscribe(\"cell-editing\", this.blurEvent);\n\n\t\t\t\tthis.blurEventsBound = false;\n\t\t\t}\n\t\t\t\n\t\t\tif(this.childPopup){\n\t\t\t\tthis.childPopup.hide();\n\t\t\t}\n\t\t\t\n\t\t\tif(this.parent){\n\t\t\t\tthis.parent.childPopup = null;\n\t\t\t}\n\t\t\t\n\t\t\tif(this.element.parentNode){\n\t\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\t}\n\t\t\t\n\t\t\tthis.visible = false;\n\t\t\t\n\t\t\tif(this.blurCallback && !silent){\n\t\t\t\tthis.blurCallback();\n\t\t\t}\n\t\t\t\n\t\t\tthis.unsubscribe(\"table-destroy\", this.destroyBinding);\n\t\t}\n\t\t\n\t\treturn this;\n\t}\n\t\n\tchild(element){\n\t\tif(this.childPopup){\n\t\t\tthis.childPopup.hide();\n\t\t}\n\t\t\n\t\tthis.childPopup = new Popup(this.table, element, this);\n\t\t\n\t\treturn this.childPopup;\n\t}\n}","import CoreFeature from './CoreFeature.js';\nimport Popup from './tools/Popup.js';\n\nclass Module extends CoreFeature{\n\t\n\tconstructor(table, name){\n\t\tsuper(table);\n\t\t\n\t\tthis._handler = null;\n\t}\n\t\n\tinitialize(){\n\t\t// setup module when table is initialized, to be overridden in module\n\t}\n\t\n\t\n\t///////////////////////////////////\n\t////// Options Registration ///////\n\t///////////////////////////////////\n\t\n\tregisterTableOption(key, value){\n\t\tthis.table.optionsList.register(key, value);\n\t}\n\t\n\tregisterColumnOption(key, value){\n\t\tthis.table.columnManager.optionsList.register(key, value);\n\t}\n\t\n\t///////////////////////////////////\n\t/// Public Function Registration ///\n\t///////////////////////////////////\n\t\n\tregisterTableFunction(name, func){\n\t\tif(typeof this.table[name] === \"undefined\"){\n\t\t\tthis.table[name] = (...args) => {\n\t\t\t\tthis.table.initGuard(name);\n\t\t\t\t\n\t\t\t\treturn func(...args);\n\t\t\t};\n\t\t}else{\n\t\t\tconsole.warn(\"Unable to bind table function, name already in use\", name);\n\t\t}\n\t}\n\t\n\tregisterComponentFunction(component, func, handler){\n\t\treturn this.table.componentFunctionBinder.bind(component, func, handler);\n\t}\n\t\n\t///////////////////////////////////\n\t////////// Data Pipeline //////////\n\t///////////////////////////////////\n\t\n\tregisterDataHandler(handler, priority){\n\t\tthis.table.rowManager.registerDataPipelineHandler(handler, priority);\n\t\tthis._handler = handler;\n\t}\n\t\n\tregisterDisplayHandler(handler, priority){\n\t\tthis.table.rowManager.registerDisplayPipelineHandler(handler, priority);\n\t\tthis._handler = handler;\n\t}\n\t\n\tdisplayRows(adjust){\n\t\tvar index = this.table.rowManager.displayRows.length - 1, \n\t\tlookupIndex;\n\t\t\n\t\tif(this._handler){\n\t\t\tlookupIndex = this.table.rowManager.displayPipeline.findIndex((item) => {\n\t\t\t\treturn item.handler === this._handler;\n\t\t\t});\n\n\t\t\tif(lookupIndex > -1){\n\t\t\t\tindex = lookupIndex;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(adjust){\n\t\t\tindex = index + adjust;\n\t\t}\n\n\t\tif(this._handler){\n\t\t\tif(index > -1){\n\t\t\t\treturn this.table.rowManager.getDisplayRows(index);\n\t\t\t}else{\n\t\t\t\treturn this.activeRows();\n\t\t\t}\n\t\t}\t\n\t}\n\t\n\tactiveRows(){\n\t\treturn this.table.rowManager.activeRows;\n\t}\n\t\n\trefreshData(renderInPosition, handler){\n\t\tif(!handler){\n\t\t\thandler = this._handler;\n\t\t}\n\t\t\n\t\tif(handler){\n\t\t\tthis.table.rowManager.refreshActiveData(handler, false, renderInPosition);\n\t\t}\n\t}\n\t\n\t///////////////////////////////////\n\t//////// Footer Management ////////\n\t///////////////////////////////////\n\t\n\tfooterAppend(element){\n\t\treturn this.table.footerManager.append(element);\n\t}\n\t\n\tfooterPrepend(element){\n\t\treturn this.table.footerManager.prepend(element);\n\t}\n\t\n\tfooterRemove(element){\n\t\treturn this.table.footerManager.remove(element);\n\t} \n\t\n\t///////////////////////////////////\n\t//////// Popups Management ////////\n\t///////////////////////////////////\n\t\n\tpopup(menuEl, menuContainer){\n\t\treturn new Popup(this.table, menuEl, menuContainer);\n\t}\n\t\n\t///////////////////////////////////\n\t//////// Alert Management ////////\n\t///////////////////////////////////\n\t\n\talert(content, type){\n\t\treturn this.table.alertManager.alert(content, type);\n\t}\n\t\n\tclearAlert(){\n\t\treturn this.table.alertManager.clear();\n\t}\n\t\n}\n\nexport default Module;","import Module from '../../core/Module.js';\nimport Helpers from '../../core/tools/Helpers.js';\n\nimport defaultAccessors from './defaults/accessors.js';\n\nclass Accessor extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.allowedTypes = [\"\", \"data\", \"download\", \"clipboard\", \"print\", \"htmlOutput\"]; //list of accessor types\n\n\t\tthis.registerColumnOption(\"accessor\");\n\t\tthis.registerColumnOption(\"accessorParams\");\n\t\tthis.registerColumnOption(\"accessorData\");\n\t\tthis.registerColumnOption(\"accessorDataParams\");\n\t\tthis.registerColumnOption(\"accessorDownload\");\n\t\tthis.registerColumnOption(\"accessorDownloadParams\");\n\t\tthis.registerColumnOption(\"accessorClipboard\");\n\t\tthis.registerColumnOption(\"accessorClipboardParams\");\n\t\tthis.registerColumnOption(\"accessorPrint\");\n\t\tthis.registerColumnOption(\"accessorPrintParams\");\n\t\tthis.registerColumnOption(\"accessorHtmlOutput\");\n\t\tthis.registerColumnOption(\"accessorHtmlOutputParams\");\n\t}\n\n\tinitialize(){\n\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"row-data-retrieve\", this.transformRow.bind(this));\n\t}\n\n\t//initialize column accessor\n\tinitializeColumn(column){\n\t\tvar match = false,\n\t\tconfig = {};\n\n\t\tthis.allowedTypes.forEach((type) => {\n\t\t\tvar key = \"accessor\" + (type.charAt(0).toUpperCase() + type.slice(1)),\n\t\t\taccessor;\n\n\t\t\tif(column.definition[key]){\n\t\t\t\taccessor = this.lookupAccessor(column.definition[key]);\n\n\t\t\t\tif(accessor){\n\t\t\t\t\tmatch = true;\n\n\t\t\t\t\tconfig[key] = {\n\t\t\t\t\t\taccessor:accessor,\n\t\t\t\t\t\tparams: column.definition[key + \"Params\"] || {},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif(match){\n\t\t\tcolumn.modules.accessor = config;\n\t\t}\n\t}\n\n\tlookupAccessor(value){\n\t\tvar accessor = false;\n\n\t\t//set column accessor\n\t\tswitch(typeof value){\n\t\t\tcase \"string\":\n\t\t\t\tif(Accessor.accessors[value]){\n\t\t\t\t\taccessor = Accessor.accessors[value];\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Accessor Error - No such accessor found, ignoring: \", value);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\taccessor = value;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn accessor;\n\t}\n\n\t//apply accessor to row\n\ttransformRow(row, type){\n\t\tvar key = \"accessor\" + (type.charAt(0).toUpperCase() + type.slice(1)),\n\t\trowComponent = row.getComponent();\n\n\t\t//clone data object with deep copy to isolate internal data from returned result\n\t\tvar data = Helpers.deepClone(row.data || {});\n\n\t\tthis.table.columnManager.traverse(function(column){\n\t\t\tvar value, accessor, params, colComponent;\n\n\t\t\tif(column.modules.accessor){\n\n\t\t\t\taccessor = column.modules.accessor[key] || column.modules.accessor.accessor || false;\n\n\t\t\t\tif(accessor){\n\t\t\t\t\tvalue = column.getFieldValue(data);\n\n\t\t\t\t\tif(value != \"undefined\"){\n\t\t\t\t\t\tcolComponent = column.getComponent();\n\t\t\t\t\t\tparams = typeof accessor.params === \"function\" ? accessor.params(value, data, type, colComponent, rowComponent) : accessor.params;\n\t\t\t\t\t\tcolumn.setFieldValue(data, accessor.accessor(value, data, type, params, colComponent, rowComponent));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn data;\n\t}\n}\n\n//load defaults\nAccessor.moduleName = \"accessor\";\nAccessor.accessors = defaultAccessors;\n\nexport default Accessor;","export default {};","function generateParamsList(data, prefix){\n\tvar output = [];\n\n\tprefix = prefix || \"\";\n\n\tif(Array.isArray(data)){\n\t\tdata.forEach((item, i) => {\n\t\t\toutput = output.concat(generateParamsList(item, prefix ? prefix + \"[\" + i + \"]\" : i));\n\t\t});\n\t}else if (typeof data === \"object\"){\n\t\tfor (var key in data){\n\t\t\toutput = output.concat(generateParamsList(data[key], prefix ? prefix + \"[\" + key + \"]\" : key));\n\t\t}\n\t}else{\n\t\toutput.push({key:prefix, value:data});\n\t}\n\n\treturn output;\n}\n\nfunction serializeParams(params){\n\tvar output = generateParamsList(params),\n\tencoded = [];\n\n\toutput.forEach(function(item){\n\t\tencoded.push(encodeURIComponent(item.key) + \"=\" + encodeURIComponent(item.value));\n\t});\n\n\treturn encoded.join(\"&\");\n}\n\nexport default function(url, config, params){\n\tif(url){\n\t\tif(params && Object.keys(params).length){\n\t\t\tif(!config.method || config.method.toLowerCase() == \"get\"){\n\t\t\t\tconfig.method = \"get\";\n\n\t\t\t\turl += (url.includes(\"?\") ? \"&\" : \"?\") + serializeParams(params);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn url;\n}","function generateParamsList(data, prefix){\n\tvar output = [];\n\n\tprefix = prefix || \"\";\n\n\tif(Array.isArray(data)){\n\t\tdata.forEach((item, i) => {\n\t\t\toutput = output.concat(generateParamsList(item, prefix ? prefix + \"[\" + i + \"]\" : i));\n\t\t});\n\t}else if (typeof data === \"object\"){\n\t\tfor (var key in data){\n\t\t\toutput = output.concat(generateParamsList(data[key], prefix ? prefix + \"[\" + key + \"]\" : key));\n\t\t}\n\t}else{\n\t\toutput.push({key:prefix, value:data});\n\t}\n\n\treturn output;\n}\n\nexport default {\n\t\"json\":{\n\t\theaders:{\n\t\t\t'Content-Type': 'application/json',\n\t\t},\n\t\tbody:function(url, config, params){\n\t\t\treturn JSON.stringify(params);\n\t\t},\n\t},\n\t\"form\":{\n\t\theaders:{\n\t\t},\n\t\tbody:function(url, config, params){\n\n\t\t\tvar output = generateParamsList(params),\n\t\t\tform = new FormData();\n\n\t\t\toutput.forEach(function(item){\n\t\t\t\tform.append(item.key, item.value);\n\t\t\t});\n\n\t\t\treturn form;\n\t\t},\n\t},\n};","import Module from '../../core/Module.js';\n\nimport defaultConfig from './defaults/config.js';\nimport defaultURLGenerator from './defaults/urlGenerator.js';\nimport defaultLoaderPromise from './defaults/loaderPromise.js';\nimport defaultContentTypeFormatters from './defaults/contentTypeFormatters.js';\n\nclass Ajax extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.config = {}; //hold config object for ajax request\n\t\tthis.url = \"\"; //request URL\n\t\tthis.urlGenerator = false;\n\t\tthis.params = false; //request parameters\n\t\t\n\t\tthis.loaderPromise = false;\n\t\t\n\t\tthis.registerTableOption(\"ajaxURL\", false); //url for ajax loading\n\t\tthis.registerTableOption(\"ajaxURLGenerator\", false);\n\t\tthis.registerTableOption(\"ajaxParams\", {});  //params for ajax loading\n\t\tthis.registerTableOption(\"ajaxConfig\", \"get\"); //ajax request type\n\t\tthis.registerTableOption(\"ajaxContentType\", \"form\"); //ajax request type\n\t\tthis.registerTableOption(\"ajaxRequestFunc\", false); //promise function\n\t\t\n\t\tthis.registerTableOption(\"ajaxRequesting\", function(){});\n\t\tthis.registerTableOption(\"ajaxResponse\", false);\n\t\t\n\t\tthis.contentTypeFormatters = Ajax.contentTypeFormatters;\n\t}\n\t\n\t//initialize setup options\n\tinitialize(){\n\t\tthis.loaderPromise = this.table.options.ajaxRequestFunc || Ajax.defaultLoaderPromise;\n\t\tthis.urlGenerator = this.table.options.ajaxURLGenerator || Ajax.defaultURLGenerator;\n\t\t\n\t\tif(this.table.options.ajaxURL){\n\t\t\tthis.setUrl(this.table.options.ajaxURL);\n\t\t}\n\n\n\t\tthis.setDefaultConfig(this.table.options.ajaxConfig);\n\t\t\n\t\tthis.registerTableFunction(\"getAjaxUrl\", this.getUrl.bind(this));\n\t\t\n\t\tthis.subscribe(\"data-loading\", this.requestDataCheck.bind(this));\n\t\tthis.subscribe(\"data-params\", this.requestParams.bind(this));\n\t\tthis.subscribe(\"data-load\", this.requestData.bind(this));\n\t}\n\t\n\trequestParams(data, config, silent, params){\n\t\tvar ajaxParams = this.table.options.ajaxParams;\n\t\t\n\t\tif(ajaxParams){\n\t\t\tif(typeof ajaxParams === \"function\"){\n\t\t\t\tajaxParams = ajaxParams.call(this.table);\n\t\t\t}\n\t\t\t\n\t\t\tparams = Object.assign(params, ajaxParams);\n\t\t}\t\t\n\t\t\n\t\treturn params;\n\t}\n\t\n\trequestDataCheck(data, params, config, silent){\n\t\treturn !!((!data && this.url) || typeof data === \"string\");\n\t}\n\t\n\trequestData(url, params, config, silent, previousData){\n\t\tvar ajaxConfig;\n\t\t\n\t\tif(!previousData && this.requestDataCheck(url)){\n\t\t\tif(url){\n\t\t\t\tthis.setUrl(url);\n\t\t\t}\n\t\t\t\n\t\t\tajaxConfig = this.generateConfig(config);\n\t\t\t\n\t\t\treturn this.sendRequest(this.url, params, ajaxConfig);\n\t\t}else{\n\t\t\treturn previousData;\n\t\t}\n\t}\n\t\n\tsetDefaultConfig(config = {}){\n\t\tthis.config = Object.assign({}, Ajax.defaultConfig);\n\n\t\tif(typeof config == \"string\"){\n\t\t\tthis.config.method = config;\n\t\t}else{\n\t\t\tObject.assign(this.config, config);\n\t\t}\n\t}\n\t\n\t//load config object\n\tgenerateConfig(config = {}){\n\t\tvar ajaxConfig = Object.assign({}, this.config);\n\t\t\n\t\tif(typeof config == \"string\"){\n\t\t\tajaxConfig.method = config;\n\t\t}else{\n\t\t\tObject.assign(ajaxConfig, config);\n\t\t}\n\t\t\n\t\treturn ajaxConfig;\n\t}\n\t\n\t//set request url\n\tsetUrl(url){\n\t\tthis.url = url;\n\t}\n\t\n\t//get request url\n\tgetUrl(){\n\t\treturn this.url;\n\t}\n\t\n\t//send ajax request\n\tsendRequest(url, params, config){\n\t\tif(this.table.options.ajaxRequesting.call(this.table, url, params) !== false){\n\t\t\treturn this.loaderPromise(url, config, params)\n\t\t\t\t.then((data)=>{\n\t\t\t\t\tif(this.table.options.ajaxResponse){\n\t\t\t\t\t\tdata = this.table.options.ajaxResponse.call(this.table, url, params, data);\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\treturn data;\n\t\t\t\t});\n\t\t}else{\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n}\n\nAjax.moduleName = \"ajax\";\n\n//load defaults\nAjax.defaultConfig = defaultConfig;\nAjax.defaultURLGenerator = defaultURLGenerator;\nAjax.defaultLoaderPromise = defaultLoaderPromise;\nAjax.contentTypeFormatters = defaultContentTypeFormatters;\n\nexport default Ajax;","export default {\n\tmethod: \"GET\",\n};","export default function(url, config, params){\n\tvar contentType;\n\n\treturn new Promise((resolve, reject) => {\n\t\t//set url\n\t\turl = this.urlGenerator.call(this.table, url, config, params);\n\n\t\t//set body content if not GET request\n\t\tif(config.method.toUpperCase() != \"GET\"){\n\t\t\tcontentType = typeof this.table.options.ajaxContentType === \"object\" ?  this.table.options.ajaxContentType : this.contentTypeFormatters[this.table.options.ajaxContentType];\n\t\t\tif(contentType){\n\n\t\t\t\tfor(var key in contentType.headers){\n\t\t\t\t\tif(!config.headers){\n\t\t\t\t\t\tconfig.headers = {};\n\t\t\t\t\t}\n\n\t\t\t\t\tif(typeof config.headers[key] === \"undefined\"){\n\t\t\t\t\t\tconfig.headers[key] = contentType.headers[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconfig.body = contentType.body.call(this, url, config, params);\n\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Ajax Error - Invalid ajaxContentType value:\", this.table.options.ajaxContentType);\n\t\t\t}\n\t\t}\n\n\t\tif(url){\n\t\t\t//configure headers\n\t\t\tif(typeof config.headers === \"undefined\"){\n\t\t\t\tconfig.headers = {};\n\t\t\t}\n\n\t\t\tif(typeof config.headers.Accept === \"undefined\"){\n\t\t\t\tconfig.headers.Accept = \"application/json\";\n\t\t\t}\n\n\t\t\tif(typeof config.headers[\"X-Requested-With\"] === \"undefined\"){\n\t\t\t\tconfig.headers[\"X-Requested-With\"] = \"XMLHttpRequest\";\n\t\t\t}\n\n\t\t\tif(typeof config.mode === \"undefined\"){\n\t\t\t\tconfig.mode = \"cors\";\n\t\t\t}\n\n\t\t\tif(config.mode == \"cors\"){\n\t\t\t\tif(typeof config.headers[\"Origin\"] === \"undefined\"){\n\t\t\t\t\tconfig.headers[\"Origin\"] = window.location.origin;\n\t\t\t\t}\n        \n\t\t\t\tif(typeof config.credentials === \"undefined\"){\n\t\t\t\t\tconfig.credentials = 'same-origin';\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(typeof config.credentials === \"undefined\"){\n\t\t\t\t\tconfig.credentials = 'include';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//send request\n\t\t\tfetch(url, config)\n\t\t\t\t.then((response)=>{\n\t\t\t\t\tif(response.ok) {\n\t\t\t\t\t\tresponse.json()\n\t\t\t\t\t\t\t.then((data)=>{\n\t\t\t\t\t\t\t\tresolve(data);\n\t\t\t\t\t\t\t}).catch((error)=>{\n\t\t\t\t\t\t\t\treject(error);\n\t\t\t\t\t\t\t\tconsole.warn(\"Ajax Load Error - Invalid JSON returned\", error);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.error(\"Ajax Load Error - Connection Error: \" + response.status, response.statusText);\n\t\t\t\t\t\treject(response);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error)=>{\n\t\t\t\t\tconsole.error(\"Ajax Load Error - Connection Error: \", error);\n\t\t\t\t\treject(error);\n\t\t\t\t});\n\t\t}else{\n\t\t\tconsole.warn(\"Ajax Load Error - No URL Set\");\n\t\t\tresolve([]);\n\t\t}\n\t});\n}","export default {\n\treplace:function(rows){\n\t\treturn this.table.setData(rows);\n\t},\n\tupdate:function(rows){\n\t\treturn this.table.updateOrAddData(rows);\n\t},\n\tinsert:function(rows){\n\t\treturn this.table.addData(rows);\n\t},\n};","import Module from '../../core/Module.js';\n\nimport defaultPasteActions from './defaults/pasteActions.js';\nimport defaultPasteParsers from './defaults/pasteParsers.js';\n\nclass Clipboard extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.mode = true;\n\t\tthis.pasteParser = function(){};\n\t\tthis.pasteAction = function(){};\n\t\tthis.customSelection = false;\n\t\tthis.rowRange = false;\n\t\tthis.blocked = true; //block copy actions not originating from this command\n\n\t\tthis.registerTableOption(\"clipboard\", false); //enable clipboard\n\t\tthis.registerTableOption(\"clipboardCopyStyled\", true); //formatted table data\n\t\tthis.registerTableOption(\"clipboardCopyConfig\", false); //clipboard config\n\t\tthis.registerTableOption(\"clipboardCopyFormatter\", false); //DEPRECATED - REMOVE in 5.0\n\t\tthis.registerTableOption(\"clipboardCopyRowRange\", \"active\"); //restrict clipboard to visible rows only\n\t\tthis.registerTableOption(\"clipboardPasteParser\", \"table\"); //convert pasted clipboard data to rows\n\t\tthis.registerTableOption(\"clipboardPasteAction\", \"insert\"); //how to insert pasted data into the table\n\n\t\tthis.registerColumnOption(\"clipboard\");\n\t\tthis.registerColumnOption(\"titleClipboard\");\n\t}\n\n\tinitialize(){\n\t\tthis.mode = this.table.options.clipboard;\n\n\t\tthis.rowRange = this.table.options.clipboardCopyRowRange;\n\n\t\tif(this.mode === true || this.mode === \"copy\"){\n\t\t\tthis.table.element.addEventListener(\"copy\", (e) => {\n\t\t\t\tvar plain, html, list;\n\n\t\t\t\tif(!this.blocked){\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\tif(this.customSelection){\n\t\t\t\t\t\tplain = this.customSelection;\n\n\t\t\t\t\t\tif(this.table.options.clipboardCopyFormatter){\n\t\t\t\t\t\t\tplain = this.table.options.clipboardCopyFormatter(\"plain\", plain);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\n\t\t\t\t\t\tlist = this.table.modules.export.generateExportList(this.table.options.clipboardCopyConfig, this.table.options.clipboardCopyStyled, this.rowRange, \"clipboard\");\n\n\t\t\t\t\t\thtml = this.table.modules.export.generateHTMLTable(list);\n\t\t\t\t\t\tplain = html ? this.generatePlainContent(list) : \"\";\n\n\t\t\t\t\t\tif(this.table.options.clipboardCopyFormatter){\n\t\t\t\t\t\t\tplain = this.table.options.clipboardCopyFormatter(\"plain\", plain);\n\t\t\t\t\t\t\thtml = this.table.options.clipboardCopyFormatter(\"html\", html);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (window.clipboardData && window.clipboardData.setData) {\n\t\t\t\t\t\twindow.clipboardData.setData('Text', plain);\n\t\t\t\t\t} else if (e.clipboardData && e.clipboardData.setData) {\n\t\t\t\t\t\te.clipboardData.setData('text/plain', plain);\n\t\t\t\t\t\tif(html){\n\t\t\t\t\t\t\te.clipboardData.setData('text/html', html);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (e.originalEvent && e.originalEvent.clipboardData.setData) {\n\t\t\t\t\t\te.originalEvent.clipboardData.setData('text/plain', plain);\n\t\t\t\t\t\tif(html){\n\t\t\t\t\t\t\te.originalEvent.clipboardData.setData('text/html', html);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.dispatchExternal(\"clipboardCopied\", plain, html);\n\n\t\t\t\t\tthis.reset();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif(this.mode === true || this.mode === \"paste\"){\n\t\t\tthis.table.element.addEventListener(\"paste\", (e) => {\n\t\t\t\tthis.paste(e);\n\t\t\t});\n\t\t}\n\n\t\tthis.setPasteParser(this.table.options.clipboardPasteParser);\n\t\tthis.setPasteAction(this.table.options.clipboardPasteAction);\n\n\t\tthis.registerTableFunction(\"copyToClipboard\", this.copy.bind(this));\n\t}\n\n\treset(){\n\t\tthis.blocked = true;\n\t\tthis.customSelection = false;\n\t}\n\n\tgeneratePlainContent (list) {\n\t\tvar output = [];\n\n\t\tlist.forEach((row) => {\n\t\t\tvar rowData = [];\n\n\t\t\trow.columns.forEach((col) => {\n\t\t\t\tvar value = \"\";\n\n\t\t\t\tif(col){\n\n\t\t\t\t\tif(row.type === \"group\"){\n\t\t\t\t\t\tcol.value = col.component.getKey();\n\t\t\t\t\t}\n\n\t\t\t\t\tif(col.value === null){\n\t\t\t\t\t\tvalue = \"\";\n\t\t\t\t\t}else{\n\t\t\t\t\t\tswitch(typeof col.value){\n\t\t\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\t\t\tvalue = JSON.stringify(col.value);\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\t\t\tvalue = \"\";\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tvalue = col.value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\trowData.push(value);\n\t\t\t});\n\n\t\t\toutput.push(rowData.join(\"\\t\"));\n\t\t});\n\n\t\treturn output.join(\"\\n\");\n\t}\n\n\tcopy (range, internal) {\n\t\tvar sel, textRange;\n\t\tthis.blocked = false;\n\t\tthis.customSelection = false;\n\n\t\tif (this.mode === true || this.mode === \"copy\") {\n\n\t\t\tthis.rowRange = range || this.table.options.clipboardCopyRowRange;\n\n\t\t\tif (typeof window.getSelection != \"undefined\" && typeof document.createRange != \"undefined\") {\n\t\t\t\trange = document.createRange();\n\t\t\t\trange.selectNodeContents(this.table.element);\n\t\t\t\tsel = window.getSelection();\n\n\t\t\t\tif (sel.toString() && internal) {\n\t\t\t\t\tthis.customSelection = sel.toString();\n\t\t\t\t}\n\n\t\t\t\tsel.removeAllRanges();\n\t\t\t\tsel.addRange(range);\n\t\t\t} else if (typeof document.selection != \"undefined\" && typeof document.body.createTextRange != \"undefined\") {\n\t\t\t\ttextRange = document.body.createTextRange();\n\t\t\t\ttextRange.moveToElementText(this.table.element);\n\t\t\t\ttextRange.select();\n\t\t\t}\n\n\t\t\tdocument.execCommand('copy');\n\n\t\t\tif (sel) {\n\t\t\t\tsel.removeAllRanges();\n\t\t\t}\n\t\t}\n\t}\n\n\t//PASTE EVENT HANDLING\n\tsetPasteAction(action){\n\n\t\tswitch(typeof action){\n\t\t\tcase \"string\":\n\t\t\t\tthis.pasteAction = Clipboard.pasteActions[action];\n\n\t\t\t\tif(!this.pasteAction){\n\t\t\t\t\tconsole.warn(\"Clipboard Error - No such paste action found:\", action);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\tthis.pasteAction = action;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tsetPasteParser(parser){\n\t\tswitch(typeof parser){\n\t\t\tcase \"string\":\n\t\t\t\tthis.pasteParser = Clipboard.pasteParsers[parser];\n\n\t\t\t\tif(!this.pasteParser){\n\t\t\t\t\tconsole.warn(\"Clipboard Error - No such paste parser found:\", parser);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\tthis.pasteParser = parser;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tpaste(e){\n\t\tvar data, rowData, rows;\n\n\t\tif(this.checkPaseOrigin(e)){\n\n\t\t\tdata = this.getPasteData(e);\n\n\t\t\trowData = this.pasteParser.call(this, data);\n\n\t\t\tif(rowData){\n\t\t\t\te.preventDefault();\n\n\t\t\t\tif(this.table.modExists(\"mutator\")){\n\t\t\t\t\trowData = this.mutateData(rowData);\n\t\t\t\t}\n\n\t\t\t\trows = this.pasteAction.call(this, rowData);\n\n\t\t\t\tthis.dispatchExternal(\"clipboardPasted\", data, rowData, rows);\n\t\t\t}else{\n\t\t\t\tthis.dispatchExternal(\"clipboardPasteError\", data);\n\t\t\t}\n\t\t}\n\t}\n\n\tmutateData(data){\n\t\tvar output = [];\n\n\t\tif(Array.isArray(data)){\n\t\t\tdata.forEach((row) => {\n\t\t\t\toutput.push(this.table.modules.mutator.transformRow(row, \"clipboard\"));\n\t\t\t});\n\t\t}else{\n\t\t\toutput = data;\n\t\t}\n\n\t\treturn output;\n\t}\n\n\n\tcheckPaseOrigin(e){\n\t\tvar valid = true;\n\n\t\tif(e.target.tagName != \"DIV\" || this.table.modules.edit.currentCell){\n\t\t\tvalid = false;\n\t\t}\n\n\t\treturn valid;\n\t}\n\n\tgetPasteData(e){\n\t\tvar data;\n\n\t\tif (window.clipboardData && window.clipboardData.getData) {\n\t\t\tdata = window.clipboardData.getData('Text');\n\t\t} else if (e.clipboardData && e.clipboardData.getData) {\n\t\t\tdata = e.clipboardData.getData('text/plain');\n\t\t} else if (e.originalEvent && e.originalEvent.clipboardData.getData) {\n\t\t\tdata = e.originalEvent.clipboardData.getData('text/plain');\n\t\t}\n\n\t\treturn data;\n\t}\n}\n\nClipboard.moduleName = \"clipboard\";\n\n//load defaults\nClipboard.pasteActions = defaultPasteActions;\nClipboard.pasteParsers = defaultPasteParsers;\n\nexport default Clipboard;","export default {\n\ttable:function(clipboard){\n\t\tvar data = [],\n\t\theaderFindSuccess = true,\n\t\tcolumns = this.table.columnManager.columns,\n\t\tcolumnMap = [],\n\t\trows = [];\n\n\t\t//get data from clipboard into array of columns and rows.\n\t\tclipboard = clipboard.split(\"\\n\");\n\n\t\tclipboard.forEach(function(row){\n\t\t\tdata.push(row.split(\"\\t\"));\n\t\t});\n\n\t\tif(data.length && !(data.length === 1 && data[0].length < 2)){\n\n\t\t\t//check if headers are present by title\n\t\t\tdata[0].forEach(function(value){\n\t\t\t\tvar column = columns.find(function(column){\n\t\t\t\t\treturn value && column.definition.title && value.trim() && column.definition.title.trim() === value.trim();\n\t\t\t\t});\n\n\t\t\t\tif(column){\n\t\t\t\t\tcolumnMap.push(column);\n\t\t\t\t}else{\n\t\t\t\t\theaderFindSuccess = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t//check if column headers are present by field\n\t\t\tif(!headerFindSuccess){\n\t\t\t\theaderFindSuccess = true;\n\t\t\t\tcolumnMap = [];\n\n\t\t\t\tdata[0].forEach(function(value){\n\t\t\t\t\tvar column = columns.find(function(column){\n\t\t\t\t\t\treturn value && column.field && value.trim() && column.field.trim() === value.trim();\n\t\t\t\t\t});\n\n\t\t\t\t\tif(column){\n\t\t\t\t\t\tcolumnMap.push(column);\n\t\t\t\t\t}else{\n\t\t\t\t\t\theaderFindSuccess = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(!headerFindSuccess){\n\t\t\t\t\tcolumnMap = this.table.columnManager.columnsByIndex;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//remove header row if found\n\t\t\tif(headerFindSuccess){\n\t\t\t\tdata.shift();\n\t\t\t}\n\n\t\t\tdata.forEach(function(item){\n\t\t\t\tvar row = {};\n\n\t\t\t\titem.forEach(function(value, i){\n\t\t\t\t\tif(columnMap[i]){\n\t\t\t\t\t\trow[columnMap[i].field] = value;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\trows.push(row);\n\t\t\t});\n\n\t\t\treturn rows;\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\t}\n};","class CalcComponent{\n\tconstructor (row){\n\t\tthis._row = row;\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else{\n\t\t\t\t\treturn target._row.table.componentFunctionBinder.handle(\"row\", target._row, name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tgetData(transform){\n\t\treturn this._row.getData(transform);\n\t}\n\n\tgetElement(){\n\t\treturn this._row.getElement();\n\t}\n\n\tgetTable(){\n\t\treturn this._row.table;\n\t}\n\n\tgetCells(){\n\t\tvar cells = [];\n\n\t\tthis._row.getCells().forEach(function(cell){\n\t\t\tcells.push(cell.getComponent());\n\t\t});\n\n\t\treturn cells;\n\t}\n\n\tgetCell(column){\n\t\tvar cell = this._row.getCell(column);\n\t\treturn cell ? cell.getComponent() : false;\n\t}\n\n\t_getSelf(){\n\t\treturn this._row;\n\t}\n}\n\nexport default CalcComponent;","//public cell object\nexport default class CellComponent {\n\n\tconstructor (cell){\n\t\tthis._cell = cell;\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else{\n\t\t\t\t\treturn target._cell.table.componentFunctionBinder.handle(\"cell\", target._cell, name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tgetValue(){\n\t\treturn this._cell.getValue();\n\t}\n\n\tgetOldValue(){\n\t\treturn this._cell.getOldValue();\n\t}\n\n\tgetInitialValue(){\n\t\treturn this._cell.initialValue;\n\t}\n\n\tgetElement(){\n\t\treturn this._cell.getElement();\n\t}\n\n\tgetRow(){\n\t\treturn this._cell.row.getComponent();\n\t}\n\n\tgetData(){\n\t\treturn this._cell.row.getData();\n\t}\n\n\tgetField(){\n\t\treturn this._cell.column.getField();\n\t}\n\n\tgetColumn(){\n\t\treturn this._cell.column.getComponent();\n\t}\n\n\tsetValue(value, mutate){\n\t\tif(typeof mutate == \"undefined\"){\n\t\t\tmutate = true;\n\t\t}\n\n\t\tthis._cell.setValue(value, mutate);\n\t}\n\n\trestoreOldValue(){\n\t\tthis._cell.setValueActual(this._cell.getOldValue());\n\t}\n\n\trestoreInitialValue(){\n\t\tthis._cell.setValueActual(this._cell.initialValue);\n\t}\n\n\tcheckHeight(){\n\t\tthis._cell.checkHeight();\n\t}\n\n\tgetTable(){\n\t\treturn this._cell.table;\n\t}\n\n\t_getSelf(){\n\t\treturn this._cell;\n\t}\n}","import CoreFeature from '../CoreFeature.js';\nimport CellComponent from './CellComponent.js';\n\nexport default class Cell extends CoreFeature{\n\tconstructor(column, row){\n\t\tsuper(column.table);\n\n\t\tthis.table = column.table;\n\t\tthis.column = column;\n\t\tthis.row = row;\n\t\tthis.element = null;\n\t\tthis.value = null;\n\t\tthis.initialValue;\n\t\tthis.oldValue = null;\n\t\tthis.modules = {};\n\n\t\tthis.height = null;\n\t\tthis.width = null;\n\t\tthis.minWidth = null;\n\n\t\tthis.component = null;\n\n\t\tthis.loaded = false; //track if the cell has been added to the DOM yet\n\n\t\tthis.build();\n\t}\n\n\t//////////////// Setup Functions /////////////////\n\t//generate element\n\tbuild(){\n\t\tthis.generateElement();\n\n\t\tthis.setWidth();\n\n\t\tthis._configureCell();\n\n\t\tthis.setValueActual(this.column.getFieldValue(this.row.data));\n\n\t\tthis.initialValue = this.value;\n\t}\n\n\tgenerateElement(){\n\t\tthis.element = document.createElement('div');\n\t\tthis.element.className = \"tabulator-cell\";\n\t\tthis.element.setAttribute(\"role\", \"gridcell\");\n\t}\n\n\t_configureCell(){\n\t\tvar element = this.element,\n\t\tfield = this.column.getField(),\n\t\tvertAligns = {\n\t\t\ttop:\"flex-start\",\n\t\t\tbottom:\"flex-end\",\n\t\t\tmiddle:\"center\",\n\t\t},\n\t\thozAligns = {\n\t\t\tleft:\"flex-start\",\n\t\t\tright:\"flex-end\",\n\t\t\tcenter:\"center\",\n\t\t};\n\n\t\t//set text alignment\n\t\telement.style.textAlign = this.column.hozAlign;\n\n\t\tif(this.column.vertAlign){\n\t\t\telement.style.display = \"inline-flex\";\n\n\t\t\telement.style.alignItems = vertAligns[this.column.vertAlign] || \"\";\n\n\t\t\tif(this.column.hozAlign){\n\t\t\t\telement.style.justifyContent = hozAligns[this.column.hozAlign] || \"\";\n\t\t\t}\n\t\t}\n\n\t\tif(field){\n\t\t\telement.setAttribute(\"tabulator-field\", field);\n\t\t}\n\n\t\t//add class to cell if needed\n\t\tif(this.column.definition.cssClass){\n\t\t\tvar classNames = this.column.definition.cssClass.split(\" \");\n\t\t\tclassNames.forEach((className) => {\n\t\t\t\telement.classList.add(className);\n\t\t\t});\n\t\t}\n\n\t\tthis.dispatch(\"cell-init\", this);\n\n\t\t//hide cell if not visible\n\t\tif(!this.column.visible){\n\t\t\tthis.hide();\n\t\t}\n\t}\n\n\t//generate cell contents\n\t_generateContents(){\n\t\tvar val;\n\n\t\tval = this.chain(\"cell-format\", this, null, () => {\n\t\t\treturn this.element.innerHTML = this.value;\n\t\t});\n\n\t\tswitch(typeof val){\n\t\t\tcase \"object\":\n\t\t\t\tif(val instanceof Node){\n\n\t\t\t\t\t//clear previous cell contents\n\t\t\t\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\n\t\t\t\t\tthis.element.appendChild(val);\n\t\t\t\t}else{\n\t\t\t\t\tthis.element.innerHTML = \"\";\n\n\t\t\t\t\tif(val != null){\n\t\t\t\t\t\tconsole.warn(\"Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:\", val);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"undefined\":\n\t\t\t\tthis.element.innerHTML = \"\";\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthis.element.innerHTML = val;\n\t\t}\n\t}\n\n\tcellRendered(){\n\t\tthis.dispatch(\"cell-rendered\", this);\n\t}\n\n\t//////////////////// Getters ////////////////////\n\tgetElement(containerOnly){\n\t\tif(!this.loaded){\n\t\t\tthis.loaded = true;\n\t\t\tif(!containerOnly){\n\t\t\t\tthis.layoutElement();\n\t\t\t}\n\t\t}\n\n\t\treturn this.element;\n\t}\n\n\tgetValue(){\n\t\treturn this.value;\n\t}\n\n\tgetOldValue(){\n\t\treturn this.oldValue;\n\t}\n\n\t//////////////////// Actions ////////////////////\n\tsetValue(value, mutate, force){\n\t\tvar changed = this.setValueProcessData(value, mutate, force);\n\n\t\tif(changed){\n\t\t\tthis.dispatch(\"cell-value-updated\", this);\n\n\t\t\tthis.cellRendered();\n\n\t\t\tif(this.column.definition.cellEdited){\n\t\t\t\tthis.column.definition.cellEdited.call(this.table, this.getComponent());\n\t\t\t}\n\n\t\t\tthis.dispatchExternal(\"cellEdited\", this.getComponent());\n\n\t\t\tif(this.subscribedExternal(\"dataChanged\")){\n\t\t\t\tthis.dispatchExternal(\"dataChanged\", this.table.rowManager.getData());\n\t\t\t}\n\t\t}\n\t}\n\n\tsetValueProcessData(value, mutate, force){\n\t\tvar changed = false;\n\n\t\tif(this.value !== value || force){\n\n\t\t\tchanged = true;\n\n\t\t\tif(mutate){\n\t\t\t\tvalue = this.chain(\"cell-value-changing\", [this, value], null, value);\n\t\t\t}\n\t\t}\n\n\t\tthis.setValueActual(value);\n\n\t\tif(changed){\n\t\t\tthis.dispatch(\"cell-value-changed\", this);\n\t\t}\n\n\t\treturn changed;\n\t}\n\n\tsetValueActual(value){\n\t\tthis.oldValue = this.value;\n\n\t\tthis.value = value;\n\n\t\tthis.dispatch(\"cell-value-save-before\", this);\n\n\t\tthis.column.setFieldValue(this.row.data, value);\n\n\t\tthis.dispatch(\"cell-value-save-after\", this);\n\n\t\tif(this.loaded){\n\t\t\tthis.layoutElement();\n\t\t}\n\t}\n\n\tlayoutElement(){\n\t\tthis._generateContents();\n\n\t\tthis.dispatch(\"cell-layout\", this);\n\t}\n\n\tsetWidth(){\n\t\tthis.width = this.column.width;\n\t\tthis.element.style.width = this.column.widthStyled;\n\t}\n\n\tclearWidth(){\n\t\tthis.width = \"\";\n\t\tthis.element.style.width = \"\";\n\t}\n\n\tgetWidth(){\n\t\treturn this.width || this.element.offsetWidth;\n\t}\n\n\tsetMinWidth(){\n\t\tthis.minWidth = this.column.minWidth;\n\t\tthis.element.style.minWidth = this.column.minWidthStyled;\n\t}\n\n\tsetMaxWidth(){\n\t\tthis.maxWidth = this.column.maxWidth;\n\t\tthis.element.style.maxWidth = this.column.maxWidthStyled;\n\t}\n\n\tcheckHeight(){\n\t\t// var height = this.element.css(\"height\");\n\t\tthis.row.reinitializeHeight();\n\t}\n\n\tclearHeight(){\n\t\tthis.element.style.height = \"\";\n\t\tthis.height = null;\n\n\t\tthis.dispatch(\"cell-height\", this, \"\");\n\t}\n\n\tsetHeight(){\n\t\tthis.height = this.row.height;\n\t\tthis.element.style.height = this.row.heightStyled;\n\n\t\tthis.dispatch(\"cell-height\", this, this.row.heightStyled);\n\t}\n\n\tgetHeight(){\n\t\treturn this.height || this.element.offsetHeight;\n\t}\n\n\tshow(){\n\t\tthis.element.style.display = this.column.vertAlign ? \"inline-flex\" : \"\";\n\t}\n\n\thide(){\n\t\tthis.element.style.display = \"none\";\n\t}\n\n\tdelete(){\n\t\tthis.dispatch(\"cell-delete\", this);\n\n\t\tif(!this.table.rowManager.redrawBlock && this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t}\n\n\t\tthis.element = false;\n\t\tthis.column.deleteCell(this);\n\t\tthis.row.deleteCell(this);\n\t\tthis.calcs = {};\n\t}\n\n\tgetIndex(){\n\t\treturn this.row.getCellIndex(this);\n\t}\n\n\t//////////////// Object Generation /////////////////\n\tgetComponent(){\n\t\tif(!this.component){\n\t\t\tthis.component = new CellComponent(this);\n\t\t}\n\n\t\treturn this.component;\n\t}\n}\n","import Column from './Column.js';\n\n//public column object\nexport default class ColumnComponent {\n\tconstructor (column){\n\t\tthis._column = column;\n\t\tthis.type = \"ColumnComponent\";\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else{\n\t\t\t\t\treturn target._column.table.componentFunctionBinder.handle(\"column\", target._column, name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tgetElement(){\n\t\treturn this._column.getElement();\n\t}\n\n\tgetDefinition(){\n\t\treturn this._column.getDefinition();\n\t}\n\n\tgetField(){\n\t\treturn this._column.getField();\n\t}\n\n\tgetTitleDownload() {\n\t\treturn this._column.getTitleDownload();\n\t}\n\n\tgetCells(){\n\t\tvar cells = [];\n\n\t\tthis._column.cells.forEach(function(cell){\n\t\t\tcells.push(cell.getComponent());\n\t\t});\n\n\t\treturn cells;\n\t}\n\n\tisVisible(){\n\t\treturn this._column.visible;\n\t}\n\n\tshow(){\n\t\tif(this._column.isGroup){\n\t\t\tthis._column.columns.forEach(function(column){\n\t\t\t\tcolumn.show();\n\t\t\t});\n\t\t}else{\n\t\t\tthis._column.show();\n\t\t}\n\t}\n\n\thide(){\n\t\tif(this._column.isGroup){\n\t\t\tthis._column.columns.forEach(function(column){\n\t\t\t\tcolumn.hide();\n\t\t\t});\n\t\t}else{\n\t\t\tthis._column.hide();\n\t\t}\n\t}\n\n\ttoggle(){\n\t\tif(this._column.visible){\n\t\t\tthis.hide();\n\t\t}else{\n\t\t\tthis.show();\n\t\t}\n\t}\n\n\tdelete(){\n\t\treturn this._column.delete();\n\t}\n\n\tgetSubColumns(){\n\t\tvar output = [];\n\n\t\tif(this._column.columns.length){\n\t\t\tthis._column.columns.forEach(function(column){\n\t\t\t\toutput.push(column.getComponent());\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tgetParentColumn(){\n\t\treturn this._column.parent instanceof Column ? this._column.parent.getComponent() : false;\n\t}\n\n\t_getSelf(){\n\t\treturn this._column;\n\t}\n\n\tscrollTo(){\n\t\treturn this._column.table.columnManager.scrollToColumn(this._column);\n\t}\n\n\tgetTable(){\n\t\treturn this._column.table;\n\t}\n\n\tmove(to, after){\n\t\tvar toColumn = this._column.table.columnManager.findColumn(to);\n\n\t\tif(toColumn){\n\t\t\tthis._column.table.columnManager.moveColumn(this._column, toColumn, after);\n\t\t}else{\n\t\t\tconsole.warn(\"Move Error - No matching column found:\", toColumn);\n\t\t}\n\t}\n\n\tgetNextColumn(){\n\t\tvar nextCol = this._column.nextColumn();\n\n\t\treturn nextCol ? nextCol.getComponent() : false;\n\t}\n\n\tgetPrevColumn(){\n\t\tvar prevCol = this._column.prevColumn();\n\n\t\treturn prevCol ? prevCol.getComponent() : false;\n\t}\n\n\tupdateDefinition(updates){\n\t\treturn this._column.updateDefinition(updates);\n\t}\n\n\tgetWidth(){\n\t\treturn this._column.getWidth();\n\t}\n\n\tsetWidth(width){\n\t\tvar result;\n\n\t\tif(width === true){\n\t\t\tresult =  this._column.reinitializeWidth(true);\n\t\t}else{\n\t\t\tresult =  this._column.setWidth(width);\n\t\t}\n\n\t\tthis._column.table.columnManager.rerenderColumns(true);\n\n\t\treturn result;\n\t}\n}","export default {\n\t\"title\": undefined,\n\t\"field\": undefined,\n\t\"columns\": undefined,\n\t\"visible\": undefined,\n\t\"hozAlign\": undefined,\n\t\"vertAlign\": undefined,\n\t\"width\": undefined,\n\t\"minWidth\": 40,\n\t\"maxWidth\": undefined,\n\t\"maxInitialWidth\": undefined,\n\t\"cssClass\": undefined,\n\t\"variableHeight\": undefined,\n\t\"headerVertical\": undefined,\n\t\"headerHozAlign\": undefined,\n\t\"headerWordWrap\": false,\n\t\"editableTitle\": undefined,\n};","import CoreFeature from '../CoreFeature.js';\nimport ColumnComponent from './ColumnComponent.js';\nimport defaultOptions from './defaults/options.js';\n\nimport Cell from '../cell/Cell.js';\n\nclass Column extends CoreFeature{\n\n\tconstructor(def, parent){\n\t\tsuper(parent.table);\n\n\t\tthis.definition = def; //column definition\n\t\tthis.parent = parent; //hold parent object\n\t\tthis.type = \"column\"; //type of element\n\t\tthis.columns = []; //child columns\n\t\tthis.cells = []; //cells bound to this column\n\t\tthis.element = this.createElement(); //column header element\n\t\tthis.contentElement = false;\n\t\tthis.titleHolderElement = false;\n\t\tthis.titleElement = false;\n\t\tthis.groupElement = this.createGroupElement(); //column group holder element\n\t\tthis.isGroup = false;\n\t\tthis.hozAlign = \"\"; //horizontal text alignment\n\t\tthis.vertAlign = \"\"; //vert text alignment\n\n\t\t//multi dimensional filed handling\n\t\tthis.field =\"\";\n\t\tthis.fieldStructure = \"\";\n\t\tthis.getFieldValue = \"\";\n\t\tthis.setFieldValue = \"\";\n\n\t\tthis.titleDownload = null;\n\t\tthis.titleFormatterRendered = false;\n\n\t\tthis.mapDefinitions();\n\n\t\tthis.setField(this.definition.field);\n\n\t\tthis.modules = {}; //hold module variables;\n\n\t\tthis.width = null; //column width\n\t\tthis.widthStyled = \"\"; //column width pre-styled to improve render efficiency\n\t\tthis.maxWidth = null; //column maximum width\n\t\tthis.maxWidthStyled = \"\"; //column maximum pre-styled to improve render efficiency\n\t\tthis.maxInitialWidth = null;\n\t\tthis.minWidth = null; //column minimum width\n\t\tthis.minWidthStyled = \"\"; //column minimum pre-styled to improve render efficiency\n\t\tthis.widthFixed = false; //user has specified a width for this column\n\n\t\tthis.visible = true; //default visible state\n\n\t\tthis.component = null;\n\n\t\t//initialize column\n\t\tif(this.definition.columns){\n\n\t\t\tthis.isGroup = true;\n\n\t\t\tthis.definition.columns.forEach((def, i) => {\n\t\t\t\tvar newCol = new Column(def, this);\n\t\t\t\tthis.attachColumn(newCol);\n\t\t\t});\n\n\t\t\tthis.checkColumnVisibility();\n\t\t}else{\n\t\t\tparent.registerColumnField(this);\n\t\t}\n\n\t\tthis._initialize();\n\t}\n\n\tcreateElement (){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-col\");\n\t\tel.setAttribute(\"role\", \"columnheader\");\n\t\tel.setAttribute(\"aria-sort\", \"none\");\n\n\t\tswitch(this.table.options.columnHeaderVertAlign){\n\t\t\tcase \"middle\":\n\t\t\t\tel.style.justifyContent = \"center\";\n\t\t\t\tbreak;\n\t\t\tcase \"bottom\":\n\t\t\t\tel.style.justifyContent = \"flex-end\";\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn el;\n\t}\n\n\tcreateGroupElement (){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-col-group-cols\");\n\n\t\treturn el;\n\t}\n\n\tmapDefinitions(){\n\t\tvar defaults = this.table.options.columnDefaults;\n\n\t\t//map columnDefaults onto column definitions\n\t\tif(defaults){\n\t\t\tfor(let key in defaults){\n\t\t\t\tif(typeof this.definition[key] === \"undefined\"){\n\t\t\t\t\tthis.definition[key] = defaults[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.definition = this.table.columnManager.optionsList.generate(Column.defaultOptionList, this.definition);\n\t}\n\n\tcheckDefinition(){\n\t\tObject.keys(this.definition).forEach((key) => {\n\t\t\tif(Column.defaultOptionList.indexOf(key) === -1){\n\t\t\t\tconsole.warn(\"Invalid column definition option in '\" + (this.field || this.definition.title) + \"' column:\", key);\n\t\t\t}\n\t\t});\n\t}\n\n\tsetField(field){\n\t\tthis.field = field;\n\t\tthis.fieldStructure = field ? (this.table.options.nestedFieldSeparator ? field.split(this.table.options.nestedFieldSeparator) : [field]) : [];\n\t\tthis.getFieldValue = this.fieldStructure.length > 1 ? this._getNestedData : this._getFlatData;\n\t\tthis.setFieldValue = this.fieldStructure.length > 1 ? this._setNestedData : this._setFlatData;\n\t}\n\n\t//register column position with column manager\n\tregisterColumnPosition(column){\n\t\tthis.parent.registerColumnPosition(column);\n\t}\n\n\t//register column position with column manager\n\tregisterColumnField(column){\n\t\tthis.parent.registerColumnField(column);\n\t}\n\n\t//trigger position registration\n\treRegisterPosition(){\n\t\tif(this.isGroup){\n\t\t\tthis.columns.forEach(function(column){\n\t\t\t\tcolumn.reRegisterPosition();\n\t\t\t});\n\t\t}else{\n\t\t\tthis.registerColumnPosition(this);\n\t\t}\n\t}\n\n\t//build header element\n\t_initialize(){\n\t\tvar def = this.definition;\n\n\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\n\t\tif(def.headerVertical){\n\t\t\tthis.element.classList.add(\"tabulator-col-vertical\");\n\n\t\t\tif(def.headerVertical === \"flip\"){\n\t\t\t\tthis.element.classList.add(\"tabulator-col-vertical-flip\");\n\t\t\t}\n\t\t}\n\n\t\tthis.contentElement = this._buildColumnHeaderContent();\n\n\t\tthis.element.appendChild(this.contentElement);\n\n\t\tif(this.isGroup){\n\t\t\tthis._buildGroupHeader();\n\t\t}else{\n\t\t\tthis._buildColumnHeader();\n\t\t}\n\n\t\tthis.dispatch(\"column-init\", this);\n\t}\n\n\t//build header element for header\n\t_buildColumnHeader(){\n\t\tvar def = this.definition;\n\n\t\tthis.dispatch(\"column-layout\", this);\n\n\t\t//set column visibility\n\t\tif(typeof def.visible != \"undefined\"){\n\t\t\tif(def.visible){\n\t\t\t\tthis.show(true);\n\t\t\t}else{\n\t\t\t\tthis.hide(true);\n\t\t\t}\n\t\t}\n\n\t\t//assign additional css classes to column header\n\t\tif(def.cssClass){\n\t\t\tvar classNames = def.cssClass.split(\" \");\n\t\t\tclassNames.forEach((className) => {\n\t\t\t\tthis.element.classList.add(className);\n\t\t\t});\n\t\t}\n\n\t\tif(def.field){\n\t\t\tthis.element.setAttribute(\"tabulator-field\", def.field);\n\t\t}\n\n\t\t//set min width if present\n\t\tthis.setMinWidth(parseInt(def.minWidth));\n\n\t\tif (def.maxInitialWidth) {\n\t\t\tthis.maxInitialWidth = parseInt(def.maxInitialWidth);\n\t\t}\n\t\t\n\t\tif(def.maxWidth){\n\t\t\tthis.setMaxWidth(parseInt(def.maxWidth));\n\t\t}\n\n\t\tthis.reinitializeWidth();\n\n\t\t//set horizontal text alignment\n\t\tthis.hozAlign = this.definition.hozAlign;\n\t\tthis.vertAlign = this.definition.vertAlign;\n\n\t\tthis.titleElement.style.textAlign = this.definition.headerHozAlign;\n\t}\n\n\t_buildColumnHeaderContent(){\n\t\tvar contentElement = document.createElement(\"div\");\n\t\tcontentElement.classList.add(\"tabulator-col-content\");\n\n\t\tthis.titleHolderElement = document.createElement(\"div\");\n\t\tthis.titleHolderElement.classList.add(\"tabulator-col-title-holder\");\n\n\t\tcontentElement.appendChild(this.titleHolderElement);\n\n\t\tthis.titleElement = this._buildColumnHeaderTitle();\n\n\t\tthis.titleHolderElement.appendChild(this.titleElement);\n\n\t\treturn contentElement;\n\t}\n\n\t//build title element of column\n\t_buildColumnHeaderTitle(){\n\t\tvar def = this.definition;\n\n\t\tvar titleHolderElement = document.createElement(\"div\");\n\t\ttitleHolderElement.classList.add(\"tabulator-col-title\");\n\t\t\n\t\tif(def.headerWordWrap){\n\t\t\ttitleHolderElement.classList.add(\"tabulator-col-title-wrap\");\n\t\t}\n\n\t\tif(def.editableTitle){\n\t\t\tvar titleElement = document.createElement(\"input\");\n\t\t\ttitleElement.classList.add(\"tabulator-title-editor\");\n\n\t\t\ttitleElement.addEventListener(\"click\", (e) => {\n\t\t\t\te.stopPropagation();\n\t\t\t\ttitleElement.focus();\n\t\t\t});\n\n\t\t\ttitleElement.addEventListener(\"change\", () => {\n\t\t\t\tdef.title = titleElement.value;\n\t\t\t\tthis.dispatchExternal(\"columnTitleChanged\", this.getComponent());\n\t\t\t});\n\n\t\t\ttitleHolderElement.appendChild(titleElement);\n\n\t\t\tif(def.field){\n\t\t\t\tthis.langBind(\"columns|\" + def.field, (text) => {\n\t\t\t\t\ttitleElement.value = text || (def.title || \"&nbsp;\");\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\ttitleElement.value  = def.title || \"&nbsp;\";\n\t\t\t}\n\n\t\t}else{\n\t\t\tif(def.field){\n\t\t\t\tthis.langBind(\"columns|\" + def.field, (text) => {\n\t\t\t\t\tthis._formatColumnHeaderTitle(titleHolderElement, text || (def.title || \"&nbsp;\"));\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tthis._formatColumnHeaderTitle(titleHolderElement, def.title || \"&nbsp;\");\n\t\t\t}\n\t\t}\n\n\t\treturn titleHolderElement;\n\t}\n\n\t_formatColumnHeaderTitle(el, title){\n\t\tvar contents = this.chain(\"column-format\", [this, title, el], null, () => {\n\t\t\treturn title;\n\t\t});\n\n\t\tswitch(typeof contents){\n\t\t\tcase \"object\":\n\t\t\t\tif(contents instanceof Node){\n\t\t\t\t\tel.appendChild(contents);\n\t\t\t\t}else{\n\t\t\t\t\tel.innerHTML = \"\";\n\t\t\t\t\tconsole.warn(\"Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:\", contents);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"undefined\":\n\t\t\t\tel.innerHTML = \"\";\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tel.innerHTML = contents;\n\t\t}\n\t}\n\n\t//build header element for column group\n\t_buildGroupHeader(){\n\t\tthis.element.classList.add(\"tabulator-col-group\");\n\t\tthis.element.setAttribute(\"role\", \"columngroup\");\n\t\tthis.element.setAttribute(\"aria-title\", this.definition.title);\n\n\t\t//asign additional css classes to column header\n\t\tif(this.definition.cssClass){\n\t\t\tvar classNames = this.definition.cssClass.split(\" \");\n\t\t\tclassNames.forEach((className) => {\n\t\t\t\tthis.element.classList.add(className);\n\t\t\t});\n\t\t}\n\n\t\tthis.titleElement.style.textAlign = this.definition.headerHozAlign;\n\n\t\tthis.element.appendChild(this.groupElement);\n\t}\n\n\t//flat field lookup\n\t_getFlatData(data){\n\t\treturn data[this.field];\n\t}\n\n\t//nested field lookup\n\t_getNestedData(data){\n\t\tvar dataObj = data,\n\t\tstructure = this.fieldStructure,\n\t\tlength = structure.length,\n\t\toutput;\n\n\t\tfor(let i = 0; i < length; i++){\n\n\t\t\tdataObj = dataObj[structure[i]];\n\n\t\t\toutput = dataObj;\n\n\t\t\tif(!dataObj){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn output;\n\t}\n\n\t//flat field set\n\t_setFlatData(data, value){\n\t\tif(this.field){\n\t\t\tdata[this.field] = value;\n\t\t}\n\t}\n\n\t//nested field set\n\t_setNestedData(data, value){\n\t\tvar dataObj = data,\n\t\tstructure = this.fieldStructure,\n\t\tlength = structure.length;\n\n\t\tfor(let i = 0; i < length; i++){\n\n\t\t\tif(i == length -1){\n\t\t\t\tdataObj[structure[i]] = value;\n\t\t\t}else{\n\t\t\t\tif(!dataObj[structure[i]]){\n\t\t\t\t\tif(typeof value !== \"undefined\"){\n\t\t\t\t\t\tdataObj[structure[i]] = {};\n\t\t\t\t\t}else{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tdataObj = dataObj[structure[i]];\n\t\t\t}\n\t\t}\n\t}\n\n\t//attach column to this group\n\tattachColumn(column){\n\t\tif(this.groupElement){\n\t\t\tthis.columns.push(column);\n\t\t\tthis.groupElement.appendChild(column.getElement());\n\n\t\t\tcolumn.columnRendered();\n\t\t}else{\n\t\t\tconsole.warn(\"Column Warning - Column being attached to another column instead of column group\");\n\t\t}\n\t}\n\n\t//vertically align header in column\n\tverticalAlign(alignment, height){\n\n\t\t//calculate height of column header and group holder element\n\t\tvar parentHeight = this.parent.isGroup ? this.parent.getGroupElement().clientHeight : (height || this.parent.getHeadersElement().clientHeight);\n\t\t// var parentHeight = this.parent.isGroup ? this.parent.getGroupElement().clientHeight : this.parent.getHeadersElement().clientHeight;\n\n\t\tthis.element.style.height = parentHeight + \"px\";\n\n\t\tthis.dispatch(\"column-height\", this, this.element.style.height);\n\n\t\tif(this.isGroup){\n\t\t\tthis.groupElement.style.minHeight = (parentHeight - this.contentElement.offsetHeight) + \"px\";\n\t\t}\n\n\t\t//vertically align cell contents\n\t\t// if(!this.isGroup && alignment !== \"top\"){\n\t\t// \tif(alignment === \"bottom\"){\n\t\t// \t\tthis.element.style.paddingTop = (this.element.clientHeight - this.contentElement.offsetHeight) + \"px\";\n\t\t// \t}else{\n\t\t// \t\tthis.element.style.paddingTop = ((this.element.clientHeight - this.contentElement.offsetHeight) / 2) + \"px\";\n\t\t// \t}\n\t\t// }\n\n\t\tthis.columns.forEach(function(column){\n\t\t\tcolumn.verticalAlign(alignment);\n\t\t});\n\t}\n\n\t//clear vertical alignment\n\tclearVerticalAlign(){\n\t\tthis.element.style.paddingTop = \"\";\n\t\tthis.element.style.height = \"\";\n\t\tthis.element.style.minHeight = \"\";\n\t\tthis.groupElement.style.minHeight = \"\";\n\n\t\tthis.columns.forEach(function(column){\n\t\t\tcolumn.clearVerticalAlign();\n\t\t});\n\n\t\tthis.dispatch(\"column-height\", this, \"\");\n\t}\n\n\t//// Retrieve Column Information ////\n\t//return column header element\n\tgetElement(){\n\t\treturn this.element;\n\t}\n\n\t//return column group element\n\tgetGroupElement(){\n\t\treturn this.groupElement;\n\t}\n\n\t//return field name\n\tgetField(){\n\t\treturn this.field;\n\t}\n\n\tgetTitleDownload() {\n\t\treturn this.titleDownload;\n\t}\n\n\t//return the first column in a group\n\tgetFirstColumn(){\n\t\tif(!this.isGroup){\n\t\t\treturn this;\n\t\t}else{\n\t\t\tif(this.columns.length){\n\t\t\t\treturn this.columns[0].getFirstColumn();\n\t\t\t}else{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\n\t//return the last column in a group\n\tgetLastColumn(){\n\t\tif(!this.isGroup){\n\t\t\treturn this;\n\t\t}else{\n\t\t\tif(this.columns.length){\n\t\t\t\treturn this.columns[this.columns.length -1].getLastColumn();\n\t\t\t}else{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\n\t//return all columns in a group\n\tgetColumns(traverse){\n\t\tvar columns = [];\n\n\t\tif(traverse){\n\t\t\tthis.columns.forEach((column) => {\n\t\t\t\tcolumns.push(column);\n\t\t\t\t\t\n\t\t\t\tcolumns = columns.concat(column.getColumns(true));\n\t\t\t});\n\t\t}else{\n\t\t\tcolumns = this.columns;\n\t\t}\n\t\t\n\t\treturn columns;\n\t}\n\n\t//return all columns in a group\n\tgetCells(){\n\t\treturn this.cells;\n\t}\n\n\t//retrieve the top column in a group of columns\n\tgetTopColumn(){\n\t\tif(this.parent.isGroup){\n\t\t\treturn this.parent.getTopColumn();\n\t\t}else{\n\t\t\treturn this;\n\t\t}\n\t}\n\n\t//return column definition object\n\tgetDefinition(updateBranches){\n\t\tvar colDefs = [];\n\n\t\tif(this.isGroup && updateBranches){\n\t\t\tthis.columns.forEach(function(column){\n\t\t\t\tcolDefs.push(column.getDefinition(true));\n\t\t\t});\n\n\t\t\tthis.definition.columns = colDefs;\n\t\t}\n\n\t\treturn this.definition;\n\t}\n\n\t//////////////////// Actions ////////////////////\n\tcheckColumnVisibility(){\n\t\tvar visible = false;\n\n\t\tthis.columns.forEach(function(column){\n\t\t\tif(column.visible){\n\t\t\t\tvisible = true;\n\t\t\t}\n\t\t});\n\n\t\tif(visible){\n\t\t\tthis.show();\n\t\t\tthis.dispatchExternal(\"columnVisibilityChanged\", this.getComponent(), false);\n\t\t}else{\n\t\t\tthis.hide();\n\t\t}\n\t}\n\n\t//show column\n\tshow(silent, responsiveToggle){\n\t\tif(!this.visible){\n\t\t\tthis.visible = true;\n\n\t\t\tthis.element.style.display = \"\";\n\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.checkColumnVisibility();\n\t\t\t}\n\n\t\t\tthis.cells.forEach(function(cell){\n\t\t\t\tcell.show();\n\t\t\t});\n\n\t\t\tif(!this.isGroup && this.width === null){\n\t\t\t\tthis.reinitializeWidth();\n\t\t\t}\n\n\t\t\tthis.table.columnManager.verticalAlignHeaders();\n\n\t\t\tthis.dispatch(\"column-show\", this, responsiveToggle);\n\n\t\t\tif(!silent){\n\t\t\t\tthis.dispatchExternal(\"columnVisibilityChanged\", this.getComponent(), true);\n\t\t\t}\n\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.matchChildWidths();\n\t\t\t}\n\n\t\t\tif(!this.silent){\n\t\t\t\tthis.table.columnManager.rerenderColumns();\n\t\t\t}\n\t\t}\n\t}\n\n\t//hide column\n\thide(silent, responsiveToggle){\n\t\tif(this.visible){\n\t\t\tthis.visible = false;\n\n\t\t\tthis.element.style.display = \"none\";\n\n\t\t\tthis.table.columnManager.verticalAlignHeaders();\n\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.checkColumnVisibility();\n\t\t\t}\n\n\t\t\tthis.cells.forEach(function(cell){\n\t\t\t\tcell.hide();\n\t\t\t});\n\n\t\t\tthis.dispatch(\"column-hide\", this, responsiveToggle);\n\n\t\t\tif(!silent){\n\t\t\t\tthis.dispatchExternal(\"columnVisibilityChanged\", this.getComponent(), false);\n\t\t\t}\n\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.matchChildWidths();\n\t\t\t}\n\n\t\t\tif(!this.silent){\n\t\t\t\tthis.table.columnManager.rerenderColumns();\n\t\t\t}\n\t\t}\n\t}\n\n\tmatchChildWidths(){\n\t\tvar childWidth = 0;\n\n\t\tif(this.contentElement && this.columns.length){\n\t\t\tthis.columns.forEach(function(column){\n\t\t\t\tif(column.visible){\n\t\t\t\t\tchildWidth += column.getWidth();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.contentElement.style.maxWidth = (childWidth - 1) + \"px\";\n\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.matchChildWidths();\n\t\t\t}\n\t\t}\n\t}\n\n\tremoveChild(child){\n\t\tvar index = this.columns.indexOf(child);\n\n\t\tif(index > -1){\n\t\t\tthis.columns.splice(index, 1);\n\t\t}\n\n\t\tif(!this.columns.length){\n\t\t\tthis.delete();\n\t\t}\n\t}\n\n\tsetWidth(width){\n\t\tthis.widthFixed = true;\n\t\tthis.setWidthActual(width);\n\t}\n\n\tsetWidthActual(width){\n\t\tif(isNaN(width)){\n\t\t\twidth = Math.floor((this.table.element.clientWidth/100) * parseInt(width));\n\t\t}\n\n\t\twidth = Math.max(this.minWidth, width);\n\n\t\tif(this.maxWidth){\n\t\t\twidth = Math.min(this.maxWidth, width);\n\t\t}\n\n\t\tthis.width = width;\n\t\tthis.widthStyled = width ? width + \"px\" : \"\";\n\n\t\tthis.element.style.width = this.widthStyled;\n\n\t\tif(!this.isGroup){\n\t\t\tthis.cells.forEach(function(cell){\n\t\t\t\tcell.setWidth();\n\t\t\t});\n\t\t}\n\n\t\tif(this.parent.isGroup){\n\t\t\tthis.parent.matchChildWidths();\n\t\t}\n\n\t\tthis.dispatch(\"column-width\", this);\n\t}\n\n\tcheckCellHeights(){\n\t\tvar rows = [];\n\n\t\tthis.cells.forEach(function(cell){\n\t\t\tif(cell.row.heightInitialized){\n\t\t\t\tif(cell.row.getElement().offsetParent !== null){\n\t\t\t\t\trows.push(cell.row);\n\t\t\t\t\tcell.row.clearCellHeight();\n\t\t\t\t}else{\n\t\t\t\t\tcell.row.heightInitialized = false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\trows.forEach(function(row){\n\t\t\trow.calcHeight();\n\t\t});\n\n\t\trows.forEach(function(row){\n\t\t\trow.setCellHeight();\n\t\t});\n\t}\n\n\tgetWidth(){\n\t\tvar width = 0;\n\n\t\tif(this.isGroup){\n\t\t\tthis.columns.forEach(function(column){\n\t\t\t\tif(column.visible){\n\t\t\t\t\twidth += column.getWidth();\n\t\t\t\t}\n\t\t\t});\n\t\t}else{\n\t\t\twidth = this.width;\n\t\t}\n\n\t\treturn width;\n\t}\n\n\tgetLeftOffset(){\n\t\tvar offset = this.element.offsetLeft;\n\n\t\tif(this.parent.isGroup){\n\t\t\toffset += this.parent.getLeftOffset();\n\t\t}\n\n\t\treturn offset;\n\t}\n\n\tgetHeight(){\n\t\treturn Math.ceil(this.element.getBoundingClientRect().height);\n\t}\n\n\tsetMinWidth(minWidth){\n\t\tif(this.maxWidth && minWidth > this.maxWidth){\n\t\t\tminWidth = this.maxWidth;\n\n\t\t\tconsole.warn(\"the minWidth (\"+ minWidth + \"px) for column '\" + this.field + \"' cannot be bigger that its maxWidth (\"+ this.maxWidthStyled + \")\");\n\t\t}\n\n\t\tthis.minWidth = minWidth;\n\t\tthis.minWidthStyled = minWidth ? minWidth + \"px\" : \"\";\n\n\t\tthis.element.style.minWidth = this.minWidthStyled;\n\n\t\tthis.cells.forEach(function(cell){\n\t\t\tcell.setMinWidth();\n\t\t});\n\t}\n\n\tsetMaxWidth(maxWidth){\n\t\tif(this.minWidth && maxWidth < this.minWidth){\n\t\t\tmaxWidth = this.minWidth;\n\n\t\t\tconsole.warn(\"the maxWidth (\"+ maxWidth + \"px) for column '\" + this.field + \"' cannot be smaller that its minWidth (\"+ this.minWidthStyled + \")\");\n\t\t}\n\n\t\tthis.maxWidth = maxWidth;\n\t\tthis.maxWidthStyled = maxWidth ? maxWidth + \"px\" : \"\";\n\n\t\tthis.element.style.maxWidth = this.maxWidthStyled;\n\n\t\tthis.cells.forEach(function(cell){\n\t\t\tcell.setMaxWidth();\n\t\t});\n\t}\n\n\tdelete(){\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif(this.isGroup){\n\t\t\t\tthis.columns.forEach(function(column){\n\t\t\t\t\tcolumn.delete();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.dispatch(\"column-delete\", this);\n\n\t\t\tvar cellCount = this.cells.length;\n\n\t\t\tfor(let i = 0; i < cellCount; i++){\n\t\t\t\tthis.cells[0].delete();\n\t\t\t}\n\n\t\t\tif(this.element.parentNode){\n\t\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\t}\n\n\t\t\tthis.element = false;\n\t\t\tthis.contentElement = false;\n\t\t\tthis.titleElement = false;\n\t\t\tthis.groupElement = false;\n\n\t\t\tif(this.parent.isGroup){\n\t\t\t\tthis.parent.removeChild(this);\n\t\t\t}\n\n\t\t\tthis.table.columnManager.deregisterColumn(this);\n\n\t\t\tthis.table.columnManager.rerenderColumns(true);\n\n\t\t\tresolve();\n\t\t});\n\t}\n\n\tcolumnRendered(){\n\t\tif(this.titleFormatterRendered){\n\t\t\tthis.titleFormatterRendered();\n\t\t}\n\n\t\tthis.dispatch(\"column-rendered\", this);\n\t}\n\n\t//////////////// Cell Management /////////////////\n\t//generate cell for this column\n\tgenerateCell(row){\n\t\tvar cell = new Cell(this, row);\n\n\t\tthis.cells.push(cell);\n\n\t\treturn cell;\n\t}\n\n\tnextColumn(){\n\t\tvar index = this.table.columnManager.findColumnIndex(this);\n\t\treturn index > -1 ? this._nextVisibleColumn(index + 1) : false;\n\t}\n\n\t_nextVisibleColumn(index){\n\t\tvar column = this.table.columnManager.getColumnByIndex(index);\n\t\treturn !column || column.visible ? column : this._nextVisibleColumn(index + 1);\n\t}\n\n\tprevColumn(){\n\t\tvar index = this.table.columnManager.findColumnIndex(this);\n\t\treturn index > -1 ? this._prevVisibleColumn(index - 1) : false;\n\t}\n\n\t_prevVisibleColumn(index){\n\t\tvar column = this.table.columnManager.getColumnByIndex(index);\n\t\treturn !column || column.visible ? column : this._prevVisibleColumn(index - 1);\n\t}\n\n\treinitializeWidth(force){\n\t\tthis.widthFixed = false;\n\n\t\t//set width if present\n\t\tif(typeof this.definition.width !== \"undefined\" && !force){\n\t\t\t// maxInitialWidth ignored here as width specified\n\t\t\tthis.setWidth(this.definition.width);\n\t\t}\n\n\t\tthis.dispatch(\"column-width-fit-before\", this);\n\n\t\tthis.fitToData(force);\n\n\t\tthis.dispatch(\"column-width-fit-after\", this);\n\t}\n\n\t//set column width to maximum cell width for non group columns\n\tfitToData(force){\n\t\tif(this.isGroup){\n\t\t\treturn;\n\t\t}\n\n\t\tif(!this.widthFixed){\n\t\t\tthis.element.style.width = \"\";\n\n\t\t\tthis.cells.forEach((cell) => {\n\t\t\t\tcell.clearWidth();\n\t\t\t});\n\t\t}\n\n\t\tvar maxWidth = this.element.offsetWidth;\n\n\t\tif(!this.width || !this.widthFixed){\n\t\t\tthis.cells.forEach((cell) => {\n\t\t\t\tvar width = cell.getWidth();\n\n\t\t\t\tif(width > maxWidth){\n\t\t\t\t\tmaxWidth = width;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(maxWidth){\n\t\t\t\tvar setTo = maxWidth + 1;\n\t\t\t\tif (this.maxInitialWidth && !force) {\n\t\t\t\t\tsetTo = Math.min(setTo, this.maxInitialWidth);\n\t\t\t\t}\n\t\t\t\tthis.setWidthActual(setTo);\n\t\t\t}\n\t\t}\n\t}\n\n\tupdateDefinition(updates){\n\t\tvar definition;\n\n\t\tif(!this.isGroup){\n\t\t\tif(!this.parent.isGroup){\n\t\t\t\tdefinition = Object.assign({}, this.getDefinition());\n\t\t\t\tdefinition = Object.assign(definition, updates);\n\n\t\t\t\treturn this.table.columnManager.addColumn(definition, false, this)\n\t\t\t\t\t.then((column) => {\n\n\t\t\t\t\t\tif(definition.field == this.field){\n\t\t\t\t\t\t\tthis.field = false; //clear field name to prevent deletion of duplicate column from arrays\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn this.delete()\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\treturn column.getComponent();\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tconsole.error(\"Column Update Error - The updateDefinition function is only available on ungrouped columns\");\n\t\t\t\treturn Promise.reject(\"Column Update Error - The updateDefinition function is only available on columns, not column groups\");\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.error(\"Column Update Error - The updateDefinition function is only available on ungrouped columns\");\n\t\t\treturn Promise.reject(\"Column Update Error - The updateDefinition function is only available on columns, not column groups\");\n\t\t}\n\t}\n\n\tdeleteCell(cell){\n\t\tvar index = this.cells.indexOf(cell);\n\n\t\tif(index > -1){\n\t\t\tthis.cells.splice(index, 1);\n\t\t}\n\t}\n\n\t//////////////// Object Generation /////////////////\n\tgetComponent(){\n\t\tif(!this.component){\n\t\t\tthis.component = new ColumnComponent(this);\n\t\t}\n\n\t\treturn this.component;\n\t}\n}\n\nColumn.defaultOptionList = defaultOptions;\n\nexport default Column;\n","//public row object\nexport default class RowComponent {\n\n\tconstructor (row){\n\t\tthis._row = row;\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else{\n\t\t\t\t\treturn target._row.table.componentFunctionBinder.handle(\"row\", target._row, name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tgetData(transform){\n\t\treturn this._row.getData(transform);\n\t}\n\n\tgetElement(){\n\t\treturn this._row.getElement();\n\t}\n\n\tgetCells(){\n\t\tvar cells = [];\n\n\t\tthis._row.getCells().forEach(function(cell){\n\t\t\tcells.push(cell.getComponent());\n\t\t});\n\n\t\treturn cells;\n\t}\n\n\tgetCell(column){\n\t\tvar cell = this._row.getCell(column);\n\t\treturn cell ? cell.getComponent() : false;\n\t}\n\n\tgetIndex(){\n\t\treturn this._row.getData(\"data\")[this._row.table.options.index];\n\t}\n\n\tgetPosition(){\n\t\treturn this._row.getPosition();\n\t}\n\n\twatchPosition(callback){\n\t\treturn this._row.watchPosition(callback);\n\t}\n\n\tdelete(){\n\t\treturn this._row.delete();\n\t}\n\n\tscrollTo(){\n\t\treturn this._row.table.rowManager.scrollToRow(this._row);\n\t}\n\n\tmove(to, after){\n\t\tthis._row.moveToRow(to, after);\n\t}\n\n\tupdate(data){\n\t\treturn this._row.updateData(data);\n\t}\n\n\tnormalizeHeight(){\n\t\tthis._row.normalizeHeight(true);\n\t}\n\n\t_getSelf(){\n\t\treturn this._row;\n\t}\n\n\treformat(){\n\t\treturn this._row.reinitialize();\n\t}\n\n\tgetTable(){\n\t\treturn this._row.table;\n\t}\n\n\tgetNextRow(){\n\t\tvar row = this._row.nextRow();\n\t\treturn row ? row.getComponent() : row;\n\t}\n\n\tgetPrevRow(){\n\t\tvar row = this._row.prevRow();\n\t\treturn row ? row.getComponent() : row;\n\t}\n}","import CoreFeature from '../CoreFeature.js';\nimport RowComponent from './RowComponent.js';\nimport Helpers from '../tools/Helpers.js';\n\nexport default class Row extends CoreFeature{\n\tconstructor (data, parent, type = \"row\"){\n\t\tsuper(parent.table);\n\t\t\n\t\tthis.parent = parent;\n\t\tthis.data = {};\n\t\tthis.type = type; //type of element\n\t\tthis.element = false;\n\t\tthis.modules = {}; //hold module variables;\n\t\tthis.cells = [];\n\t\tthis.height = 0; //hold element height\n\t\tthis.heightStyled = \"\"; //hold element height pre-styled to improve render efficiency\n\t\tthis.manualHeight = false; //user has manually set row height\n\t\tthis.outerHeight = 0; //hold elements outer height\n\t\tthis.initialized = false; //element has been rendered\n\t\tthis.heightInitialized = false; //element has resized cells to fit\n\t\tthis.position = 0; //store position of element in row list\n\t\tthis.positionWatchers = [];\n\t\t\n\t\tthis.component = null;\n\t\t\n\t\tthis.created = false;\n\t\t\n\t\tthis.setData(data);\n\t}\n\t\n\tcreate(){\n\t\tif(!this.created){\n\t\t\tthis.created = true;\n\t\t\tthis.generateElement();\n\t\t}\n\t}\n\t\n\tcreateElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-row\");\n\t\tel.setAttribute(\"role\", \"row\");\n\t\t\n\t\tthis.element = el;\n\t}\n\t\n\tgetElement(){\n\t\tthis.create();\n\t\treturn this.element;\n\t}\n\t\n\tdetachElement(){\n\t\tif (this.element && this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t}\n\t}\n\t\n\tgenerateElement(){\n\t\tthis.createElement();\n\t\tthis.dispatch(\"row-init\", this);\n\t}\n\t\n\tgenerateCells(){\n\t\tthis.cells = this.table.columnManager.generateCells(this);\n\t}\n\t\n\t//functions to setup on first render\n\tinitialize(force){\n\t\tthis.create();\n\t\t\n\t\tif(!this.initialized || force){\n\t\t\t\n\t\t\tthis.deleteCells();\n\t\t\t\n\t\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\t\t\t\n\t\t\tthis.dispatch(\"row-layout-before\", this);\n\t\t\t\n\t\t\tthis.generateCells();\n\t\t\t\n\t\t\tthis.initialized = true;\n\t\t\t\n\t\t\tthis.table.columnManager.renderer.renderRowCells(this);\n\t\t\t\n\t\t\tif(force){\n\t\t\t\tthis.normalizeHeight();\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"row-layout\", this);\n\t\t\t\n\t\t\tif(this.table.options.rowFormatter){\n\t\t\t\tthis.table.options.rowFormatter(this.getComponent());\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"row-layout-after\", this);\n\t\t}else{\n\t\t\tthis.table.columnManager.renderer.rerenderRowCells(this);\n\t\t}\n\t}\n\t\n\treinitializeHeight(){\n\t\tthis.heightInitialized = false;\n\t\t\n\t\tif(this.element && this.element.offsetParent !== null){\n\t\t\tthis.normalizeHeight(true);\n\t\t}\n\t}\n\n\tdeinitialize(){\n\t\tthis.initialized = false;\n\t}\n\t\n\tdeinitializeHeight(){\n\t\tthis.heightInitialized = false;\n\t}\n\t\n\treinitialize(children){\n\t\tthis.initialized = false;\n\t\tthis.heightInitialized = false;\n\t\t\n\t\tif(!this.manualHeight){\n\t\t\tthis.height = 0;\n\t\t\tthis.heightStyled = \"\";\n\t\t}\n\t\t\n\t\tif(this.element && this.element.offsetParent !== null){\n\t\t\tthis.initialize(true);\n\t\t}\n\t\t\n\t\tthis.dispatch(\"row-relayout\", this);\n\t}\n\t\n\t//get heights when doing bulk row style calcs in virtual DOM\n\tcalcHeight(force){\n\t\tvar maxHeight = 0,\n\t\tminHeight;\n\t\t\n\t\tif(this.table.options.rowHeight){\n\t\t\tthis.height = this.table.options.rowHeight;\n\t\t}else{\n\t\t\tminHeight = this.table.options.resizableRows ? this.element.clientHeight : 0;\n\t\t\t\n\t\t\tthis.cells.forEach(function(cell){\n\t\t\t\tvar height = cell.getHeight();\n\t\t\t\tif(height > maxHeight){\n\t\t\t\t\tmaxHeight = height;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif(force){\n\t\t\t\tthis.height = Math.max(maxHeight, minHeight);\n\t\t\t}else{\n\t\t\t\tthis.height = this.manualHeight ? this.height : Math.max(maxHeight, minHeight);\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.heightStyled = this.height ? this.height + \"px\" : \"\";\n\t\tthis.outerHeight = this.element.offsetHeight;\n\t}\n\t\n\t//set of cells\n\tsetCellHeight(){\n\t\tthis.cells.forEach(function(cell){\n\t\t\tcell.setHeight();\n\t\t});\n\t\t\n\t\tthis.heightInitialized = true;\n\t}\n\t\n\tclearCellHeight(){\n\t\tthis.cells.forEach(function(cell){\n\t\t\tcell.clearHeight();\n\t\t});\n\t}\n\t\n\t//normalize the height of elements in the row\n\tnormalizeHeight(force){\n\t\tif(force && !this.table.options.rowHeight){\n\t\t\tthis.clearCellHeight();\n\t\t}\n\t\t\n\t\tthis.calcHeight(force);\n\t\t\n\t\tthis.setCellHeight();\n\t}\n\t\n\t//set height of rows\n\tsetHeight(height, force){\n\t\tif(this.height != height || force){\n\t\t\t\n\t\t\tthis.manualHeight = true;\n\t\t\t\n\t\t\tthis.height = height;\n\t\t\tthis.heightStyled = height ? height + \"px\" : \"\";\n\t\t\t\n\t\t\tthis.setCellHeight();\n\t\t\t\n\t\t\t// this.outerHeight = this.element.outerHeight();\n\t\t\tthis.outerHeight = this.element.offsetHeight;\n\t\t}\n\t}\n\t\n\t//return rows outer height\n\tgetHeight(){\n\t\treturn this.outerHeight;\n\t}\n\t\n\t//return rows outer Width\n\tgetWidth(){\n\t\treturn this.element.offsetWidth;\n\t}\n\t\n\t//////////////// Cell Management /////////////////\n\tdeleteCell(cell){\n\t\tvar index = this.cells.indexOf(cell);\n\t\t\n\t\tif(index > -1){\n\t\t\tthis.cells.splice(index, 1);\n\t\t}\n\t}\n\t\n\t//////////////// Data Management /////////////////\n\tsetData(data){\n\t\tthis.data = this.chain(\"row-data-init-before\", [this, data], undefined, data);\n\t\t\n\t\tthis.dispatch(\"row-data-init-after\", this);\n\t}\n\t\n\t//update the rows data\n\tupdateData(updatedData){\n\t\tvar visible = this.element && Helpers.elVisible(this.element),\n\t\ttempData = {},\n\t\tnewRowData;\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\t\n\t\t\tif(typeof updatedData === \"string\"){\n\t\t\t\tupdatedData = JSON.parse(updatedData);\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"row-data-save-before\", this);\n\t\t\t\n\t\t\tif(this.subscribed(\"row-data-changing\")){\n\t\t\t\ttempData = Object.assign(tempData, this.data);\n\t\t\t\ttempData = Object.assign(tempData, updatedData);\n\t\t\t}\n\t\t\t\n\t\t\tnewRowData = this.chain(\"row-data-changing\", [this, tempData, updatedData], null, updatedData);\n\t\t\t\n\t\t\t//set data\n\t\t\tfor (let attrname in newRowData) {\n\t\t\t\tthis.data[attrname] = newRowData[attrname];\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"row-data-save-after\", this);\n\t\t\t\n\t\t\t//update affected cells only\n\t\t\tfor (let attrname in updatedData) {\n\t\t\t\t\n\t\t\t\tlet columns = this.table.columnManager.getColumnsByFieldRoot(attrname);\n\t\t\t\t\n\t\t\t\tcolumns.forEach((column) => {\n\t\t\t\t\tlet cell = this.getCell(column.getField());\n\t\t\t\t\t\n\t\t\t\t\tif(cell){\n\t\t\t\t\t\tlet value = column.getFieldValue(newRowData);\n\t\t\t\t\t\tif(cell.getValue() !== value){\n\t\t\t\t\t\t\tcell.setValueProcessData(value);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(visible){\n\t\t\t\t\t\t\t\tcell.cellRendered();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\t//Partial reinitialization if visible\n\t\t\tif(visible){\n\t\t\t\tthis.normalizeHeight(true);\n\t\t\t\t\n\t\t\t\tif(this.table.options.rowFormatter){\n\t\t\t\t\tthis.table.options.rowFormatter(this.getComponent());\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.initialized = false;\n\t\t\t\tthis.height = 0;\n\t\t\t\tthis.heightStyled = \"\";\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"row-data-changed\", this, visible, updatedData);\n\t\t\t\n\t\t\t//this.reinitialize();\n\t\t\t\n\t\t\tthis.dispatchExternal(\"rowUpdated\", this.getComponent());\n\t\t\t\n\t\t\tif(this.subscribedExternal(\"dataChanged\")){\n\t\t\t\tthis.dispatchExternal(\"dataChanged\", this.table.rowManager.getData());\n\t\t\t}\n\t\t\t\n\t\t\tresolve();\n\t\t});\n\t}\n\t\n\tgetData(transform){\n\t\tif(transform){\n\t\t\treturn this.chain(\"row-data-retrieve\", [this, transform], null, this.data);\n\t\t}\n\t\t\n\t\treturn this.data;\n\t}\n\t\n\tgetCell(column){\n\t\tvar match = false;\n\t\t\n\t\tcolumn = this.table.columnManager.findColumn(column);\n\t\t\n\t\tif(!this.initialized && this.cells.length === 0){\n\t\t\tthis.generateCells();\n\t\t}\n\t\t\n\t\tmatch = this.cells.find(function(cell){\n\t\t\treturn cell.column === column;\n\t\t});\n\t\t\n\t\treturn match;\n\t}\n\t\n\tgetCellIndex(findCell){\n\t\treturn this.cells.findIndex(function(cell){\n\t\t\treturn cell === findCell;\n\t\t});\n\t}\n\t\n\tfindCell(subject){\n\t\treturn this.cells.find((cell) => {\n\t\t\treturn cell.element === subject;\n\t\t});\n\t}\n\t\n\tgetCells(){\n\t\tif(!this.initialized && this.cells.length === 0){\n\t\t\tthis.generateCells();\n\t\t}\n\t\t\n\t\treturn this.cells;\n\t}\n\t\n\tnextRow(){\n\t\tvar row = this.table.rowManager.nextDisplayRow(this, true);\n\t\treturn row || false;\n\t}\n\t\n\tprevRow(){\n\t\tvar row = this.table.rowManager.prevDisplayRow(this, true);\n\t\treturn row || false;\n\t}\n\t\n\tmoveToRow(to, before){\n\t\tvar toRow = this.table.rowManager.findRow(to);\n\t\t\n\t\tif(toRow){\n\t\t\tthis.table.rowManager.moveRowActual(this, toRow, !before);\n\t\t\tthis.table.rowManager.refreshActiveData(\"display\", false, true);\n\t\t}else{\n\t\t\tconsole.warn(\"Move Error - No matching row found:\", to);\n\t\t}\n\t}\n\t\n\t///////////////////// Actions  /////////////////////\n\tdelete(){\n\t\tthis.dispatch(\"row-delete\", this);\n\t\t\n\t\tthis.deleteActual();\n\t\t\n\t\treturn Promise.resolve();\n\t}\n\t\n\tdeleteActual(blockRedraw){\n\t\tthis.detachModules();\n\t\t\n\t\tthis.table.rowManager.deleteRow(this, blockRedraw);\n\t\t\n\t\tthis.deleteCells();\n\t\t\n\t\tthis.initialized = false;\n\t\tthis.heightInitialized = false;\n\t\tthis.element = false;\n\t\t\n\t\tthis.dispatch(\"row-deleted\", this);\n\t}\n\t\n\tdetachModules(){\n\t\tthis.dispatch(\"row-deleting\", this);\n\t}\n\t\n\tdeleteCells(){\n\t\tvar cellCount = this.cells.length;\n\t\t\n\t\tfor(let i = 0; i < cellCount; i++){\n\t\t\tthis.cells[0].delete();\n\t\t}\n\t}\n\t\n\twipe(){\n\t\tthis.detachModules();\n\t\tthis.deleteCells();\n\t\t\n\t\tif(this.element){\n\t\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\t\t\t\n\t\t\tif(this.element.parentNode){\n\t\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.element = false;\n\t\tthis.modules = {};\n\t}\n\n\tisDisplayed(){\n\t\treturn this.table.rowManager.getDisplayRows().includes(this);\n\t}\n\n\tgetPosition(){\n\t\treturn this.isDisplayed() ? this.position : false;\n\t}\n\n\tsetPosition(position){\n\t\tif(position != this.position){\n\t\t\tthis.position = position;\n\n\t\t\tthis.positionWatchers.forEach((callback) => {\n\t\t\t\tcallback(this.position);\n\t\t\t});\n\t\t}\n\t}\n\n\twatchPosition(callback){\n\t\tthis.positionWatchers.push(callback);\n\n\t\tcallback(this.position);\n\t}\n\t\n\tgetGroup(){\n\t\treturn this.modules.group || false;\n\t}\n\t\n\t//////////////// Object Generation /////////////////\n\tgetComponent(){\n\t\tif(!this.component){\n\t\t\tthis.component = new RowComponent(this);\n\t\t}\n\t\t\n\t\treturn this.component;\n\t}\n}\n","export default {\n\t\"avg\":function(values, data, calcParams){\n\t\tvar output = 0,\n\t\tprecision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : 2;\n\n\t\tif(values.length){\n\t\t\toutput = values.reduce(function(sum, value){\n\t\t\t\treturn Number(sum) + Number(value);\n\t\t\t});\n\n\t\t\toutput = output / values.length;\n\n\t\t\toutput = precision !== false ? output.toFixed(precision) : output;\n\t\t}\n\n\t\treturn parseFloat(output).toString();\n\t},\n\t\"max\":function(values, data, calcParams){\n\t\tvar output = null,\n\t\tprecision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : false;\n\n\t\tvalues.forEach(function(value){\n\n\t\t\tvalue = Number(value);\n\n\t\t\tif(value > output || output === null){\n\t\t\t\toutput = value;\n\t\t\t}\n\t\t});\n\n\t\treturn output !== null ? (precision !== false ? output.toFixed(precision) : output) : \"\";\n\t},\n\t\"min\":function(values, data, calcParams){\n\t\tvar output = null,\n\t\tprecision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : false;\n\n\t\tvalues.forEach(function(value){\n\n\t\t\tvalue = Number(value);\n\n\t\t\tif(value < output || output === null){\n\t\t\t\toutput = value;\n\t\t\t}\n\t\t});\n\n\t\treturn output !== null ? (precision !== false ? output.toFixed(precision) : output) : \"\";\n\t},\n\t\"sum\":function(values, data, calcParams){\n\t\tvar output = 0,\n\t\tprecision = typeof calcParams.precision !== \"undefined\" ? calcParams.precision : false;\n\n\t\tif(values.length){\n\t\t\tvalues.forEach(function(value){\n\t\t\t\tvalue = Number(value);\n\n\t\t\t\toutput += !isNaN(value) ? Number(value) : 0;\n\t\t\t});\n\t\t}\n\n\t\treturn precision !== false ? output.toFixed(precision) : output;\n\t},\n\t\"concat\":function(values, data, calcParams){\n\t\tvar output = 0;\n\n\t\tif(values.length){\n\t\t\toutput = values.reduce(function(sum, value){\n\t\t\t\treturn String(sum) + String(value);\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t},\n\t\"count\":function(values, data, calcParams){\n\t\tvar output = 0;\n\n\t\tif(values.length){\n\t\t\tvalues.forEach(function(value){\n\t\t\t\tif(value){\n\t\t\t\t\toutput ++;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t},\n};","import Module from '../../core/Module.js';\n\nimport CalcComponent from './CalcComponent.js';\n\nimport Cell from '../../core/cell/Cell.js';\nimport Column from '../../core/column/Column.js';\nimport Row from '../../core/row/Row.js';\n\nimport defaultCalculations from './defaults/calculations.js';\n\nclass ColumnCalcs extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.topCalcs = [];\n\t\tthis.botCalcs = [];\n\t\tthis.genColumn = false;\n\t\tthis.topElement = this.createElement();\n\t\tthis.botElement = this.createElement();\n\t\tthis.topRow = false;\n\t\tthis.botRow = false;\n\t\tthis.topInitialized = false;\n\t\tthis.botInitialized = false;\n\t\t\n\t\tthis.blocked = false;\n\t\tthis.recalcAfterBlock = false;\n\t\t\n\t\tthis.registerTableOption(\"columnCalcs\", true);\n\t\t\n\t\tthis.registerColumnOption(\"topCalc\");\n\t\tthis.registerColumnOption(\"topCalcParams\");\n\t\tthis.registerColumnOption(\"topCalcFormatter\");\n\t\tthis.registerColumnOption(\"topCalcFormatterParams\");\n\t\tthis.registerColumnOption(\"bottomCalc\");\n\t\tthis.registerColumnOption(\"bottomCalcParams\");\n\t\tthis.registerColumnOption(\"bottomCalcFormatter\");\n\t\tthis.registerColumnOption(\"bottomCalcFormatterParams\");\n\t}\n\t\n\tcreateElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\tel.classList.add(\"tabulator-calcs-holder\");\n\t\treturn el;\n\t}\n\t\n\tinitialize(){\n\t\tthis.genColumn = new Column({field:\"value\"}, this);\n\t\t\n\t\tthis.subscribe(\"cell-value-changed\", this.cellValueChanged.bind(this));\n\t\tthis.subscribe(\"column-init\", this.initializeColumnCheck.bind(this));\n\t\tthis.subscribe(\"row-deleted\", this.rowsUpdated.bind(this));\n\t\tthis.subscribe(\"scroll-horizontal\", this.scrollHorizontal.bind(this));\n\t\tthis.subscribe(\"row-added\", this.rowsUpdated.bind(this));\n\t\tthis.subscribe(\"column-moved\", this.recalcActiveRows.bind(this));\n\t\tthis.subscribe(\"column-add\", this.recalcActiveRows.bind(this));\n\t\tthis.subscribe(\"data-refreshed\", this.recalcActiveRowsRefresh.bind(this));\n\t\tthis.subscribe(\"table-redraw\", this.tableRedraw.bind(this));\n\t\tthis.subscribe(\"rows-visible\", this.visibleRows.bind(this));\n\t\tthis.subscribe(\"scrollbar-vertical\", this.adjustForScrollbar.bind(this));\n\t\t\n\t\tthis.subscribe(\"redraw-blocked\", this.blockRedraw.bind(this));\n\t\tthis.subscribe(\"redraw-restored\", this.restoreRedraw.bind(this));\n\n\t\tthis.subscribe(\"table-redrawing\", this.resizeHolderWidth.bind(this));\n\t\tthis.subscribe(\"column-resized\", this.resizeHolderWidth.bind(this));\n\t\tthis.subscribe(\"column-show\", this.resizeHolderWidth.bind(this));\n\t\tthis.subscribe(\"column-hide\", this.resizeHolderWidth.bind(this));\n\t\t\n\t\tthis.registerTableFunction(\"getCalcResults\", this.getResults.bind(this));\n\t\tthis.registerTableFunction(\"recalc\", this.userRecalc.bind(this));\n\n\n\t\tthis.resizeHolderWidth();\n\t}\n\n\tresizeHolderWidth(){\n\t\tthis.topElement.style.minWidth = this.table.columnManager.headersElement.offsetWidth + \"px\";\n\t}\n\n\t\n\ttableRedraw(force){\n\t\tthis.recalc(this.table.rowManager.activeRows);\n\t\t\n\t\tif(force){\n\t\t\tthis.redraw();\n\t\t}\n\t}\n\t\n\tblockRedraw(){\n\t\tthis.blocked = true;\n\t\tthis.recalcAfterBlock = false;\n\t}\n\t\n\t\n\trestoreRedraw(){\n\t\tthis.blocked = false;\n\t\t\n\t\tif(this.recalcAfterBlock){\n\t\t\tthis.recalcAfterBlock = false;\n\t\t\tthis.recalcActiveRowsRefresh();\n\t\t}\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\tuserRecalc(){\n\t\tthis.recalc(this.table.rowManager.activeRows);\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\tblockCheck(){\n\t\tif(this.blocked){\n\t\t\tthis.recalcAfterBlock = true;\n\t\t}\n\t\t\n\t\treturn this.blocked;\n\t}\n\t\n\tvisibleRows(viewable, rows){\n\t\tif(this.topRow){\n\t\t\trows.unshift(this.topRow);\n\t\t}\n\t\t\n\t\tif(this.botRow){\n\t\t\trows.push(this.botRow);\n\t\t}\n\t\t\n\t\treturn rows;\n\t}\n\t\n\trowsUpdated(row){\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.recalcRowGroup(row);\n\t\t}else{\n\t\t\tthis.recalcActiveRows();\n\t\t}\n\t}\n\t\n\trecalcActiveRowsRefresh(){\n\t\tif(this.table.options.groupBy && this.table.options.dataTreeStartExpanded && this.table.options.dataTree){\n\t\t\tthis.recalcAll();\n\t\t}else{\n\t\t\tthis.recalcActiveRows();\n\t\t}\n\t}\n\t\n\trecalcActiveRows(){\n\t\tthis.recalc(this.table.rowManager.activeRows);\n\t}\n\t\n\tcellValueChanged(cell){\n\t\tif(cell.column.definition.topCalc || cell.column.definition.bottomCalc){\n\t\t\tif(this.table.options.groupBy){\n\t\t\t\tif(this.table.options.columnCalcs == \"table\" || this.table.options.columnCalcs == \"both\"){\n\t\t\t\t\tthis.recalcActiveRows();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(this.table.options.columnCalcs != \"table\"){\n\t\t\t\t\tthis.recalcRowGroup(cell.row);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.recalcActiveRows();\n\t\t\t}\n\t\t}\n\t}\n\t\n\tinitializeColumnCheck(column){\n\t\tif(column.definition.topCalc || column.definition.bottomCalc){\n\t\t\tthis.initializeColumn(column);\n\t\t}\n\t}\n\t\n\t//initialize column calcs\n\tinitializeColumn(column){\n\t\tvar def = column.definition;\n\t\t\n\t\tvar config = {\n\t\t\ttopCalcParams:def.topCalcParams || {},\n\t\t\tbotCalcParams:def.bottomCalcParams || {},\n\t\t};\n\t\t\n\t\tif(def.topCalc){\n\t\t\t\n\t\t\tswitch(typeof def.topCalc){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tif(ColumnCalcs.calculations[def.topCalc]){\n\t\t\t\t\t\tconfig.topCalc = ColumnCalcs.calculations[def.topCalc];\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.warn(\"Column Calc Error - No such calculation found, ignoring: \", def.topCalc);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"function\":\n\t\t\t\t\tconfig.topCalc = def.topCalc;\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\tif(config.topCalc){\n\t\t\t\tcolumn.modules.columnCalcs = config;\n\t\t\t\tthis.topCalcs.push(column);\n\t\t\t\t\n\t\t\t\tif(this.table.options.columnCalcs != \"group\"){\n\t\t\t\t\tthis.initializeTopRow();\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t\tif(def.bottomCalc){\n\t\t\tswitch(typeof def.bottomCalc){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tif(ColumnCalcs.calculations[def.bottomCalc]){\n\t\t\t\t\t\tconfig.botCalc = ColumnCalcs.calculations[def.bottomCalc];\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.warn(\"Column Calc Error - No such calculation found, ignoring: \", def.bottomCalc);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"function\":\n\t\t\t\t\tconfig.botCalc = def.bottomCalc;\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\tif(config.botCalc){\n\t\t\t\tcolumn.modules.columnCalcs = config;\n\t\t\t\tthis.botCalcs.push(column);\n\t\t\t\t\n\t\t\t\tif(this.table.options.columnCalcs != \"group\"){\n\t\t\t\t\tthis.initializeBottomRow();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\t\n\t//dummy functions to handle being mock column manager\n\tregisterColumnField(){}\n\t\n\tremoveCalcs(){\n\t\tvar changed = false;\n\t\t\n\t\tif(this.topInitialized){\n\t\t\tthis.topInitialized = false;\n\t\t\tthis.topElement.parentNode.removeChild(this.topElement);\n\t\t\tchanged = true;\n\t\t}\n\t\t\n\t\tif(this.botInitialized){\n\t\t\tthis.botInitialized = false;\n\t\t\tthis.footerRemove(this.botElement);\n\t\t\tchanged = true;\n\t\t}\n\t\t\n\t\tif(changed){\n\t\t\tthis.table.rowManager.adjustTableSize();\n\t\t}\n\t}\n\t\n\treinitializeCalcs(){\n\t\tif(this.topCalcs.length){\n\t\t\tthis.initializeTopRow();\n\t\t}\n\n\t\tif(this.botCalcs.length){\n\t\t\tthis.initializeBottomRow();\n\t\t}\n\t}\n\t\n\tinitializeTopRow(){\n\t\tif(!this.topInitialized){\n\t\t\tthis.table.columnManager.getContentsElement().insertBefore(this.topElement, this.table.columnManager.headersElement.nextSibling);\n\t\t\tthis.topInitialized = true;\n\t\t}\n\t}\n\t\n\tinitializeBottomRow(){\n\t\tif(!this.botInitialized){\n\t\t\tthis.footerPrepend(this.botElement);\n\t\t\tthis.botInitialized = true;\n\t\t}\n\t}\n\t\n\tscrollHorizontal(left){\n\t\tif(this.botInitialized && this.botRow){\n\t\t\tthis.botElement.scrollLeft = left;\n\t\t}\n\t}\n\t\n\trecalc(rows){\n\t\tvar data, row;\n\t\t\n\t\tif(!this.blockCheck()){\n\t\t\tif(this.topInitialized || this.botInitialized){\n\t\t\t\tdata = this.rowsToData(rows);\n\t\t\t\t\n\t\t\t\tif(this.topInitialized){\n\t\t\t\t\tif(this.topRow){\n\t\t\t\t\t\tthis.topRow.deleteCells();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\trow = this.generateRow(\"top\", data);\n\t\t\t\t\tthis.topRow = row;\n\t\t\t\t\twhile(this.topElement.firstChild) this.topElement.removeChild(this.topElement.firstChild);\n\t\t\t\t\tthis.topElement.appendChild(row.getElement());\n\t\t\t\t\trow.initialize(true);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(this.botInitialized){\n\t\t\t\t\tif(this.botRow){\n\t\t\t\t\t\tthis.botRow.deleteCells();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\trow = this.generateRow(\"bottom\", data);\n\t\t\t\t\tthis.botRow = row;\n\t\t\t\t\twhile(this.botElement.firstChild) this.botElement.removeChild(this.botElement.firstChild);\n\t\t\t\t\tthis.botElement.appendChild(row.getElement());\n\t\t\t\t\trow.initialize(true);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.table.rowManager.adjustTableSize();\n\t\t\t\t\n\t\t\t\t//set resizable handles\n\t\t\t\tif(this.table.modExists(\"frozenColumns\")){\n\t\t\t\t\tthis.table.modules.frozenColumns.layout();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\trecalcRowGroup(row){\n\t\tthis.recalcGroup(this.table.modules.groupRows.getRowGroup(row));\n\t}\n\t\n\trecalcAll(){\n\t\tif(this.topCalcs.length || this.botCalcs.length){\n\t\t\tif(this.table.options.columnCalcs !== \"group\"){\n\t\t\t\tthis.recalcActiveRows();\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.options.groupBy && this.table.options.columnCalcs !== \"table\"){\n\t\t\t\t\n\t\t\t\tvar groups = this.table.modules.groupRows.getChildGroups();\n\t\t\t\t\n\t\t\t\tgroups.forEach((group) => {\n\t\t\t\t\tthis.recalcGroup(group);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\t\n\trecalcGroup(group){\n\t\tvar data, rowData;\n\t\t\n\t\tif(!this.blockCheck()){\n\t\t\tif(group){\n\t\t\t\tif(group.calcs){\n\t\t\t\t\tif(group.calcs.bottom){\n\t\t\t\t\t\tdata = this.rowsToData(group.rows);\n\t\t\t\t\t\trowData = this.generateRowData(\"bottom\", data);\n\t\t\t\t\t\t\n\t\t\t\t\t\tgroup.calcs.bottom.updateData(rowData);\n\t\t\t\t\t\tgroup.calcs.bottom.reinitialize();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(group.calcs.top){\n\t\t\t\t\t\tdata = this.rowsToData(group.rows);\n\t\t\t\t\t\trowData = this.generateRowData(\"top\", data);\n\t\t\t\t\t\t\n\t\t\t\t\t\tgroup.calcs.top.updateData(rowData);\n\t\t\t\t\t\tgroup.calcs.top.reinitialize();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//generate top stats row\n\tgenerateTopRow(rows){\n\t\treturn this.generateRow(\"top\", this.rowsToData(rows));\n\t}\n\t//generate bottom stats row\n\tgenerateBottomRow(rows){\n\t\treturn this.generateRow(\"bottom\", this.rowsToData(rows));\n\t}\n\t\n\trowsToData(rows){\n\t\tvar data = [];\n\t\t\n\t\trows.forEach((row) => {\n\t\t\tdata.push(row.getData());\n\t\t\t\n\t\t\tif(this.table.options.dataTree && this.table.options.dataTreeChildColumnCalcs){\n\t\t\t\tif(row.modules.dataTree && row.modules.dataTree.open){\n\t\t\t\t\tvar children = this.rowsToData(this.table.modules.dataTree.getFilteredTreeChildren(row));\n\t\t\t\t\tdata = data.concat(children);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn data;\n\t}\n\t\n\t//generate stats row\n\tgenerateRow(pos, data){\n\t\tvar rowData = this.generateRowData(pos, data),\n\t\trow;\n\t\t\n\t\tif(this.table.modExists(\"mutator\")){\n\t\t\tthis.table.modules.mutator.disable();\n\t\t}\n\t\t\n\t\trow = new Row(rowData, this, \"calc\");\n\t\t\n\t\tif(this.table.modExists(\"mutator\")){\n\t\t\tthis.table.modules.mutator.enable();\n\t\t}\n\t\t\n\t\trow.getElement().classList.add(\"tabulator-calcs\", \"tabulator-calcs-\" + pos);\n\t\t\n\t\trow.component = false;\n\t\t\n\t\trow.getComponent = () => {\n\t\t\tif(!row.component){\n\t\t\t\trow.component = new CalcComponent(row);\n\t\t\t}\n\t\t\t\n\t\t\treturn row.component;\n\t\t};\n\t\t\n\t\trow.generateCells = () => {\n\t\t\t\n\t\t\tvar cells = [];\n\t\t\t\n\t\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\t\t\n\t\t\t\t//set field name of mock column\n\t\t\t\tthis.genColumn.setField(column.getField());\n\t\t\t\tthis.genColumn.hozAlign = column.hozAlign;\n\t\t\t\t\n\t\t\t\tif(column.definition[pos + \"CalcFormatter\"] && this.table.modExists(\"format\")){\n\t\t\t\t\tthis.genColumn.modules.format = {\n\t\t\t\t\t\tformatter: this.table.modules.format.getFormatter(column.definition[pos + \"CalcFormatter\"]),\n\t\t\t\t\t\tparams: column.definition[pos + \"CalcFormatterParams\"] || {},\n\t\t\t\t\t};\n\t\t\t\t}else{\n\t\t\t\t\tthis.genColumn.modules.format = {\n\t\t\t\t\t\tformatter: this.table.modules.format.getFormatter(\"plaintext\"),\n\t\t\t\t\t\tparams:{}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//ensure css class definition is replicated to calculation cell\n\t\t\t\tthis.genColumn.definition.cssClass = column.definition.cssClass;\n\t\t\t\t\n\t\t\t\t//generate cell and assign to correct column\n\t\t\t\tvar cell = new Cell(this.genColumn, row);\n\t\t\t\tcell.getElement();\n\t\t\t\tcell.column = column;\n\t\t\t\tcell.setWidth();\n\t\t\t\t\n\t\t\t\tcolumn.cells.push(cell);\n\t\t\t\tcells.push(cell);\n\t\t\t\t\n\t\t\t\tif(!column.visible){\n\t\t\t\t\tcell.hide();\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\trow.cells = cells;\n\t\t};\n\t\t\n\t\treturn row;\n\t}\n\t\n\t//generate stats row\n\tgenerateRowData(pos, data){\n\t\tvar rowData = {},\n\t\tcalcs = pos == \"top\" ? this.topCalcs : this.botCalcs,\n\t\ttype = pos == \"top\" ? \"topCalc\" : \"botCalc\",\n\t\tparams, paramKey;\n\t\t\n\t\tcalcs.forEach(function(column){\n\t\t\tvar values = [];\n\t\t\t\n\t\t\tif(column.modules.columnCalcs && column.modules.columnCalcs[type]){\n\t\t\t\tdata.forEach(function(item){\n\t\t\t\t\tvalues.push(column.getFieldValue(item));\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tparamKey = type + \"Params\";\n\t\t\t\tparams = typeof column.modules.columnCalcs[paramKey] === \"function\" ? column.modules.columnCalcs[paramKey](values, data) : column.modules.columnCalcs[paramKey];\n\t\t\t\t\n\t\t\t\tcolumn.setFieldValue(rowData, column.modules.columnCalcs[type](values, data, params));\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn rowData;\n\t}\n\t\n\thasTopCalcs(){\n\t\treturn\t!!(this.topCalcs.length);\n\t}\n\t\n\thasBottomCalcs(){\n\t\treturn\t!!(this.botCalcs.length);\n\t}\n\t\n\t//handle table redraw\n\tredraw(){\n\t\tif(this.topRow){\n\t\t\tthis.topRow.normalizeHeight(true);\n\t\t}\n\t\tif(this.botRow){\n\t\t\tthis.botRow.normalizeHeight(true);\n\t\t}\n\t}\n\t\n\t//return the calculated\n\tgetResults(){\n\t\tvar results = {},\n\t\tgroups;\n\t\t\n\t\tif(this.table.options.groupBy && this.table.modExists(\"groupRows\")){\n\t\t\tgroups = this.table.modules.groupRows.getGroups(true);\n\t\t\t\n\t\t\tgroups.forEach((group) => {\n\t\t\t\tresults[group.getKey()] = this.getGroupResults(group);\n\t\t\t});\n\t\t}else{\n\t\t\tresults = {\n\t\t\t\ttop: this.topRow ? this.topRow.getData() : {},\n\t\t\t\tbottom: this.botRow ? this.botRow.getData() : {},\n\t\t\t};\n\t\t}\n\t\t\n\t\treturn results;\n\t}\n\t\n\t//get results from a group\n\tgetGroupResults(group){\n\t\tvar groupObj = group._getSelf(),\n\t\tsubGroups = group.getSubGroups(),\n\t\tsubGroupResults = {},\n\t\tresults = {};\n\t\t\n\t\tsubGroups.forEach((subgroup) => {\n\t\t\tsubGroupResults[subgroup.getKey()] = this.getGroupResults(subgroup);\n\t\t});\n\t\t\n\t\tresults = {\n\t\t\ttop: groupObj.calcs.top ? groupObj.calcs.top.getData() : {},\n\t\t\tbottom: groupObj.calcs.bottom ? groupObj.calcs.bottom.getData() : {},\n\t\t\tgroups: subGroupResults,\n\t\t};\n\t\t\n\t\treturn results;\n\t}\n\t\n\tadjustForScrollbar(width){\n\t\tif(this.botRow){\n\t\t\tif(this.table.rtl){\n\t\t\t\tthis.botElement.style.paddingLeft = width + \"px\";\n\t\t\t}else{\n\t\t\t\tthis.botElement.style.paddingRight = width + \"px\";\n\t\t\t}\n\t\t}\n\t}\n}\n\nColumnCalcs.moduleName = \"columnCalcs\";\n\n//load defaults\nColumnCalcs.calculations = defaultCalculations;\n\nexport default ColumnCalcs;","import Module from '../../core/Module.js';\n\nimport Row from '../../core/row/Row.js';\n\nimport RowComponent from '../../core/row/RowComponent.js';\n\nclass DataTree extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.indent = 10;\n\t\tthis.field = \"\";\n\t\tthis.collapseEl = null;\n\t\tthis.expandEl = null;\n\t\tthis.branchEl = null;\n\t\tthis.elementField = false;\n\n\t\tthis.startOpen = function(){};\n\n\t\tthis.registerTableOption(\"dataTree\", false); //enable data tree\n\t\tthis.registerTableOption(\"dataTreeFilter\", true); //filter child rows\n\t\tthis.registerTableOption(\"dataTreeSort\", true); //sort child rows\n\t\tthis.registerTableOption(\"dataTreeElementColumn\", false);\n\t\tthis.registerTableOption(\"dataTreeBranchElement\", true);//show data tree branch element\n\t\tthis.registerTableOption(\"dataTreeChildIndent\", 9); //data tree child indent in px\n\t\tthis.registerTableOption(\"dataTreeChildField\", \"_children\");//data tre column field to look for child rows\n\t\tthis.registerTableOption(\"dataTreeCollapseElement\", false);//data tree row collapse element\n\t\tthis.registerTableOption(\"dataTreeExpandElement\", false);//data tree row expand element\n\t\tthis.registerTableOption(\"dataTreeStartExpanded\", false);\n\t\tthis.registerTableOption(\"dataTreeChildColumnCalcs\", false);//include visible data tree rows in column calculations\n\t\tthis.registerTableOption(\"dataTreeSelectPropagate\", false);//selecting a parent row selects its children\n\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"treeCollapse\", this.collapseRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"treeExpand\", this.expandRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"treeToggle\", this.toggleRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"getTreeParent\", this.getTreeParent.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"getTreeChildren\", this.getRowChildren.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"addTreeChild\", this.addTreeChildRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"isTreeExpanded\", this.isRowExpanded.bind(this));\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.dataTree){\n\t\t\tvar dummyEl = null,\n\t\t\toptions = this.table.options;\n\n\t\t\tthis.field = options.dataTreeChildField;\n\t\t\tthis.indent = options.dataTreeChildIndent;\n\n\t\t\tif(this.options(\"movableRows\")){\n\t\t\t\tconsole.warn(\"The movableRows option is not available with dataTree enabled, moving of child rows could result in unpredictable behavior\");\n\t\t\t}\n\n\t\t\tif(options.dataTreeBranchElement){\n\n\t\t\t\tif(options.dataTreeBranchElement === true){\n\t\t\t\t\tthis.branchEl = document.createElement(\"div\");\n\t\t\t\t\tthis.branchEl.classList.add(\"tabulator-data-tree-branch\");\n\t\t\t\t}else{\n\t\t\t\t\tif(typeof options.dataTreeBranchElement === \"string\"){\n\t\t\t\t\t\tdummyEl = document.createElement(\"div\");\n\t\t\t\t\t\tdummyEl.innerHTML = options.dataTreeBranchElement;\n\t\t\t\t\t\tthis.branchEl = dummyEl.firstChild;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.branchEl = options.dataTreeBranchElement;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(options.dataTreeCollapseElement){\n\t\t\t\tif(typeof options.dataTreeCollapseElement === \"string\"){\n\t\t\t\t\tdummyEl = document.createElement(\"div\");\n\t\t\t\t\tdummyEl.innerHTML = options.dataTreeCollapseElement;\n\t\t\t\t\tthis.collapseEl = dummyEl.firstChild;\n\t\t\t\t}else{\n\t\t\t\t\tthis.collapseEl = options.dataTreeCollapseElement;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.collapseEl = document.createElement(\"div\");\n\t\t\t\tthis.collapseEl.classList.add(\"tabulator-data-tree-control\");\n\t\t\t\tthis.collapseEl.tabIndex = 0;\n\t\t\t\tthis.collapseEl.innerHTML = \"<div class='tabulator-data-tree-control-collapse'></div>\";\n\t\t\t}\n\n\t\t\tif(options.dataTreeExpandElement){\n\t\t\t\tif(typeof options.dataTreeExpandElement === \"string\"){\n\t\t\t\t\tdummyEl = document.createElement(\"div\");\n\t\t\t\t\tdummyEl.innerHTML = options.dataTreeExpandElement;\n\t\t\t\t\tthis.expandEl = dummyEl.firstChild;\n\t\t\t\t}else{\n\t\t\t\t\tthis.expandEl = options.dataTreeExpandElement;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.expandEl = document.createElement(\"div\");\n\t\t\t\tthis.expandEl.classList.add(\"tabulator-data-tree-control\");\n\t\t\t\tthis.expandEl.tabIndex = 0;\n\t\t\t\tthis.expandEl.innerHTML = \"<div class='tabulator-data-tree-control-expand'></div>\";\n\t\t\t}\n\n\n\t\t\tswitch(typeof options.dataTreeStartExpanded){\n\t\t\t\tcase \"boolean\":\n\t\t\t\t\tthis.startOpen = function(row, index){\n\t\t\t\t\t\treturn options.dataTreeStartExpanded;\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"function\":\n\t\t\t\t\tthis.startOpen = options.dataTreeStartExpanded;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthis.startOpen = function(row, index){\n\t\t\t\t\t\treturn options.dataTreeStartExpanded[index];\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tthis.subscribe(\"row-init\", this.initializeRow.bind(this));\n\t\t\tthis.subscribe(\"row-layout-after\", this.layoutRow.bind(this));\n\t\t\tthis.subscribe(\"row-deleted\", this.rowDelete.bind(this),0);\n\t\t\tthis.subscribe(\"row-data-changed\", this.rowDataChanged.bind(this), 10);\n\t\t\tthis.subscribe(\"cell-value-updated\", this.cellValueChanged.bind(this));\n\t\t\tthis.subscribe(\"edit-cancelled\", this.cellValueChanged.bind(this));\n\t\t\tthis.subscribe(\"column-moving-rows\", this.columnMoving.bind(this));\n\t\t\tthis.subscribe(\"table-built\", this.initializeElementField.bind(this));\n\t\t\tthis.subscribe(\"table-redrawing\", this.tableRedrawing.bind(this));\n\n\t\t\tthis.registerDisplayHandler(this.getRows.bind(this), 30);\n\t\t}\n\t}\n\n\ttableRedrawing(force){\n\t\tvar rows;\n\n\t\tif(force){\n\t\t\trows = this.table.rowManager.getRows();\n\t\t\t\n\t\t\trows.forEach((row) => {\n\t\t\t\tthis.reinitializeRowChildren(row);\n\t\t\t});\n\t\t}\n\t}\n\n\tinitializeElementField(){\n\t\tvar firstCol = this.table.columnManager.getFirstVisibleColumn();\n\n\t\tthis.elementField = this.table.options.dataTreeElementColumn || (firstCol ? firstCol.field : false);\n\t}\n\t\n\tgetRowChildren(row){\n\t\treturn this.getTreeChildren(row, true);\n\t}\n\n\tcolumnMoving(){\n\t\tvar rows = [];\n\n\t\tthis.table.rowManager.rows.forEach((row) => {\n\t\t\trows = rows.concat(this.getTreeChildren(row, false, true));\n\t\t});\n\n\t\treturn rows;\n\t}\n\n\trowDataChanged(row, visible, updatedData){\n\t\tif(this.redrawNeeded(updatedData)){\n\t\t\tthis.initializeRow(row);\n\n\t\t\tif(visible){\n\t\t\t\tthis.layoutRow(row);\n\t\t\t\tthis.refreshData(true);\n\t\t\t}\n\t\t}\n\t}\n\n\tcellValueChanged(cell){\n\t\tvar field = cell.column.getField();\n\n\t\tif(field === this.elementField){\n\t\t\tthis.layoutRow(cell.row);\n\t\t}\n\t}\n\n\tinitializeRow(row){\n\t\tvar childArray = row.getData()[this.field];\n\t\tvar isArray = Array.isArray(childArray);\n\n\t\tvar children = isArray || (!isArray && typeof childArray === \"object\" && childArray !== null);\n\n\t\tif(!children && row.modules.dataTree && row.modules.dataTree.branchEl){\n\t\t\trow.modules.dataTree.branchEl.parentNode.removeChild(row.modules.dataTree.branchEl);\n\t\t}\n\n\t\tif(!children && row.modules.dataTree && row.modules.dataTree.controlEl){\n\t\t\trow.modules.dataTree.controlEl.parentNode.removeChild(row.modules.dataTree.controlEl);\n\t\t}\n\n\t\trow.modules.dataTree = {\n\t\t\tindex: row.modules.dataTree ? row.modules.dataTree.index : 0,\n\t\t\topen: children ? (row.modules.dataTree ? row.modules.dataTree.open : this.startOpen(row.getComponent(), 0)) : false,\n\t\t\tcontrolEl: row.modules.dataTree && children ? row.modules.dataTree.controlEl : false,\n\t\t\tbranchEl: row.modules.dataTree && children ? row.modules.dataTree.branchEl : false,\n\t\t\tparent: row.modules.dataTree ? row.modules.dataTree.parent : false,\n\t\t\tchildren:children,\n\t\t};\n\t}\n\n\treinitializeRowChildren(row){\n\t\tvar children = this.getTreeChildren(row, false, true);\n\n\t\tchildren.forEach(function(child){\n\t\t\tchild.reinitialize(true);\n\t\t});\n\t}\n\n\tlayoutRow(row){\n\t\tvar cell = this.elementField ? row.getCell(this.elementField) : row.getCells()[0],\n\t\tel = cell.getElement(),\n\t\tconfig = row.modules.dataTree;\n\n\t\tif(config.branchEl){\n\t\t\tif(config.branchEl.parentNode){\n\t\t\t\tconfig.branchEl.parentNode.removeChild(config.branchEl);\n\t\t\t}\n\t\t\tconfig.branchEl = false;\n\t\t}\n\n\t\tif(config.controlEl){\n\t\t\tif(config.controlEl.parentNode){\n\t\t\t\tconfig.controlEl.parentNode.removeChild(config.controlEl);\n\t\t\t}\n\t\t\tconfig.controlEl = false;\n\t\t}\n\n\t\tthis.generateControlElement(row, el);\n\n\t\trow.getElement().classList.add(\"tabulator-tree-level-\" + config.index);\n\n\t\tif(config.index){\n\t\t\tif(this.branchEl){\n\t\t\t\tconfig.branchEl = this.branchEl.cloneNode(true);\n\t\t\t\tel.insertBefore(config.branchEl, el.firstChild);\n\n\t\t\t\tif(this.table.rtl){\n\t\t\t\t\tconfig.branchEl.style.marginRight = (((config.branchEl.offsetWidth + config.branchEl.style.marginLeft) * (config.index - 1)) + (config.index * this.indent)) + \"px\";\n\t\t\t\t}else{\n\t\t\t\t\tconfig.branchEl.style.marginLeft = (((config.branchEl.offsetWidth + config.branchEl.style.marginRight) * (config.index - 1)) + (config.index * this.indent)) + \"px\";\n\t\t\t\t}\n\t\t\t}else{\n\n\t\t\t\tif(this.table.rtl){\n\t\t\t\t\tel.style.paddingRight = parseInt(window.getComputedStyle(el, null).getPropertyValue('padding-right')) + (config.index * this.indent) + \"px\";\n\t\t\t\t}else{\n\t\t\t\t\tel.style.paddingLeft = parseInt(window.getComputedStyle(el, null).getPropertyValue('padding-left')) + (config.index * this.indent) + \"px\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tgenerateControlElement(row, el){\n\t\tvar config = row.modules.dataTree,\n\t\toldControl = config.controlEl;\n\n\t\tel = el || row.getCells()[0].getElement();\n\n\t\tif(config.children !== false){\n\n\t\t\tif(config.open){\n\t\t\t\tconfig.controlEl = this.collapseEl.cloneNode(true);\n\t\t\t\tconfig.controlEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tthis.collapseRow(row);\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tconfig.controlEl = this.expandEl.cloneNode(true);\n\t\t\t\tconfig.controlEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tthis.expandRow(row);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tconfig.controlEl.addEventListener(\"mousedown\", (e) => {\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\n\t\t\tif(oldControl && oldControl.parentNode === el){\n\t\t\t\toldControl.parentNode.replaceChild(config.controlEl,oldControl);\n\t\t\t}else{\n\t\t\t\tel.insertBefore(config.controlEl, el.firstChild);\n\t\t\t}\n\t\t}\n\t}\n\n\tgetRows(rows){\n\t\tvar output = [];\n\n\t\trows.forEach((row, i) => {\n\t\t\tvar config, children;\n\n\t\t\toutput.push(row);\n\n\t\t\tif(row instanceof Row){\n\n\t\t\t\trow.create();\n\n\t\t\t\tconfig = row.modules.dataTree.children;\n\n\t\t\t\tif(!config.index && config.children !== false){\n\t\t\t\t\tchildren = this.getChildren(row);\n\n\t\t\t\t\tchildren.forEach((child) => {\n\t\t\t\t\t\tchild.create();\n\t\t\t\t\t\toutput.push(child);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\tgetChildren(row, allChildren){\n\t\tvar config = row.modules.dataTree,\n\t\tchildren = [],\n\t\toutput = [];\n\n\t\tif(config.children !== false && (config.open || allChildren)){\n\t\t\tif(!Array.isArray(config.children)){\n\t\t\t\tconfig.children = this.generateChildren(row);\n\t\t\t}\n\n\t\t\tif(this.table.modExists(\"filter\") && this.table.options.dataTreeFilter){\n\t\t\t\tchildren = this.table.modules.filter.filter(config.children);\n\t\t\t}else{\n\t\t\t\tchildren = config.children;\n\t\t\t}\n\n\t\t\tif(this.table.modExists(\"sort\") && this.table.options.dataTreeSort){\n\t\t\t\tthis.table.modules.sort.sort(children);\n\t\t\t}\n\n\t\t\tchildren.forEach((child) => {\n\t\t\t\toutput.push(child);\n\n\t\t\t\tvar subChildren = this.getChildren(child);\n\n\t\t\t\tsubChildren.forEach((sub) => {\n\t\t\t\t\toutput.push(sub);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tgenerateChildren(row){\n\t\tvar children = [];\n\n\t\tvar childArray = row.getData()[this.field];\n\n\t\tif(!Array.isArray(childArray)){\n\t\t\tchildArray = [childArray];\n\t\t}\n\n\t\tchildArray.forEach((childData) => {\n\t\t\tvar childRow = new Row(childData || {}, this.table.rowManager);\n\n\t\t\tchildRow.create();\n\n\t\t\tchildRow.modules.dataTree.index = row.modules.dataTree.index + 1;\n\t\t\tchildRow.modules.dataTree.parent = row;\n\n\t\t\tif(childRow.modules.dataTree.children){\n\t\t\t\tchildRow.modules.dataTree.open = this.startOpen(childRow.getComponent(), childRow.modules.dataTree.index);\n\t\t\t}\n\t\t\tchildren.push(childRow);\n\t\t});\n\n\t\treturn children;\n\t}\n\n\texpandRow(row, silent){\n\t\tvar config = row.modules.dataTree;\n\n\t\tif(config.children !== false){\n\t\t\tconfig.open = true;\n\n\t\t\trow.reinitialize();\n\n\t\t\tthis.refreshData(true);\n\n\t\t\tthis.dispatchExternal(\"dataTreeRowExpanded\", row.getComponent(), row.modules.dataTree.index);\n\t\t}\n\t}\n\n\tcollapseRow(row){\n\t\tvar config = row.modules.dataTree;\n\n\t\tif(config.children !== false){\n\t\t\tconfig.open = false;\n\n\t\t\trow.reinitialize();\n\n\t\t\tthis.refreshData(true);\n\n\t\t\tthis.dispatchExternal(\"dataTreeRowCollapsed\", row.getComponent(), row.modules.dataTree.index);\n\t\t}\n\t}\n\n\ttoggleRow(row){\n\t\tvar config = row.modules.dataTree;\n\n\t\tif(config.children !== false){\n\t\t\tif(config.open){\n\t\t\t\tthis.collapseRow(row);\n\t\t\t}else{\n\t\t\t\tthis.expandRow(row);\n\t\t\t}\n\t\t}\n\t}\n\n\tisRowExpanded(row){\n\t\treturn row.modules.dataTree.open;\n\t}\n\n\tgetTreeParent(row){\n\t\treturn row.modules.dataTree.parent ? row.modules.dataTree.parent.getComponent() : false;\n\t}\n\n\tgetTreeParentRoot(row){\n\t\treturn row.modules.dataTree && row.modules.dataTree.parent ? this.getTreeParentRoot(row.modules.dataTree.parent) : row;\n\t}\n\n\tgetFilteredTreeChildren(row){\n\t\tvar config = row.modules.dataTree,\n\t\toutput = [], children;\n\n\t\tif(config.children){\n\n\t\t\tif(!Array.isArray(config.children)){\n\t\t\t\tconfig.children = this.generateChildren(row);\n\t\t\t}\n\n\t\t\tif(this.table.modExists(\"filter\") && this.table.options.dataTreeFilter){\n\t\t\t\tchildren = this.table.modules.filter.filter(config.children);\n\t\t\t}else{\n\t\t\t\tchildren = config.children;\n\t\t\t}\n\n\t\t\tchildren.forEach((childRow) => {\n\t\t\t\tif(childRow instanceof Row){\n\t\t\t\t\toutput.push(childRow);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\trowDelete(row){\n\t\tvar parent = row.modules.dataTree.parent,\n\t\tchildIndex;\n\n\t\tif(parent){\n\t\t\tchildIndex = this.findChildIndex(row, parent);\n\n\t\t\tif(childIndex !== false){\n\t\t\t\tparent.data[this.field].splice(childIndex, 1);\n\t\t\t}\n\n\t\t\tif(!parent.data[this.field].length){\n\t\t\t\tdelete parent.data[this.field];\n\t\t\t}\n\n\t\t\tthis.initializeRow(parent);\n\t\t\tthis.layoutRow(parent);\n\t\t}\n\n\t\tthis.refreshData(true);\n\t}\n\n\taddTreeChildRow(row, data, top, index){\n\t\tvar childIndex = false;\n\n\t\tif(typeof data === \"string\"){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\n\t\tif(!Array.isArray(row.data[this.field])){\n\t\t\trow.data[this.field] = [];\n\n\t\t\trow.modules.dataTree.open = this.startOpen(row.getComponent(), row.modules.dataTree.index);\n\t\t}\n\n\t\tif(typeof index !== \"undefined\"){\n\t\t\tchildIndex = this.findChildIndex(index, row);\n\n\t\t\tif(childIndex !== false){\n\t\t\t\trow.data[this.field].splice((top ? childIndex : childIndex + 1), 0, data);\n\t\t\t}\n\t\t}\n\n\t\tif(childIndex === false){\n\t\t\tif(top){\n\t\t\t\trow.data[this.field].unshift(data);\n\t\t\t}else{\n\t\t\t\trow.data[this.field].push(data);\n\t\t\t}\n\t\t}\n\n\t\tthis.initializeRow(row);\n\t\tthis.layoutRow(row);\n\n\t\tthis.refreshData(true);\n\t}\n\n\tfindChildIndex(subject, parent){\n\t\tvar match = false;\n\n\t\tif(typeof subject == \"object\"){\n\n\t\t\tif(subject instanceof Row){\n\t\t\t\t//subject is row element\n\t\t\t\tmatch = subject.data;\n\t\t\t}else if(subject instanceof RowComponent){\n\t\t\t\t//subject is public row component\n\t\t\t\tmatch = subject._getSelf().data;\n\t\t\t}else if(typeof HTMLElement !== \"undefined\" && subject instanceof HTMLElement){\n\t\t\t\tif(parent.modules.dataTree){\n\t\t\t\t\tmatch = parent.modules.dataTree.children.find((childRow) => {\n\t\t\t\t\t\treturn childRow instanceof Row ? childRow.element === subject : false;\n\t\t\t\t\t});\n\n\t\t\t\t\tif(match){\n\t\t\t\t\t\tmatch = match.data;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else if(subject === null){\n\t\t\t\tmatch = false;\n\t\t\t}\n\n\t\t}else if(typeof subject == \"undefined\"){\n\t\t\tmatch = false;\n\t\t}else{\n\t\t\t//subject should be treated as the index of the row\n\t\t\tmatch = parent.data[this.field].find((row) => {\n\t\t\t\treturn row.data[this.table.options.index] == subject;\n\t\t\t});\n\t\t}\n\n\t\tif(match){\n\n\t\t\tif(Array.isArray(parent.data[this.field])){\n\t\t\t\tmatch = parent.data[this.field].indexOf(match);\n\t\t\t}\n\n\t\t\tif(match == -1){\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t}\n\n\t\t//catch all for any other type of input\n\n\t\treturn match;\n\t}\n\n\tgetTreeChildren(row, component, recurse){\n\t\tvar config = row.modules.dataTree,\n\t\toutput = [];\n\n\t\tif(config.children){\n\n\t\t\tif(!Array.isArray(config.children)){\n\t\t\t\tconfig.children = this.generateChildren(row);\n\t\t\t}\n\n\t\t\tconfig.children.forEach((childRow) => {\n\t\t\t\tif(childRow instanceof Row){\n\t\t\t\t\toutput.push(component ? childRow.getComponent() : childRow);\n\n\t\t\t\t\tif(recurse){\n\t\t\t\t\t\toutput = output.concat(this.getTreeChildren(childRow, component, recurse));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tgetChildField(){\n\t\treturn this.field;\n\t}\n\n\tredrawNeeded(data){\n\t\treturn (this.field ? typeof data[this.field] !== \"undefined\" : false) || (this.elementField ? typeof data[this.elementField] !== \"undefined\" : false);\n\t}\n}\n\nDataTree.moduleName = \"dataTree\";\n\nexport default DataTree;","import csv from './downloaders/csv.js';\nimport json from './downloaders/json.js';\nimport pdf from './downloaders/pdf.js';\nimport xlsx from './downloaders/xlsx.js';\nimport html from './downloaders/html.js';\nimport jsonLines from './downloaders/jsonLines.js';\n\nexport default {\n\tcsv:csv,\n\tjson:json,\n\tjsonLines:jsonLines,\n\tpdf:pdf,\n\txlsx:xlsx,\n\thtml:html,\n};","export default function(list, options = {}, setFileContents){\n\tvar delimiter = options.delimiter ? options.delimiter : \",\",\n\tfileContents = [],\n\theaders = [];\n\n\tlist.forEach((row) => {\n\t\tvar item = [];\n\n\t\tswitch(row.type){\n\t\t\tcase \"group\":\n\t\t\t\tconsole.warn(\"Download Warning - CSV downloader cannot process row groups\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"calc\":\n\t\t\t\tconsole.warn(\"Download Warning - CSV downloader cannot process column calculations\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"header\":\n\t\t\t\trow.columns.forEach((col, i) => {\n\t\t\t\t\tif(col && col.depth === 1){\n\t\t\t\t\t\theaders[i] = typeof col.value == \"undefined\"  || col.value === null ? \"\" : ('\"' + String(col.value).split('\"').join('\"\"') + '\"');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tbreak;\n\n\t\t\tcase \"row\":\n\t\t\t\trow.columns.forEach((col) => {\n\n\t\t\t\t\tif(col){\n\n\t\t\t\t\t\tswitch(typeof col.value){\n\t\t\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\t\t\tcol.value = col.value !== null ? JSON.stringify(col.value) : \"\";\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\t\t\tcol.value = \"\";\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\titem.push('\"' + String(col.value).split('\"').join('\"\"') + '\"');\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tfileContents.push(item.join(delimiter));\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tif(headers.length){\n\t\tfileContents.unshift(headers.join(delimiter));\n\t}\n\n\tfileContents = fileContents.join(\"\\n\");\n\n\tif(options.bom){\n\t\tfileContents = \"\\ufeff\" + fileContents;\n\t}\n\n\tsetFileContents(fileContents, \"text/csv\");\n}\n","export default function(list, options, setFileContents){\n\tvar fileContents = [];\n\n\tlist.forEach((row) => {\n\t\tvar item = {};\n\n\t\tswitch(row.type){\n\t\t\tcase \"header\":\n\t\t\t\tbreak;\n\n\t\t\tcase \"group\":\n\t\t\t\tconsole.warn(\"Download Warning - JSON downloader cannot process row groups\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"calc\":\n\t\t\t\tconsole.warn(\"Download Warning - JSON downloader cannot process column calculations\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"row\":\n\t\t\t\trow.columns.forEach((col) => {\n\t\t\t\t\tif(col){\n\t\t\t\t\t\titem[col.component.getTitleDownload() || col.component.getField()] = col.value;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tfileContents.push(item);\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tfileContents = JSON.stringify(fileContents, null, '\\t');\n\n\tsetFileContents(fileContents, \"application/json\");\n}","export default function (list, options, setFileContents) {\n\tconst fileContents = [];\n\n\tlist.forEach((row) => {\n\t\tconst item = {};\n\n\t\tswitch (row.type) {\n\t\t\tcase \"header\":\n\t\t\t\tbreak;\n\n\t\t\tcase \"group\":\n\t\t\t\tconsole.warn(\"Download Warning - JSON downloader cannot process row groups\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"calc\":\n\t\t\t\tconsole.warn(\"Download Warning - JSON downloader cannot process column calculations\");\n\t\t\t\tbreak;\n\n\t\t\tcase \"row\":\n\t\t\t\trow.columns.forEach((col) => {\n\t\t\t\t\tif (col) {\n\t\t\t\t\t\titem[col.component.getTitleDownload() || col.component.getField()] = col.value;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tfileContents.push(JSON.stringify(item));\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tsetFileContents(fileContents.join(\"\\n\"), \"application/x-ndjson\");\n}","export default function(list, options = {}, setFileContents){\n\tvar header = [],\n\tbody = [],\n\tautoTableParams = {},\n\trowGroupStyles = options.rowGroupStyles || {\n\t\tfontStyle: \"bold\",\n\t\tfontSize: 12,\n\t\tcellPadding: 6,\n\t\tfillColor: 220,\n\t},\n\trowCalcStyles = options.rowCalcStyles || {\n\t\tfontStyle: \"bold\",\n\t\tfontSize: 10,\n\t\tcellPadding: 4,\n\t\tfillColor: 232,\n\t},\n\tjsPDFParams = options.jsPDF || {},\n\ttitle = options.title ? options.title : \"\";\n\n\tif(!jsPDFParams.orientation){\n\t\tjsPDFParams.orientation = options.orientation || \"landscape\";\n\t}\n\n\tif(!jsPDFParams.unit){\n\t\tjsPDFParams.unit = \"pt\";\n\t}\n\n\t//parse row list\n\tlist.forEach((row) => {\n\t\tswitch(row.type){\n\t\t\tcase \"header\":\n\t\t\t\theader.push(parseRow(row));\n\t\t\t\tbreak;\n\n\t\t\tcase \"group\":\n\t\t\t\tbody.push(parseRow(row, rowGroupStyles));\n\t\t\t\tbreak;\n\n\t\t\tcase \"calc\":\n\t\t\t\tbody.push(parseRow(row, rowCalcStyles));\n\t\t\t\tbreak;\n\n\t\t\tcase \"row\":\n\t\t\t\tbody.push(parseRow(row));\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tfunction parseRow(row, styles){\n\t\tvar rowData = [];\n\n\t\trow.columns.forEach((col) =>{\n\t\t\tvar cell;\n\n\t\t\tif(col){\n\t\t\t\tswitch(typeof col.value){\n\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\tcol.value = col.value !== null ? JSON.stringify(col.value) : \"\";\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\tcol.value = \"\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tcell = {\n\t\t\t\t\tcontent:col.value,\n\t\t\t\t\tcolSpan:col.width,\n\t\t\t\t\trowSpan:col.height,\n\t\t\t\t};\n\n\t\t\t\tif(styles){\n\t\t\t\t\tcell.styles = styles;\n\t\t\t\t}\n\n\t\t\t\trowData.push(cell);\n\t\t\t}\n\t\t});\n\n\t\treturn rowData;\n\t}\n\n\n\t//configure PDF\n\tvar doc = new jspdf.jsPDF(jsPDFParams); //set document to landscape, better for most tables\n\n\tif(options.autoTable){\n\t\tif(typeof options.autoTable === \"function\"){\n\t\t\tautoTableParams = options.autoTable(doc) || {};\n\t\t}else{\n\t\t\tautoTableParams = options.autoTable;\n\t\t}\n\t}\n\n\tif(title){\n\t\tautoTableParams.didDrawPage = function(data) {\n\t\t\tdoc.text(title, 40, 30);\n\t\t};\n\t}\n\n\tautoTableParams.head = header;\n\tautoTableParams.body = body;\n\n\tdoc.autoTable(autoTableParams);\n\n\tif(options.documentProcessing){\n\t\toptions.documentProcessing(doc);\n\t}\n\n\tsetFileContents(doc.output(\"arraybuffer\"), \"application/pdf\");\n}\n","import CoreFeature from '../../../../core/CoreFeature.js';\n\nexport default function(list, options, setFileContents){\n\tvar self = this,\n\tsheetName = options.sheetName || \"Sheet1\",\n\tworkbook = XLSX.utils.book_new(),\n\ttableFeatures = new CoreFeature(this),\n\tcompression =  'compress' in options ? options.compress : true,\n\toutput;\n\n\tworkbook.SheetNames = [];\n\tworkbook.Sheets = {};\n\n\tfunction generateSheet(){\n\t\tvar rows = [],\n\t\tmerges = [],\n\t\tworksheet = {},\n\t\trange = {s: {c:0, r:0}, e: {c:(list[0] ? list[0].columns.reduce((a, b) => a + (b && b.width ? b.width : 1), 0) : 0), r:list.length }};\n\n\t\t//parse row list\n\t\tlist.forEach((row, i) => {\n\t\t\tvar rowData = [];\n\n\t\t\trow.columns.forEach(function(col, j){\n\n\t\t\t\tif(col){\n\t\t\t\t\trowData.push(!(col.value instanceof Date) && typeof col.value === \"object\" ? JSON.stringify(col.value) : col.value);\n\n\t\t\t\t\tif(col.width > 1 || col.height > -1){\n\t\t\t\t\t\tif(col.height > 1 || col.width > 1){\n\t\t\t\t\t\t\tmerges.push({s:{r:i,c:j},e:{r:i + col.height - 1,c:j + col.width - 1}});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\trowData.push(\"\");\n\t\t\t\t}\n\t\t\t});\n\n\t\t\trows.push(rowData);\n\t\t});\n\n\t\t//convert rows to worksheet\n\t\tXLSX.utils.sheet_add_aoa(worksheet, rows);\n\n\t\tworksheet['!ref'] = XLSX.utils.encode_range(range);\n\n\t\tif(merges.length){\n\t\t\tworksheet[\"!merges\"] = merges;\n\t\t}\n\n\t\treturn worksheet;\n\t}\n\n\tif(options.sheetOnly){\n\t\tsetFileContents(generateSheet());\n\t\treturn;\n\t}\n\n\tif(options.sheets){\n\t\tfor(var sheet in options.sheets){\n\n\t\t\tif(options.sheets[sheet] === true){\n\t\t\t\tworkbook.SheetNames.push(sheet);\n\t\t\t\tworkbook.Sheets[sheet] = generateSheet();\n\t\t\t}else{\n\n\t\t\t\tworkbook.SheetNames.push(sheet);\n\n\t\t\t\ttableFeatures.commsSend(options.sheets[sheet], \"download\", \"intercept\",{\n\t\t\t\t\ttype:\"xlsx\",\n\t\t\t\t\toptions:{sheetOnly:true},\n\t\t\t\t\tactive:self.active,\n\t\t\t\t\tintercept:function(data){\n\t\t\t\t\t\tworkbook.Sheets[sheet] = data;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}else{\n\t\tworkbook.SheetNames.push(sheetName);\n\t\tworkbook.Sheets[sheetName] = generateSheet();\n\t}\n\n\tif(options.documentProcessing){\n\t\tworkbook = options.documentProcessing(workbook);\n\t}\n\n\t//convert workbook to binary array\n\tfunction s2ab(s) {\n\t\tvar buf = new ArrayBuffer(s.length);\n\t\tvar view = new Uint8Array(buf);\n\t\tfor (var i=0; i!=s.length; ++i) view[i] = s.charCodeAt(i) & 0xFF;\n\t\treturn buf;\n\t}\n\n\toutput = XLSX.write(workbook, {bookType:'xlsx', bookSST:true, type: 'binary', compression });\n\n\tsetFileContents(s2ab(output), \"application/octet-stream\");\n}","export default function(list, options, setFileContents){\n\tif(this.modExists(\"export\", true)){\n\t\tsetFileContents(this.modules.export.generateHTMLTable(list), \"text/html\");\n\t}\n}","import Module from '../../core/Module.js';\n\nimport defaultDownloaders from './defaults/downloaders.js';\n\nclass Download extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.registerTableOption(\"downloadEncoder\", function(data, mimeType){\n\t\t\treturn new Blob([data],{type:mimeType});\n\t\t}); //function to manipulate download data\n\t\tthis.registerTableOption(\"downloadReady\", undefined); //warn of function deprecation\n\t\tthis.registerTableOption(\"downloadConfig\", {}); //download config\n\t\tthis.registerTableOption(\"downloadRowRange\", \"active\"); //restrict download to active rows only\n\n\t\tthis.registerColumnOption(\"download\");\n\t\tthis.registerColumnOption(\"titleDownload\");\n\t}\n\n\tinitialize(){\n\t\tthis.deprecatedOptionsCheck();\n\n\t\tthis.registerTableFunction(\"download\", this.download.bind(this));\n\t\tthis.registerTableFunction(\"downloadToTab\", this.downloadToTab.bind(this));\n\t}\n\n\tdeprecatedOptionsCheck(){\n\t\tthis.deprecationCheck(\"downloadReady\", \"downloadEncoder\");\n\t}\t\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\tdownloadToTab(type, filename, options, active){\n\t\tthis.download(type, filename, options, active, true);\n\t}\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\t//trigger file download\n\tdownload(type, filename, options, range, interceptCallback){\n\t\tvar downloadFunc = false;\n\n\t\tfunction buildLink(data, mime){\n\t\t\tif(interceptCallback){\n\t\t\t\tif(interceptCallback === true){\n\t\t\t\t\tthis.triggerDownload(data, mime, type, filename, true);\n\t\t\t\t}else{\n\t\t\t\t\tinterceptCallback(data);\n\t\t\t\t}\n\n\t\t\t}else{\n\t\t\t\tthis.triggerDownload(data, mime, type, filename);\n\t\t\t}\n\t\t}\n\n\t\tif(typeof type == \"function\"){\n\t\t\tdownloadFunc = type;\n\t\t}else{\n\t\t\tif(Download.downloaders[type]){\n\t\t\t\tdownloadFunc = Download.downloaders[type];\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Download Error - No such download type found: \", type);\n\t\t\t}\n\t\t}\n\n\t\tif(downloadFunc){\n\t\t\tvar list = this.generateExportList(range);\n\n\t\t\tdownloadFunc.call(this.table, list , options || {}, buildLink.bind(this));\n\t\t}\n\t}\n\n\tgenerateExportList(range){\n\t\tvar list = this.table.modules.export.generateExportList(this.table.options.downloadConfig, false, range || this.table.options.downloadRowRange, \"download\");\n\n\t\t//assign group header formatter\n\t\tvar groupHeader = this.table.options.groupHeaderDownload;\n\n\t\tif(groupHeader && !Array.isArray(groupHeader)){\n\t\t\tgroupHeader = [groupHeader];\n\t\t}\n\n\t\tlist.forEach((row) => {\n\t\t\tvar group;\n\n\t\t\tif(row.type === \"group\"){\n\t\t\t\tgroup = row.columns[0];\n\n\t\t\t\tif(groupHeader && groupHeader[row.indent]){\n\t\t\t\t\tgroup.value = groupHeader[row.indent](group.value, row.component._group.getRowCount(), row.component._group.getData(), row.component);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn list;\n\t}\n\n\ttriggerDownload(data, mime, type, filename, newTab){\n\t\tvar element = document.createElement('a'),\n\t\tblob = this.table.options.downloadEncoder(data, mime);\n\n\t\tif(blob){\n\t\t\tif(newTab){\n\t\t\t\twindow.open(window.URL.createObjectURL(blob));\n\t\t\t}else{\n\t\t\t\tfilename = filename || \"Tabulator.\" + (typeof type === \"function\" ? \"txt\" : type);\n\t\t\t\t\n\t\t\t\tif(navigator.msSaveOrOpenBlob){\n\t\t\t\t\tnavigator.msSaveOrOpenBlob(blob, filename);\n\t\t\t\t}else{\n\t\t\t\t\telement.setAttribute('href', window.URL.createObjectURL(blob));\n\n\t\t\t\t\t//set file title\n\t\t\t\t\telement.setAttribute('download', filename);\n\n\t\t\t\t\t//trigger download\n\t\t\t\t\telement.style.display = 'none';\n\t\t\t\t\tdocument.body.appendChild(element);\n\t\t\t\t\telement.click();\n\n\t\t\t\t\t//remove temporary link element\n\t\t\t\t\tdocument.body.removeChild(element);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.dispatchExternal(\"downloadComplete\");\n\t\t}\n\t}\n\n\tcommsReceived(table, action, data){\n\t\tswitch(action){\n\t\t\tcase \"intercept\":\n\t\t\t\tthis.download(data.type, \"\", data.options, data.active, data.intercept);\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\n\nDownload.moduleName = \"download\";\n\n//load defaults\nDownload.downloaders = defaultDownloaders;\n\nexport default Download;","export default function maskInput(el, options){\n\tvar mask = options.mask,\n\tmaskLetter = typeof options.maskLetterChar !== \"undefined\" ? options.maskLetterChar : \"A\",\n\tmaskNumber = typeof options.maskNumberChar !== \"undefined\" ? options.maskNumberChar : \"9\",\n\tmaskWildcard = typeof options.maskWildcardChar !== \"undefined\" ? options.maskWildcardChar : \"*\";\n\n\tfunction fillSymbols(index){\n\t\tvar symbol = mask[index];\n\t\tif(typeof symbol !== \"undefined\" && symbol !== maskWildcard && symbol !== maskLetter && symbol !== maskNumber){\n\t\t\tel.value = el.value + \"\" + symbol;\n\t\t\tfillSymbols(index+1);\n\t\t}\n\t}\n\n\tel.addEventListener(\"keydown\", (e) => {\n\t\tvar index = el.value.length,\n\t\tchar = e.key;\n\n\t\tif(e.keyCode > 46 && !e.ctrlKey && !e.metaKey){\n\t\t\tif(index >= mask.length){\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\treturn false;\n\t\t\t}else{\n\t\t\t\tswitch(mask[index]){\n\t\t\t\t\tcase maskLetter:\n\t\t\t\t\t\tif(char.toUpperCase() == char.toLowerCase()){\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase maskNumber:\n\t\t\t\t\t\tif(isNaN(char)){\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase maskWildcard:\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif(char !== mask[index]){\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn;\n\t});\n\n\tel.addEventListener(\"keyup\", (e) => {\n\t\tif(e.keyCode > 46){\n\t\t\tif(options.maskAutoFill){\n\t\t\t\tfillSymbols(el.value.length);\n\t\t\t}\n\t\t}\n\t});\n\n\n\tif(!el.placeholder){\n\t\tel.placeholder = mask;\n\t}\n\n\tif(options.maskAutoFill){\n\t\tfillSymbols(el.value.length);\n\t}\n}","//input element\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar inputFormat = editorParams.format,\n\tvertNav = editorParams.verticalNavigation || \"editor\",\n\tDT = inputFormat ? (window.DateTime || luxon.DateTime) : null, \n\tnewDatetime;\n\t\n\t//create and style input\n\tvar cellValue = cell.getValue(),\n\tinput = document.createElement(\"input\");\n\t\n\tinput.type = \"datetime-local\";\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\t\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcellValue = typeof cellValue !== \"undefined\" ? cellValue : \"\";\n\t\n\tif(inputFormat){\n\t\tif(DT){\n\t\t\tif(DT.isDateTime(cellValue)){\n\t\t\t\tnewDatetime = cellValue;\n\t\t\t}else if(inputFormat === \"iso\"){\n\t\t\t\tnewDatetime = DT.fromISO(String(cellValue));\n\t\t\t}else{\n\t\t\t\tnewDatetime = DT.fromFormat(String(cellValue), inputFormat);\n\t\t\t}\n\t\t\t\n\t\t\tcellValue = newDatetime.toFormat(\"yyyy-MM-dd\")  + \"T\" + newDatetime.toFormat(\"hh:mm\");\n\t\t}else{\n\t\t\tconsole.error(\"Editor Error - 'date' editor 'format' param is dependant on luxon.js\");\n\t\t}\n\t}\n\t\n\tinput.value = cellValue;\n\t\n\tonRendered(function(){\n\t\tif(cell._getSelf){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\t\t\t\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\t\n\tfunction onChange(){\n\t\tvar value = input.value,\n\t\tluxDateTime;\n\t\t\n\t\tif(((cellValue === null || typeof cellValue === \"undefined\") && value !== \"\") || value !== cellValue){\n\n\t\t\tif(value && inputFormat){\n\t\t\t\tluxDateTime = DT.fromISO(String(value));\n\n\t\t\t\tswitch(inputFormat){\n\t\t\t\t\tcase true:\n\t\t\t\t\t\tvalue = luxDateTime;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"iso\":\n\t\t\t\t\t\tvalue = luxDateTime.toISO();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tvalue = luxDateTime.toFormat(inputFormat);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(success(value)){\n\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else{\n\t\t\tcancel();\n\t\t}\n\t}\n\t\n\t//submit new value on blur\n\tinput.addEventListener(\"blur\", function(e) {\n\t\tif (e.relatedTarget || e.rangeParent || e.explicitOriginalTarget !== input) {\n\t\t\tonChange(); // only on a \"true\" blur; not when focusing browser's date/time picker\n\t\t}\n\t});\n\t\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\t// case 9:\n\t\t\tcase 13:\n\t\t\t\tonChange();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\n\t\t\tcase 38: //up arrow\n\t\t\tcase 40: //down arrow\n\t\t\t\tif(vertNav == \"editor\"){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t});\n\t\n\treturn input;\n}\n","import maskInput from './inputMask.js';\nimport urlBuilder from '../Ajax/defaults/urlGenerator.js';\n\nexport default class Edit{\n\tconstructor(editor, cell, onRendered, success, cancel, editorParams){\n\t\tthis.edit = editor;\n\t\tthis.table = editor.table;\n\t\tthis.cell = cell;\n\t\tthis.params = this._initializeParams(editorParams);\n\t\t\n\t\tthis.data = [];\n\t\tthis.displayItems = [];\n\t\tthis.currentItems = [];\n\t\tthis.focusedItem = null;\n\t\t\n\t\tthis.input = this._createInputElement();\n\t\tthis.listEl = this._createListElement();\n\t\t\n\t\tthis.initialValues = null; \n\t\t\n\t\tthis.isFilter = !cell._getSelf;\n\t\t\n\t\tthis.filterTimeout = null;\n\t\tthis.filtered = false;\n\t\tthis.typing = false;\n\t\t\n\t\tthis.values = []; \n\t\tthis.popup = null;  \n\t\t\n\t\tthis.listIteration = 0;\n\t\t\n\t\tthis.lastAction=\"\";\n\t\tthis.filterTerm=\"\";\n\t\t\n\t\tthis.blurable = true;\n\t\t\n\t\tthis.actions = {\n\t\t\tsuccess:success,\n\t\t\tcancel:cancel\n\t\t};\n\t\t\n\t\tthis._deprecatedOptionsCheck();\n\t\tthis._initializeValue();\n\t\t\n\t\tonRendered(this._onRendered.bind(this));\n\t}\n\t\n\t_deprecatedOptionsCheck(){\n\t\tif(this.params.listItemFormatter){\n\t\t\tthis.cell.getTable().deprecationAdvisor.msg(\"The listItemFormatter editor param has been deprecated, please see the latest editor documentation for updated options\");\n\t\t}\n\t\t\n\t\tif(this.params.sortValuesList){\n\t\t\tthis.cell.getTable().deprecationAdvisor.msg(\"The sortValuesList editor param has been deprecated, please see the latest editor documentation for updated options\");\n\t\t}\n\t\t\n\t\tif(this.params.searchFunc){\n\t\t\tthis.cell.getTable().deprecationAdvisor.msg(\"The searchFunc editor param has been deprecated, please see the latest editor documentation for updated options\");\n\t\t}\n\t\t\n\t\tif(this.params.searchingPlaceholder){\n\t\t\tthis.cell.getTable().deprecationAdvisor.msg(\"The searchingPlaceholder editor param has been deprecated, please see the latest editor documentation for updated options\");\n\t\t}\n\t}\n\t\n\t_initializeValue(){\n\t\tvar initialValue = this.cell.getValue();\n\t\t\n\t\tif(typeof initialValue === \"undefined\" && typeof this.params.defaultValue !== \"undefined\"){\n\t\t\tinitialValue = this.params.defaultValue;\n\t\t}\n\t\t\n\t\tthis.initialValues = this.params.multiselect ? initialValue : [initialValue];\n\t\t\n\t\tif(this.isFilter){\n\t\t\tthis.input.value = this.initialValues ? this.initialValues.join(\",\") : \"\";\n\t\t\tthis.headerFilterInitialListGen();            \n\t\t}\n\t}\n\t\n\t_onRendered(){\n\t\tvar cellEl = this.cell.getElement();\n\t\t\n\t\tfunction clickStop(e){\n\t\t\te.stopPropagation();\n\t\t}\t\n\t\n\t\tif(!this.isFilter){\n\t\t\tthis.input.style.height = \"100%\";\n\t\t\tthis.input.focus({preventScroll: true});\n\t\t}\n\t\t\n\t\t\n\t\tcellEl.addEventListener(\"click\", clickStop);\n\t\t\n\t\tsetTimeout(() => {\n\t\t\tcellEl.removeEventListener(\"click\", clickStop);\n\t\t}, 1000);\n\t\t\n\t\tthis.input.addEventListener(\"mousedown\", this._preventPopupBlur.bind(this));\n\t}\n\t\n\t_createListElement(){\n\t\tvar listEl = document.createElement(\"div\");\n\t\tlistEl.classList.add(\"tabulator-edit-list\");\n\t\t\n\t\tlistEl.addEventListener(\"mousedown\", this._preventBlur.bind(this));\n\t\tlistEl.addEventListener(\"keydown\", this._inputKeyDown.bind(this));\n\t\t\n\t\treturn listEl;\n\t}\n\t\n\t_setListWidth(){\n\t\tvar element = this.isFilter ? this.input : this.cell.getElement();\n\t\t\n\t\tthis.listEl.style.minWidth = element.offsetWidth + \"px\";\n\t\t\n\t\tif(this.params.maxWidth){\n\t\t\tif(this.params.maxWidth === true){\n\t\t\t\tthis.listEl.style.maxWidth = element.offsetWidth + \"px\";\n\t\t\t}else if(typeof this.params.maxWidth === \"number\"){\n\t\t\t\tthis.listEl.style.maxWidth = this.params.maxWidth + \"px\";\n\t\t\t}else{\n\t\t\t\tthis.listEl.style.maxWidth = this.params.maxWidth;\n\t\t\t}\n\t\t}\n\t\t\n\t}\n\t\n\t_createInputElement(){\n\t\tvar attribs = this.params.elementAttributes;\n\t\tvar input = document.createElement(\"input\");\n\t\t\n\t\tinput.setAttribute(\"type\", this.params.clearable ? \"search\" : \"text\");\n\t\t\n\t\tinput.style.padding = \"4px\";\n\t\tinput.style.width = \"100%\";\n\t\tinput.style.boxSizing = \"border-box\";\n\t\t\n\t\tif(!this.params.autocomplete){\n\t\t\tinput.style.cursor = \"default\";\n\t\t\tinput.style.caretColor = \"transparent\";\n\t\t\t// input.readOnly = (this.edit.currentCell != false);\n\t\t}\n\t\t\n\t\tif(attribs && typeof attribs == \"object\"){\n\t\t\tfor (let key in attribs){\n\t\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\t\tkey = key.slice(1);\n\t\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + attribs[\"+\" + key]);\n\t\t\t\t}else{\n\t\t\t\t\tinput.setAttribute(key, attribs[key]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(this.params.mask){\n\t\t\tmaskInput(input, this.params);\n\t\t}\n\t\t\n\t\tthis._bindInputEvents(input);\n\t\t\n\t\treturn input;\n\t}\n\t\n\t_initializeParams(params){\n\t\tvar valueKeys = [\"values\", \"valuesURL\", \"valuesLookup\"],\n\t\tvalueCheck;\n\t\t\n\t\tparams = Object.assign({}, params);\n\t\t\n\t\tparams.verticalNavigation = params.verticalNavigation || \"editor\";\n\t\tparams.placeholderLoading = typeof params.placeholderLoading === \"undefined\" ? \"Searching ...\" : params.placeholderLoading;\n\t\tparams.placeholderEmpty = typeof params.placeholderEmpty === \"undefined\" ? \"No Results Found\" : params.placeholderEmpty;\n\t\tparams.filterDelay = typeof params.filterDelay === \"undefined\" ? 300 : params.filterDelay;\n\t\t\n\t\tparams.emptyValue = Object.keys(params).includes(\"emptyValue\") ? params.emptyValue : \"\";\n\t\t\n\t\tvalueCheck = Object.keys(params).filter(key => valueKeys.includes(key)).length;\n\t\t\n\t\tif(!valueCheck){\n\t\t\tconsole.warn(\"list editor config error - either the values, valuesURL, or valuesLookup option must be set\");\n\t\t}else if(valueCheck > 1){\n\t\t\tconsole.warn(\"list editor config error - only one of the values, valuesURL, or valuesLookup options can be set on the same editor\");\n\t\t}\n\t\t\n\t\tif(params.autocomplete){\n\t\t\tif(params.multiselect){\n\t\t\t\tparams.multiselect = false;\n\t\t\t\tconsole.warn(\"list editor config error - multiselect option is not available when autocomplete is enabled\");\n\t\t\t}\n\t\t}else{\n\t\t\tif(params.freetext){\n\t\t\t\tparams.freetext = false;\n\t\t\t\tconsole.warn(\"list editor config error - freetext option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t\t\n\t\t\tif(params.filterFunc){\n\t\t\t\tparams.filterFunc = false;\n\t\t\t\tconsole.warn(\"list editor config error - filterFunc option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t\t\n\t\t\tif(params.filterRemote){\n\t\t\t\tparams.filterRemote = false;\n\t\t\t\tconsole.warn(\"list editor config error - filterRemote option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t\t\n\t\t\tif(params.mask){\n\t\t\t\tparams.mask = false;\n\t\t\t\tconsole.warn(\"list editor config error - mask option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t\t\n\t\t\tif(params.allowEmpty){\n\t\t\t\tparams.allowEmpty = false;\n\t\t\t\tconsole.warn(\"list editor config error - allowEmpty option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t\t\n\t\t\tif(params.listOnEmpty){\n\t\t\t\tparams.listOnEmpty = false;\n\t\t\t\tconsole.warn(\"list editor config error - listOnEmpty option is only available when autocomplete is enabled\");\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(params.filterRemote && !(typeof params.valuesLookup === \"function\" || params.valuesURL)){\n\t\t\tparams.filterRemote = false;\n\t\t\tconsole.warn(\"list editor config error - filterRemote option should only be used when values list is populated from a remote source\");\n\t\t}\n\t\treturn params;\n\t}\n\t//////////////////////////////////////\n\t////////// Event Handling ////////////\n\t//////////////////////////////////////\n\t\n\t_bindInputEvents(input){\n\t\tinput.addEventListener(\"focus\", this._inputFocus.bind(this));\n\t\tinput.addEventListener(\"click\", this._inputClick.bind(this));\n\t\tinput.addEventListener(\"blur\", this._inputBlur.bind(this));\n\t\tinput.addEventListener(\"keydown\", this._inputKeyDown.bind(this));\n\t\tinput.addEventListener(\"search\", this._inputSearch.bind(this));\n\t\t\n\t\tif(this.params.autocomplete){\n\t\t\tinput.addEventListener(\"keyup\", this._inputKeyUp.bind(this));\n\t\t}\n\t}\n\t\n\t\n\t_inputFocus(e){\n\t\tthis.rebuildOptionsList();\n\t}\n\t\n\t_filter(){\n\t\tif(this.params.filterRemote){\n\t\t\tclearTimeout(this.filterTimeout);\n\t\t\t\n\t\t\tthis.filterTimeout = setTimeout(() => {\n\t\t\t\tthis.rebuildOptionsList();\n\t\t\t}, this.params.filterDelay);\n\t\t}else{\n\t\t\tthis._filterList();\n\t\t}\n\t}\n\t\n\t_inputClick(e){\n\t\te.stopPropagation();\n\t}\n\t\n\t_inputBlur(e){\n\t\tif(this.blurable){\n\t\t\tif(this.popup){\n\t\t\t\tthis.popup.hide();\n\t\t\t}else{\n\t\t\t\tthis._resolveValue(true);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_inputSearch(){\n\t\tthis._clearChoices();\n\t}\n\t\n\t_inputKeyDown(e){\n\t\tswitch(e.keyCode){\n\t\t\t\n\t\t\tcase 38: //up arrow\n\t\t\t\tthis._keyUp(e);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 40: //down arrow\n\t\t\t\tthis._keyDown(e);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 37: //left arrow\n\t\t\tcase 39: //right arrow\n\t\t\t\tthis._keySide(e);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 13: //enter\n\t\t\t\tthis._keyEnter();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 27: //escape\n\t\t\t\tthis._keyEsc();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 36: //home\n\t\t\tcase 35: //end\n\t\t\t\tthis._keyHomeEnd(e);\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 9: //tab\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tthis._keySelectLetter(e);\n\t\t}\n\t}\n\t\n\t_inputKeyUp(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 38: //up arrow\n\t\t\tcase 37: //left arrow\n\t\t\tcase 39: //up arrow\n\t\t\tcase 40: //right arrow\n\t\t\tcase 13: //enter\n\t\t\tcase 27: //escape\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tthis._keyAutoCompLetter(e);\n\t\t}\n\t}\n\t\n\t_preventPopupBlur(){\n\t\tif(this.popup){\n\t\t\tthis.popup.blockHide();\n\t\t}\n\t\t\n\t\tsetTimeout(() =>{\n\t\t\tif(this.popup){\n\t\t\t\tthis.popup.restoreHide();\n\t\t\t}\n\t\t}, 10);\n\t}\n\t\n\t_preventBlur(){\n\t\tthis.blurable = false;\n\t\t\n\t\tsetTimeout(() =>{\n\t\t\tthis.blurable = true;\n\t\t}, 10);\n\t}\n\t\n\t//////////////////////////////////////\n\t//////// Keyboard Navigation /////////\n\t//////////////////////////////////////\n\t\n\t_keyUp(e){\n\t\tvar index = this.displayItems.indexOf(this.focusedItem);\n\t\t\n\t\tif(this.params.verticalNavigation == \"editor\" || (this.params.verticalNavigation == \"hybrid\" && index)){\n\t\t\te.stopImmediatePropagation();\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tif(index > 0){\n\t\t\t\tthis._focusItem(this.displayItems[index - 1]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_keyDown(e){\n\t\tvar index = this.displayItems.indexOf(this.focusedItem);\n\t\t\n\t\tif(this.params.verticalNavigation == \"editor\" || (this.params.verticalNavigation == \"hybrid\" && index < this.displayItems.length - 1)){\n\t\t\te.stopImmediatePropagation();\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tif(index < this.displayItems.length - 1){\n\t\t\t\tif(index == -1){\n\t\t\t\t\tthis._focusItem(this.displayItems[0]);\n\t\t\t\t}else{\n\t\t\t\t\tthis._focusItem(this.displayItems[index + 1]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_keySide(e){\n\t\tif(!this.params.autocomplete){\n\t\t\te.stopImmediatePropagation();\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t}\n\t}\n\t\n\t_keyEnter(e){\n\t\tif(this.params.autocomplete && this.lastAction === \"typing\"){\n\t\t\tthis._resolveValue(true);\n\t\t}else{\n\t\t\tif(this.focusedItem){\n\t\t\t\tthis._chooseItem(this.focusedItem);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_keyEsc(e){\n\t\tthis._cancel();\n\t}\n\t\n\t_keyHomeEnd(e){\n\t\tif(this.params.autocomplete){\n\t\t\t//prevent table navigation while using input element\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\t}\n\t\n\t_keySelectLetter(e){\n\t\tif(!this.params.autocomplete){\n\t\t\t// if(this.edit.currentCell === false){\n\t\t\te.preventDefault();\n\t\t\t// }\n\t\t\t\n\t\t\tif(e.keyCode >= 38 && e.keyCode <= 90){\n\t\t\t\tthis._scrollToValue(e.keyCode);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_keyAutoCompLetter(e){\n\t\tthis._filter();\n\t\tthis.lastAction = \"typing\";\n\t\tthis.typing = true;\n\t}\n\t\n\t\n\t_scrollToValue(char){\n\t\tclearTimeout(this.filterTimeout);\n\t\t\n\t\tvar character = String.fromCharCode(char).toLowerCase();\n\t\tthis.filterTerm += character.toLowerCase();\n\t\t\n\t\tvar match = this.displayItems.find((item) => {\n\t\t\treturn typeof item.label !== \"undefined\" && item.label.toLowerCase().startsWith(this.filterTerm);\n\t\t});\n\t\t\n\t\tif(match){\n\t\t\tthis._focusItem(match);\n\t\t}\n\t\t\n\t\tthis.filterTimeout = setTimeout(() => {\n\t\t\tthis.filterTerm = \"\";\n\t\t}, 800);\n\t}\n\t\n\t_focusItem(item){\n\t\tthis.lastAction = \"focus\";\n\t\t\n\t\tif(this.focusedItem && this.focusedItem.element){\n\t\t\tthis.focusedItem.element.classList.remove(\"focused\");\n\t\t}\n\t\t\n\t\tthis.focusedItem = item;\n\t\t\n\t\tif(item && item.element){\n\t\t\titem.element.classList.add(\"focused\");\n\t\t\titem.element.scrollIntoView({behavior: 'smooth', block: 'nearest', inline: 'start'});\n\t\t}\n\t}\n\t\n\t\n\t//////////////////////////////////////\n\t/////// Data List Generation /////////\n\t//////////////////////////////////////\n\theaderFilterInitialListGen(){\n\t\tthis._generateOptions(true);\n\t}\n\t\n\trebuildOptionsList(){\n\t\tthis._generateOptions()\n\t\t\t.then(this._sortOptions.bind(this))\n\t\t\t.then(this._buildList.bind(this))\n\t\t\t.then(this._showList.bind(this))\n\t\t\t.catch((e) => {\n\t\t\t\tif(!Number.isInteger(e)){\n\t\t\t\t\tconsole.error(\"List generation error\", e);\n\t\t\t\t}\n\t\t\t});\n\t}\n\t\n\t_filterList(){\n\t\tthis._buildList(this._filterOptions());\n\t\tthis._showList();\n\t}\n\t\n\t_generateOptions(silent){\n\t\tvar values = [];\n\t\tvar iteration = ++ this.listIteration;\n\t\t\n\t\tthis.filtered = false;\n\t\t\n\t\tif(this.params.values){\n\t\t\tvalues = this.params.values;\n\t\t}else if (this.params.valuesURL){\n\t\t\tvalues = this._ajaxRequest(this.params.valuesURL, this.input.value);\n\t\t}else{\n\t\t\tif(typeof this.params.valuesLookup === \"function\"){\n\t\t\t\tvalues = this.params.valuesLookup(this.cell, this.input.value);\n\t\t\t}else if(this.params.valuesLookup){\n\t\t\t\tvalues = this._uniqueColumnValues(this.params.valuesLookupField);\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(values instanceof Promise){\n\t\t\tif(!silent){\n\t\t\t\tthis._addPlaceholder(this.params.placeholderLoading);\n\t\t\t}\n\t\t\t\n\t\t\treturn values.then()\n\t\t\t\t.then((responseValues) => {\n\t\t\t\t\tif(this.listIteration === iteration){\n\t\t\t\t\t\treturn this._parseList(responseValues);\n\t\t\t\t\t}else{\n\t\t\t\t\t\treturn Promise.reject(iteration);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}else{\n\t\t\treturn Promise.resolve(this._parseList(values));\n\t\t}\n\t}\n\t\n\t_addPlaceholder(contents){\n\t\tvar placeholder = document.createElement(\"div\");\n\t\t\n\t\tif(typeof contents === \"function\"){\n\t\t\tcontents = contents(this.cell.getComponent(), this.listEl);\n\t\t}\n\t\t\n\t\tif(contents){\n\t\t\tthis._clearList();\n\t\t\t\n\t\t\tif(contents instanceof HTMLElement){\n\t\t\t\tplaceholder = contents;\n\t\t\t}else{\n\t\t\t\tplaceholder.classList.add(\"tabulator-edit-list-placeholder\");\n\t\t\t\tplaceholder.innerHTML = contents;\n\t\t\t}\n\t\t\t\n\t\t\tthis.listEl.appendChild(placeholder);\n\t\t\t\n\t\t\tthis._showList();\n\t\t}\n\t}\n\t\n\t_ajaxRequest(url, term){\n\t\tvar params = this.params.filterRemote ? {term:term} : {};\n\t\turl = urlBuilder(url, {}, params);\n\t\t\n\t\treturn fetch(url)\n\t\t\t.then((response)=>{\n\t\t\t\tif(response.ok) {\n\t\t\t\t\treturn response.json()\n\t\t\t\t\t\t.catch((error)=>{\n\t\t\t\t\t\t\tconsole.warn(\"List Ajax Load Error - Invalid JSON returned\", error);\n\t\t\t\t\t\t\treturn Promise.reject(error);\n\t\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tconsole.error(\"List Ajax Load Error - Connection Error: \" + response.status, response.statusText);\n\t\t\t\t\treturn Promise.reject(response);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error)=>{\n\t\t\t\tconsole.error(\"List Ajax Load Error - Connection Error: \", error);\n\t\t\t\treturn Promise.reject(error);\n\t\t\t});\n\t}\n\t\n\t_uniqueColumnValues(field){\n\t\tvar output = {},\n\t\tdata = this.table.getData(this.params.valuesLookup),\n\t\tcolumn;\n\t\t\n\t\tif(field){\n\t\t\tcolumn = this.table.columnManager.getColumnByField(field);\n\t\t}else{\n\t\t\tcolumn = this.cell.getColumn()._getSelf();\n\t\t}\n\t\t\n\t\tif(column){\n\t\t\tdata.forEach((row) => {\n\t\t\t\tvar val = column.getFieldValue(row);\n\t\t\t\t\n\t\t\t\tif(val !== null && typeof val !== \"undefined\" && val !== \"\"){\n\t\t\t\t\toutput[val] = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}else{\n\t\t\tconsole.warn(\"unable to find matching column to create select lookup list:\", field);\n\t\t\toutput = [];\n\t\t}\n\t\t\n\t\treturn Object.keys(output);\n\t}\n\t\n\t\n\t_parseList(inputValues){\n\t\tvar data = [];\n\t\t\n\t\tif(!Array.isArray(inputValues)){\n\t\t\tinputValues = Object.entries(inputValues).map(([key, value]) => {\n\t\t\t\treturn {\n\t\t\t\t\tlabel:value,\n\t\t\t\t\tvalue:key,\n\t\t\t\t};\n\t\t\t});\n\t\t}\n\t\t\n\t\tinputValues.forEach((value) => {\n\t\t\tif(typeof value !== \"object\"){\n\t\t\t\tvalue = {\n\t\t\t\t\tlabel:value,\n\t\t\t\t\tvalue:value,\n\t\t\t\t};\n\t\t\t}\n\t\t\t\n\t\t\tthis._parseListItem(value, data, 0);\n\t\t});\n\t\t\n\t\tif(!this.currentItems.length && this.params.freetext){\n\t\t\tthis.input.value = this.initialValues;\n\t\t\tthis.typing = true;\n\t\t\tthis.lastAction = \"typing\";\n\t\t}\n\t\t\n\t\tthis.data = data;\n\t\t\n\t\treturn data;    \n\t}\n\t\n\t_parseListItem(option, data, level){\n\t\tvar item = {};\n\t\t\n\t\tif(option.options){\n\t\t\titem = this._parseListGroup(option, level + 1);\n\t\t}else{\n\t\t\titem = {\n\t\t\t\tlabel:option.label,\n\t\t\t\tvalue:option.value,\n\t\t\t\titemParams:option.itemParams,\n\t\t\t\telementAttributes: option.elementAttributes,\n\t\t\t\telement:false,\n\t\t\t\tselected:false,\n\t\t\t\tvisible:true,\n\t\t\t\tlevel:level,\n\t\t\t\toriginal:option,\n\t\t\t};\n\t\t\t\n\t\t\tif(this.initialValues && this.initialValues.indexOf(option.value) > -1){\n\t\t\t\tthis._chooseItem(item, true);\n\t\t\t}\n\t\t}\n\t\t\n\t\tdata.push(item);\n\t}\n\t\n\t_parseListGroup(option, level){\n\t\tvar item = {\n\t\t\tlabel:option.label,\n\t\t\tgroup:true,\n\t\t\titemParams:option.itemParams,\n\t\t\telementAttributes:option.elementAttributes,\n\t\t\telement:false,\n\t\t\tvisible:true,\n\t\t\tlevel:level,\n\t\t\toptions:[],\n\t\t\toriginal:option,\n\t\t};\n\t\t\n\t\toption.options.forEach((child) => {\n\t\t\tthis._parseListItem(child, item.options, level);\n\t\t});\n\t\t\n\t\treturn item;\n\t}\n\t\n\t_sortOptions(options){\n\t\tvar sorter;\n\t\t\n\t\tif(this.params.sort){\n\t\t\tsorter = typeof this.params.sort === \"function\" ? this.params.sort : this._defaultSortFunction.bind(this);\n\t\t\t\n\t\t\tthis._sortGroup(sorter, options);\n\t\t}\n\t\t\n\t\treturn options;\n\t}\n\t\n\t_sortGroup(sorter, options){\n\t\toptions.sort((a,b) => {\n\t\t\treturn sorter(a.label, b.label, a.value, b.value, a.original, b.original);\n\t\t});\n\t\t\n\t\toptions.forEach((option) => {\n\t\t\tif(option.group){\n\t\t\t\tthis._sortGroup(sorter, option.options);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t_defaultSortFunction(as, bs){\n\t\tvar a, b, a1, b1, i= 0, L, rx = /(\\d+)|(\\D+)/g, rd = /\\d/;\n\t\tvar emptyAlign = 0;\n\t\t\n\t\tif(this.params.sort === \"desc\"){\n\t\t\t[as, bs] = [bs, as];\n\t\t}\n\t\t\n\t\t//handle empty values\n\t\tif(!as && as!== 0){\n\t\t\temptyAlign =  !bs && bs!== 0 ? 0 : -1;\n\t\t}else if(!bs && bs!== 0){\n\t\t\temptyAlign =  1;\n\t\t}else{\n\t\t\tif(isFinite(as) && isFinite(bs)) return as - bs;\n\t\t\ta = String(as).toLowerCase();\n\t\t\tb = String(bs).toLowerCase();\n\t\t\tif(a === b) return 0;\n\t\t\tif(!(rd.test(a) && rd.test(b))) return a > b ? 1 : -1;\n\t\t\ta = a.match(rx);\n\t\t\tb = b.match(rx);\n\t\t\tL = a.length > b.length ? b.length : a.length;\n\t\t\twhile(i < L){\n\t\t\t\ta1= a[i];\n\t\t\t\tb1= b[i++];\n\t\t\t\tif(a1 !== b1){\n\t\t\t\t\tif(isFinite(a1) && isFinite(b1)){\n\t\t\t\t\t\tif(a1.charAt(0) === \"0\") a1 = \".\" + a1;\n\t\t\t\t\t\tif(b1.charAt(0) === \"0\") b1 = \".\" + b1;\n\t\t\t\t\t\treturn a1 - b1;\n\t\t\t\t\t}\n\t\t\t\t\telse return a1 > b1 ? 1 : -1;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn a.length > b.length;\n\t\t}\n\t\t\n\t\treturn emptyAlign;\n\t}\n\t\n\t_filterOptions(){\n\t\tvar filterFunc = this.params.filterFunc || this._defaultFilterFunc,\n\t\tterm = this.input.value;\n\t\t\n\t\tif(term){\n\t\t\tthis.filtered = true;\n\t\t\t\n\t\t\tthis.data.forEach((item) => {\n\t\t\t\tthis._filterItem(filterFunc, term, item);\n\t\t\t});\n\t\t}else{\n\t\t\tthis.filtered = false;\n\t\t}\n\t\t\n\t\treturn this.data;\n\t}\n\t\n\t_filterItem(func, term, item){\n\t\tvar matches = false;\n\t\t\n\t\tif(!item.group){\n\t\t\titem.visible = func(term, item.label, item.value, item.original);\n\t\t}else{\n\t\t\titem.options.forEach((option) => {\n\t\t\t\tif(this._filterItem(func, term, option)){\n\t\t\t\t\tmatches = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\titem.visible = matches;\n\t\t}\n\t\t\n\t\treturn item.visible;\n\t}\n\t\n\t_defaultFilterFunc(term, label, value, item){\n\t\tterm = String(term).toLowerCase();\n\t\t\n\t\tif(label !== null && typeof label !== \"undefined\"){\n\t\t\tif(String(label).toLowerCase().indexOf(term) > -1 || String(value).toLowerCase().indexOf(term) > -1){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\t//////////////////////////////////////\n\t/////////// Display List /////////////\n\t//////////////////////////////////////\n\t\n\t_clearList(){\n\t\twhile(this.listEl.firstChild) this.listEl.removeChild(this.listEl.firstChild);\n\t\t\n\t\tthis.displayItems = [];\n\t}\n\t\n\t_buildList(data){\n\t\tthis._clearList();\n\t\t\n\t\tdata.forEach((option) => {\n\t\t\tthis._buildItem(option);\n\t\t});\n\t\t\n\t\tif(!this.displayItems.length){\n\t\t\tthis._addPlaceholder(this.params.placeholderEmpty);\n\t\t}  \n\t}\n\t\n\t_buildItem(item){\n\t\tvar el = item.element,\n\t\tcontents;\n\t\t\n\t\tif(!this.filtered || item.visible){\n\t\t\t\n\t\t\tif(!el){\n\t\t\t\tel = document.createElement(\"div\");\n\t\t\t\tel.tabIndex = 0;\n\t\t\t\t\n\t\t\t\tcontents = this.params.itemFormatter ? this.params.itemFormatter(item.label, item.value, item.original, el) : item.label;\n\t\t\t\t\n\t\t\t\tif(contents instanceof HTMLElement){\n\t\t\t\t\tel.appendChild(contents);\n\t\t\t\t}else{\n\t\t\t\t\tel.innerHTML = contents;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(item.group){\n\t\t\t\t\tel.classList.add(\"tabulator-edit-list-group\");\n\t\t\t\t}else{\n\t\t\t\t\tel.classList.add(\"tabulator-edit-list-item\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tel.classList.add(\"tabulator-edit-list-group-level-\" + item.level);\n\t\t\t\t\n\t\t\t\tif(item.elementAttributes && typeof item.elementAttributes == \"object\"){\n\t\t\t\t\tfor (let key in item.elementAttributes){\n\t\t\t\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\t\t\t\tkey = key.slice(1);\n\t\t\t\t\t\t\tel.setAttribute(key, this.input.getAttribute(key) + item.elementAttributes[\"+\" + key]);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tel.setAttribute(key, item.elementAttributes[key]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(item.group){\n\t\t\t\t\tel.addEventListener(\"click\", this._groupClick.bind(this, item));\n\t\t\t\t}else{\n\t\t\t\t\tel.addEventListener(\"click\", this._itemClick.bind(this, item));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tel.addEventListener(\"mousedown\", this._preventBlur.bind(this));\n\t\t\t\t\n\t\t\t\titem.element = el;\n\t\t\t}\n\t\t\t\n\t\t\tthis._styleItem(item);\n\t\t\t\n\t\t\tthis.listEl.appendChild(el);\n\t\t\t\n\t\t\tif(item.group){\n\t\t\t\titem.options.forEach((option) => {\n\t\t\t\t\tthis._buildItem(option);\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tthis.displayItems.push(item);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_showList(){\n\t\tvar startVis = this.popup && this.popup.isVisible();\n\t\t\n\t\tif(this.input.parentNode){\n\t\t\tif(this.params.autocomplete && this.input.value === \"\" && !this.params.listOnEmpty){\n\t\t\t\tif(this.popup){\n\t\t\t\t\tthis.popup.hide(true);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tthis._setListWidth();\n\t\t\t\n\t\t\tif(!this.popup){\n\t\t\t\tthis.popup = this.edit.popup(this.listEl);\n\t\t\t}\n\t\t\t\n\t\t\tthis.popup.show(this.cell.getElement(), \"bottom\");\n\t\t\t\n\t\t\tif(!startVis){\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.popup.hideOnBlur(this._resolveValue.bind(this, true));\n\t\t\t\t}, 10);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_styleItem(item){\n\t\tif(item && item.element){\n\t\t\tif(item.selected){\n\t\t\t\titem.element.classList.add(\"active\");\n\t\t\t}else{\n\t\t\t\titem.element.classList.remove(\"active\");\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//////////////////////////////////////\n\t///////// User Interaction ///////////\n\t//////////////////////////////////////\n\t\n\t_itemClick(item, e){\n\t\te.stopPropagation();\n\t\t\n\t\tthis._chooseItem(item);\n\t}\n\t\n\t_groupClick(item, e){\n\t\te.stopPropagation();\n\t}\n\t\n\t\n\t//////////////////////////////////////\n\t////// Current Item Management ///////\n\t//////////////////////////////////////\n\t\n\t_cancel(){\n\t\tthis.popup.hide(true);\n\t\tthis.actions.cancel();\n\t}\n\t\n\t_clearChoices(){\n\t\tthis.typing = true;\n\t\t\n\t\tthis.currentItems.forEach((item) => {\n\t\t\titem.selected = false;\n\t\t\tthis._styleItem(item);\n\t\t});\n\t\t\n\t\tthis.currentItems = [];\n\t\t\n\t\tthis.focusedItem = null;\n\t}\n\t\n\t_chooseItem(item, silent){\n\t\tvar index;\n\t\t\n\t\tthis.typing = false;\n\t\t\n\t\tif(this.params.multiselect){\n\t\t\tindex = this.currentItems.indexOf(item);\n\t\t\t\n\t\t\tif(index > -1){\n\t\t\t\tthis.currentItems.splice(index, 1);\n\t\t\t\titem.selected = false;\n\t\t\t}else{\n\t\t\t\tthis.currentItems.push(item);\n\t\t\t\titem.selected = true;\n\t\t\t}\n\t\t\t\n\t\t\tthis.input.value = this.currentItems.map(item => item.label).join(\",\");\n\t\t\t\n\t\t\tthis._styleItem(item);\n\t\t\t\n\t\t}else{\n\t\t\tthis.currentItems = [item];\n\t\t\titem.selected = true;\n\t\t\t\n\t\t\tthis.input.value = item.label;\n\t\t\t\n\t\t\tthis._styleItem(item);\n\t\t\t\n\t\t\tif(!silent){\n\t\t\t\tthis._resolveValue();\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis._focusItem(item);\n\t}\n\t\n\t_resolveValue(blur){\n\t\tvar output, initialValue;\n\n\t\tif(this.popup){\n\t\t\tthis.popup.hide(true);\n\t\t}\n\t\t\n\t\tif(this.params.multiselect){\n\t\t\toutput = this.currentItems.map(item => item.value);\n\t\t}else{\n\t\t\tif(blur && this.params.autocomplete && this.typing){\n\t\t\t\tif(this.params.freetext || (this.params.allowEmpty && this.input.value === \"\")){\n\t\t\t\t\toutput = this.input.value;\n\t\t\t\t}else{\n\t\t\t\t\tthis.actions.cancel();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(this.currentItems[0]){\n\t\t\t\t\toutput = this.currentItems[0].value;\n\t\t\t\t}else{\n\t\t\t\t\tinitialValue = Array.isArray(this.initialValues) ? this.initialValues[0] : this.initialValues;\n\t\t\t\t\t\n\t\t\t\t\tif(initialValue === null || typeof initialValue === \"undefined\" || initialValue === \"\"){\n\t\t\t\t\t\toutput = initialValue;\n\t\t\t\t\t}else{\n\t\t\t\t\t\toutput = this.params.emptyValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(output === \"\"){\n\t\t\toutput = this.params.emptyValue;\n\t\t}\n\t\t\n\t\tthis.actions.success(output);\n\t\t\n\t\tif(this.isFilter){\n\t\t\tthis.initialValues = output && !Array.isArray(output) ? [output] : output;\n\t\t\tthis.currentItems = [];\n\t\t}\n\t}\n\t\n}\n","import input from './editors/input.js';\nimport textarea from './editors/textarea.js';\nimport number from './editors/number.js';\nimport range from './editors/range.js';\nimport date from './editors/date.js';\nimport time from './editors/time.js';\nimport datetime from './editors/datetime.js';\nimport select from './editors/select.js';\nimport list from './editors/list.js';\nimport autocomplete from './editors/autocomplete.js';\nimport star from './editors/star.js';\nimport progress from './editors/progress.js';\nimport tickCross from './editors/tickCross.js';\n\nexport default {\n\tinput:input,\n\ttextarea:textarea,\n\tnumber:number,\n\trange:range,\n\tdate:date,\n\ttime:time,\n\tdatetime:datetime,\n\tselect:select,\n\tlist:list,\n\tautocomplete:autocomplete,\n\tstar:star,\n\tprogress:progress,\n\ttickCross:tickCross,\n};","import maskInput from '../../inputMask.js';\n\n//input element\nexport default function(cell, onRendered, success, cancel, editorParams){\n\t//create and style input\n\tvar cellValue = cell.getValue(),\n\tinput = document.createElement(\"input\");\n\n\tinput.setAttribute(\"type\", editorParams.search ? \"search\" : \"text\");\n\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\tinput.value = typeof cellValue !== \"undefined\" ? cellValue : \"\";\n\n\tonRendered(function(){\n\t\tif(cell._getSelf){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction onChange(e){\n\t\tif(((cellValue === null || typeof cellValue === \"undefined\") && input.value !== \"\") || input.value !== cellValue){\n\t\t\tif(success(input.value)){\n\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else{\n\t\t\tcancel();\n\t\t}\n\t}\n\n\t//submit new value on blur or change\n\tinput.addEventListener(\"change\", onChange);\n\tinput.addEventListener(\"blur\", onChange);\n\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\t// case 9:\n\t\t\tcase 13:\n\t\t\t\tonChange(e);\n\t\t\t\tbreak;\n\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tif(editorParams.mask){\n\t\tmaskInput(input, editorParams);\n\t}\n\n\treturn input;\n}","import maskInput from '../../inputMask.js';\n\n//resizable text area element\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar cellValue = cell.getValue(),\n\tvertNav = editorParams.verticalNavigation || \"hybrid\",\n\tvalue = String(cellValue !== null && typeof cellValue !== \"undefined\"  ? cellValue : \"\"),\n\tinput = document.createElement(\"textarea\"),\n\tscrollHeight = 0;\n\n\t//create and style input\n\tinput.style.display = \"block\";\n\tinput.style.padding = \"2px\";\n\tinput.style.height = \"100%\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\tinput.style.whiteSpace = \"pre-wrap\";\n\tinput.style.resize = \"none\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\tinput.value = value;\n\n\tonRendered(function(){\n\t\tif(cell._getSelf){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\n\t\t\tinput.scrollHeight;\n\t\t\tinput.style.height = input.scrollHeight + \"px\";\n\t\t\tcell.getRow().normalizeHeight();\n\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction onChange(e){\n\n\t\tif(((cellValue === null || typeof cellValue === \"undefined\") && input.value !== \"\") || input.value !== cellValue){\n\n\t\t\tif(success(input.value)){\n\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\n\t\t\tsetTimeout(function(){\n\t\t\t\tcell.getRow().normalizeHeight();\n\t\t\t},300);\n\t\t}else{\n\t\t\tcancel();\n\t\t}\n\t}\n\n\t//submit new value on blur or change\n\tinput.addEventListener(\"change\", onChange);\n\tinput.addEventListener(\"blur\", onChange);\n\n\tinput.addEventListener(\"keyup\", function(){\n\n\t\tinput.style.height = \"\";\n\n\t\tvar heightNow = input.scrollHeight;\n\n\t\tinput.style.height = heightNow + \"px\";\n\n\t\tif(heightNow != scrollHeight){\n\t\t\tscrollHeight = heightNow;\n\t\t\tcell.getRow().normalizeHeight();\n\t\t}\n\t});\n\n\tinput.addEventListener(\"keydown\", function(e){\n\n\t\tswitch(e.keyCode){\n\n\t\t\tcase 13:\n\t\t\t\tif(e.shiftKey && editorParams.shiftEnterSubmit){\n\t\t\t\t\tonChange(e);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\n\t\t\tcase 38: //up arrow\n\t\t\t\tif(vertNav == \"editor\" || (vertNav == \"hybrid\" && input.selectionStart)){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 40: //down arrow\n\t\t\t\tif(vertNav == \"editor\" || (vertNav == \"hybrid\" && input.selectionStart !== input.value.length)){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tif(editorParams.mask){\n\t\tmaskInput(input, editorParams);\n\t}\n\n\treturn input;\n}","import maskInput from '../../inputMask.js';\n\n//input element with type of number\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar cellValue = cell.getValue(),\n\tvertNav = editorParams.verticalNavigation || \"editor\",\n\tinput = document.createElement(\"input\");\n\n\tinput.setAttribute(\"type\", \"number\");\n\n\tif(typeof editorParams.max != \"undefined\"){\n\t\tinput.setAttribute(\"max\", editorParams.max);\n\t}\n\n\tif(typeof editorParams.min != \"undefined\"){\n\t\tinput.setAttribute(\"min\", editorParams.min);\n\t}\n\n\tif(typeof editorParams.step != \"undefined\"){\n\t\tinput.setAttribute(\"step\", editorParams.step);\n\t}\n\n\t//create and style input\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\tinput.value = cellValue;\n\n\tvar blurFunc = function(e){\n\t\tonChange();\n\t};\n\n\tonRendered(function () {\n\t\tif(cell._getSelf){\n\t\t\t//submit new value on blur\n\t\t\tinput.removeEventListener(\"blur\", blurFunc);\n\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\n\t\t\t//submit new value on blur\n\t\t\tinput.addEventListener(\"blur\", blurFunc);\n\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction onChange(){\n\t\tvar value = input.value;\n\n\t\tif(!isNaN(value) && value !==\"\"){\n\t\t\tvalue = Number(value);\n\t\t}\n\n\t\tif(value !== cellValue){\n\t\t\tif(success(value)){\n\t\t\t\tcellValue = value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else{\n\t\t\tcancel();\n\t\t}\n\t}\n\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 13:\n\t\t\t// case 9:\n\t\t\t\tonChange();\n\t\t\t\tbreak;\n\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\n\t\t\tcase 38: //up arrow\n\t\t\tcase 40: //down arrow\n\t\t\t\tif(vertNav == \"editor\"){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\tif(editorParams.mask){\n\t\tmaskInput(input, editorParams);\n\t}\n\n\treturn input;\n}","//input element with type of number\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar cellValue = cell.getValue(),\n\tinput = document.createElement(\"input\");\n\t\n\tinput.setAttribute(\"type\", \"range\");\n\t\n\tif (typeof editorParams.max != \"undefined\") {\n\t\tinput.setAttribute(\"max\", editorParams.max);\n\t}\n\t\n\tif (typeof editorParams.min != \"undefined\") {\n\t\tinput.setAttribute(\"min\", editorParams.min);\n\t}\n\t\n\tif (typeof editorParams.step != \"undefined\") {\n\t\tinput.setAttribute(\"step\", editorParams.step);\n\t}\n\t\n\t//create and style input\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\t\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tinput.value = cellValue;\n\t\n\tonRendered(function () {\n\t\tif(cell._getSelf){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\t\t}\n\t});\n\t\n\tfunction onChange(){\n\t\tvar value = input.value;\n\t\t\n\t\tif(!isNaN(value) && value !==\"\"){\n\t\t\tvalue = Number(value);\n\t\t}\n\t\t\n\t\tif(value != cellValue){\n\t\t\tif(success(value)){\n\t\t\t\tcellValue = value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else{\n\t\t\tcancel();\n\t\t}\n\t}\n\t\n\t//submit new value on blur\n\tinput.addEventListener(\"blur\", function(e){\n\t\tonChange();\n\t});\n\t\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 13:\n\t\t\t// case 9:\n\t\t\t\tonChange();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\t\t}\n\t});\n\t\n\treturn input;\n}","//input element\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar inputFormat = editorParams.format,\n\tvertNav = editorParams.verticalNavigation || \"editor\",\n\tDT = inputFormat ? (window.DateTime || luxon.DateTime) : null;\n\t\n\t//create and style input\n\tvar cellValue = cell.getValue(),\n\tinput = document.createElement(\"input\");\n\t\n\tfunction convertDate(value){\n\t\tvar newDatetime;\n\t\t\n\t\tif(DT.isDateTime(value)){\n\t\t\tnewDatetime = value;\n\t\t}else if(inputFormat === \"iso\"){\n\t\t\tnewDatetime = DT.fromISO(String(value));\n\t\t}else{\n\t\t\tnewDatetime = DT.fromFormat(String(value), inputFormat);\n\t\t}\n\t\t\n\t\treturn newDatetime.toFormat(\"yyyy-MM-dd\");\n\t}\n\t\n\tinput.type = \"date\";\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\n\tif(editorParams.max){\n\t\tinput.setAttribute(\"max\", inputFormat ? convertDate(editorParams.max) : editorParams.max);\n\t}\n\n\tif(editorParams.min){\n\t\tinput.setAttribute(\"min\", inputFormat ? convertDate(editorParams.min) : editorParams.min);\n\t}\n\t\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcellValue = typeof cellValue !== \"undefined\" ? cellValue : \"\";\n\t\n\tif(inputFormat){\n\t\tif(DT){\t\t\n\t\t\tcellValue = convertDate(cellValue);\t\t\t\n\t\t}else{\n\t\t\tconsole.error(\"Editor Error - 'date' editor 'format' param is dependant on luxon.js\");\n\t\t}\n\t}\n\t\n\tinput.value = cellValue;\n\t\n\tonRendered(function(){\n\t\tif(cell._getSelf){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\t\t\t\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\t\n\tfunction onChange(){\n\t\tvar value = input.value,\n\t\tluxDate;\n\t\t\n\t\tif(((cellValue === null || typeof cellValue === \"undefined\") && value !== \"\") || value !== cellValue){\n\t\t\t\n\t\t\tif(value && inputFormat){\n\t\t\t\tluxDate = DT.fromFormat(String(value), \"yyyy-MM-dd\");\n\n\t\t\t\tswitch(inputFormat){\n\t\t\t\t\tcase true:\n\t\t\t\t\t\tvalue = luxDate;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"iso\":\n\t\t\t\t\t\tvalue = luxDate.toISO();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tvalue = luxDate.toFormat(inputFormat);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(success(value)){\n\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else{\n\t\t\tcancel();\n\t\t}\n\t}\n\t\n\t//submit new value on blur\n\tinput.addEventListener(\"blur\", function(e) {\n\t\tif (e.relatedTarget || e.rangeParent || e.explicitOriginalTarget !== input) {\n\t\t\tonChange(); // only on a \"true\" blur; not when focusing browser's date/time picker\n\t\t}\n\t});\n\t\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\t// case 9:\n\t\t\tcase 13:\n\t\t\t\tonChange();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 38: //up arrow\n\t\t\tcase 40: //down arrow\n\t\t\t\tif(vertNav == \"editor\"){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t});\n\t\n\treturn input;\n}\n","//input element\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar inputFormat = editorParams.format,\n\tvertNav = editorParams.verticalNavigation || \"editor\",\n\tDT = inputFormat ? (window.DateTime || luxon.DateTime) : null, \n\tnewDatetime;\n\t\n\t//create and style input\n\tvar cellValue = cell.getValue(),\n\tinput = document.createElement(\"input\");\n\t\n\tinput.type = \"time\";\n\tinput.style.padding = \"4px\";\n\tinput.style.width = \"100%\";\n\tinput.style.boxSizing = \"border-box\";\n\t\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcellValue = typeof cellValue !== \"undefined\" ? cellValue : \"\";\n\t\n\tif(inputFormat){\n\t\tif(DT){\n\t\t\tif(DT.isDateTime(cellValue)){\n\t\t\t\tnewDatetime = cellValue;\n\t\t\t}else if(inputFormat === \"iso\"){\n\t\t\t\tnewDatetime = DT.fromISO(String(cellValue));\n\t\t\t}else{\n\t\t\t\tnewDatetime = DT.fromFormat(String(cellValue), inputFormat);\n\t\t\t}\n\t\t\t\n\t\t\tcellValue = newDatetime.toFormat(\"hh:mm\");\n\t\t\t\n\t\t}else{\n\t\t\tconsole.error(\"Editor Error - 'date' editor 'format' param is dependant on luxon.js\");\n\t\t}\n\t}\n\t\n\tinput.value = cellValue;\n\t\n\tonRendered(function(){\n\t\tif(cell._getSelf){\n\t\t\tinput.focus({preventScroll: true});\n\t\t\tinput.style.height = \"100%\";\n\t\t\t\n\t\t\tif(editorParams.selectContents){\n\t\t\t\tinput.select();\n\t\t\t}\n\t\t}\n\t});\n\t\n\tfunction onChange(){\n\t\tvar value = input.value,\n\t\tluxTime;\n\t\t\n\t\tif(((cellValue === null || typeof cellValue === \"undefined\") && value !== \"\") || value !== cellValue){\n\t\t\t\n\t\t\tif(value && inputFormat){\n\t\t\t\tluxTime = DT.fromFormat(String(value), \"hh:mm\");\n\n\t\t\t\tswitch(inputFormat){\n\t\t\t\t\tcase true:\n\t\t\t\t\t\tvalue = luxTime;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"iso\":\n\t\t\t\t\t\tvalue = luxTime.toISO();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tvalue = luxTime.toFormat(inputFormat);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(success(value)){\n\t\t\t\tcellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n\t\t\t}\n\t\t}else{\n\t\t\tcancel();\n\t\t}\n\t}\n\t\n\t//submit new value on blur\n\tinput.addEventListener(\"blur\", function(e) {\n\t\tif (e.relatedTarget || e.rangeParent || e.explicitOriginalTarget !== input) {\n\t\t\tonChange(); // only on a \"true\" blur; not when focusing browser's date/time picker\n\t\t}\n\t});\n\t\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\t// case 9:\n\t\t\tcase 13:\n\t\t\t\tonChange();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 27:\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase 35:\n\t\t\tcase 36:\n\t\t\t\te.stopPropagation();\n\t\t\t\tbreak;\n\n\t\t\tcase 38: //up arrow\n\t\t\tcase 40: //down arrow\n\t\t\t\tif(vertNav == \"editor\"){\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t});\n\t\n\treturn input;\n}\n","import List from '../../List.js';\n\nexport default function(cell, onRendered, success, cancel, editorParams){\n\n\tthis.deprecationMsg(\"The select editor has been deprecated, please use the new list editor\");\n\n\tvar list = new List(this, cell, onRendered, success, cancel, editorParams);\n\n\treturn list.input;\n}","import List from '../../List.js';\n\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar list = new List(this, cell, onRendered, success, cancel, editorParams);\n\n\treturn list.input;\n}","import List from '../../List.js';\n\nexport default function(cell, onRendered, success, cancel, editorParams){\n\n\tthis.deprecationMsg(\"The autocomplete editor has been deprecated, please use the new list editor with the 'autocomplete' editorParam\");\n\n\teditorParams.autocomplete = true;\n\n\tvar list = new List(this, cell, onRendered, success, cancel, editorParams);\n\n\treturn list.input;\n}","//star rating\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar self = this,\n\telement = cell.getElement(),\n\tvalue = cell.getValue(),\n\tmaxStars = element.getElementsByTagName(\"svg\").length || 5,\n\tsize = element.getElementsByTagName(\"svg\")[0] ? element.getElementsByTagName(\"svg\")[0].getAttribute(\"width\") : 14,\n\tstars = [],\n\tstarsHolder = document.createElement(\"div\"),\n\tstar = document.createElementNS('http://www.w3.org/2000/svg', \"svg\");\n\n\n\t//change star type\n\tfunction starChange(val){\n\t\tstars.forEach(function(star, i){\n\t\t\tif(i < val){\n\t\t\t\tif(self.table.browser == \"ie\"){\n\t\t\t\t\tstar.setAttribute(\"class\", \"tabulator-star-active\");\n\t\t\t\t}else{\n\t\t\t\t\tstar.classList.replace(\"tabulator-star-inactive\", \"tabulator-star-active\");\n\t\t\t\t}\n\n\t\t\t\tstar.innerHTML = '<polygon fill=\"#488CE9\" stroke=\"#014AAE\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>';\n\t\t\t}else{\n\t\t\t\tif(self.table.browser == \"ie\"){\n\t\t\t\t\tstar.setAttribute(\"class\", \"tabulator-star-inactive\");\n\t\t\t\t}else{\n\t\t\t\t\tstar.classList.replace(\"tabulator-star-active\", \"tabulator-star-inactive\");\n\t\t\t\t}\n\n\t\t\t\tstar.innerHTML = '<polygon fill=\"#010155\" stroke=\"#686868\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>';\n\t\t\t}\n\t\t});\n\t}\n\n\t//build stars\n\tfunction buildStar(i){\n\n\t\tvar starHolder =  document.createElement(\"span\");\n\t\tvar nextStar = star.cloneNode(true);\n\n\t\tstars.push(nextStar);\n\n\t\tstarHolder.addEventListener(\"mouseenter\", function(e){\n\t\t\te.stopPropagation();\n\t\t\te.stopImmediatePropagation();\n\t\t\tstarChange(i);\n\t\t});\n\n\t\tstarHolder.addEventListener(\"mousemove\", function(e){\n\t\t\te.stopPropagation();\n\t\t\te.stopImmediatePropagation();\n\t\t});\n\n\t\tstarHolder.addEventListener(\"click\", function(e){\n\t\t\te.stopPropagation();\n\t\t\te.stopImmediatePropagation();\n\t\t\tsuccess(i);\n\t\t\telement.blur();\n\t\t});\n\n\t\tstarHolder.appendChild(nextStar);\n\t\tstarsHolder.appendChild(starHolder);\n\n\t}\n\n\t//handle keyboard navigation value change\n\tfunction changeValue(val){\n\t\tvalue = val;\n\t\tstarChange(val);\n\t}\n\n\t//style cell\n\telement.style.whiteSpace = \"nowrap\";\n\telement.style.overflow = \"hidden\";\n\telement.style.textOverflow = \"ellipsis\";\n\n\t//style holding element\n\tstarsHolder.style.verticalAlign = \"middle\";\n\tstarsHolder.style.display = \"inline-block\";\n\tstarsHolder.style.padding = \"4px\";\n\n\t//style star\n\tstar.setAttribute(\"width\", size);\n\tstar.setAttribute(\"height\", size);\n\tstar.setAttribute(\"viewBox\", \"0 0 512 512\");\n\tstar.setAttribute(\"xml:space\", \"preserve\");\n\tstar.style.padding = \"0 1px\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tstarsHolder.setAttribute(key, starsHolder.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tstarsHolder.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\t//create correct number of stars\n\tfor(var i=1;i<= maxStars;i++){\n\t\tbuildStar(i);\n\t}\n\n\t//ensure value does not exceed number of stars\n\tvalue = Math.min(parseInt(value), maxStars);\n\n\t// set initial styling of stars\n\tstarChange(value);\n\n\tstarsHolder.addEventListener(\"mousemove\", function(e){\n\t\tstarChange(0);\n\t});\n\n\tstarsHolder.addEventListener(\"click\", function(e){\n\t\tsuccess(0);\n\t});\n\n\telement.addEventListener(\"blur\", function(e){\n\t\tcancel();\n\t});\n\n\t//allow key based navigation\n\telement.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 39: //right arrow\n\t\t\t\tchangeValue(value + 1);\n\t\t\t\tbreak;\n\n\t\t\tcase 37: //left arrow\n\t\t\t\tchangeValue(value - 1);\n\t\t\t\tbreak;\n\n\t\t\tcase 13: //enter\n\t\t\t\tsuccess(value);\n\t\t\t\tbreak;\n\n\t\t\tcase 27: //escape\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\t\t}\n\t});\n\n\treturn starsHolder;\n}","//draggable progress bar\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar element = cell.getElement(),\n\tmax = typeof editorParams.max === \"undefined\" ? ((element.getElementsByTagName(\"div\")[0] && element.getElementsByTagName(\"div\")[0].getAttribute(\"max\")) || 100) : editorParams.max,\n\tmin = typeof editorParams.min === \"undefined\" ? ((element.getElementsByTagName(\"div\")[0] && element.getElementsByTagName(\"div\")[0].getAttribute(\"min\")) || 0) : editorParams.min,\n\tpercent = (max - min) / 100,\n\tvalue = cell.getValue() || 0,\n\thandle = document.createElement(\"div\"),\n\tbar = document.createElement(\"div\"),\n\tmouseDrag, mouseDragWidth;\n\n\t//set new value\n\tfunction updateValue(){\n\t\tvar style = window.getComputedStyle(element, null);\n\n\t\tvar calcVal = (percent * Math.round(bar.offsetWidth / ((element.clientWidth - parseInt(style.getPropertyValue(\"padding-left\")) - parseInt(style.getPropertyValue(\"padding-right\")))/100))) + min;\n\t\tsuccess(calcVal);\n\t\telement.setAttribute(\"aria-valuenow\", calcVal);\n\t\telement.setAttribute(\"aria-label\", value);\n\t}\n\n\t//style handle\n\thandle.style.position = \"absolute\";\n\thandle.style.right = \"0\";\n\thandle.style.top = \"0\";\n\thandle.style.bottom = \"0\";\n\thandle.style.width = \"5px\";\n\thandle.classList.add(\"tabulator-progress-handle\");\n\n\t//style bar\n\tbar.style.display = \"inline-block\";\n\tbar.style.position = \"relative\";\n\t// bar.style.top = \"8px\";\n\t// bar.style.bottom = \"8px\";\n\t// bar.style.left = \"4px\";\n\t// bar.style.marginRight = \"4px\";\n\tbar.style.height = \"100%\";\n\tbar.style.backgroundColor = \"#488CE9\";\n\tbar.style.maxWidth = \"100%\";\n\tbar.style.minWidth = \"0%\";\n\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tbar.setAttribute(key, bar.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tbar.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\n\t//style cell\n\telement.style.padding = \"4px 4px\";\n\n\t//make sure value is in range\n\tvalue = Math.min(parseFloat(value), max);\n\tvalue = Math.max(parseFloat(value), min);\n\n\t//workout percentage\n\tvalue = Math.round((value - min) / percent);\n\t// bar.style.right = value + \"%\";\n\tbar.style.width = value + \"%\";\n\n\telement.setAttribute(\"aria-valuemin\", min);\n\telement.setAttribute(\"aria-valuemax\", max);\n\n\tbar.appendChild(handle);\n\n\thandle.addEventListener(\"mousedown\", function(e){\n\t\tmouseDrag = e.screenX;\n\t\tmouseDragWidth = bar.offsetWidth;\n\t});\n\n\thandle.addEventListener(\"mouseover\", function(){\n\t\thandle.style.cursor = \"ew-resize\";\n\t});\n\n\telement.addEventListener(\"mousemove\", function(e){\n\t\tif(mouseDrag){\n\t\t\tbar.style.width = (mouseDragWidth + e.screenX - mouseDrag) + \"px\";\n\t\t}\n\t});\n\n\telement.addEventListener(\"mouseup\", function(e){\n\t\tif(mouseDrag){\n\t\t\te.stopPropagation();\n\t\t\te.stopImmediatePropagation();\n\n\t\t\tmouseDrag = false;\n\t\t\tmouseDragWidth = false;\n\n\t\t\tupdateValue();\n\t\t}\n\t});\n\n\t//allow key based navigation\n\telement.addEventListener(\"keydown\", function(e){\n\t\tswitch(e.keyCode){\n\t\t\tcase 39: //right arrow\n\t\t\t\te.preventDefault();\n\t\t\t\tbar.style.width = (bar.clientWidth + element.clientWidth/100) + \"px\";\n\t\t\t\tbreak;\n\n\t\t\tcase 37: //left arrow\n\t\t\t\te.preventDefault();\n\t\t\t\tbar.style.width = (bar.clientWidth - element.clientWidth/100) + \"px\";\n\t\t\t\tbreak;\n\n\t\t\tcase 9: //tab\n\t\t\tcase 13: //enter\n\t\t\t\tupdateValue();\n\t\t\t\tbreak;\n\n\t\t\tcase 27: //escape\n\t\t\t\tcancel();\n\t\t\t\tbreak;\n\n\t\t}\n\t});\n\n\telement.addEventListener(\"blur\", function(){\n\t\tcancel();\n\t});\n\n\treturn bar;\n}","//checkbox\nexport default function(cell, onRendered, success, cancel, editorParams){\n\tvar value = cell.getValue(),\n\tinput = document.createElement(\"input\"),\n\ttristate = editorParams.tristate,\n\tindetermValue = typeof editorParams.indeterminateValue === \"undefined\" ? null : editorParams.indeterminateValue,\n\tindetermState = false,\n\ttrueValueSet = Object.keys(editorParams).includes(\"trueValue\"),\n\tfalseValueSet = Object.keys(editorParams).includes(\"falseValue\");\n\t\n\tinput.setAttribute(\"type\", \"checkbox\");\n\tinput.style.marginTop = \"5px\";\n\tinput.style.boxSizing = \"border-box\";\n\t\n\tif(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n\t\tfor (let key in editorParams.elementAttributes){\n\t\t\tif(key.charAt(0) == \"+\"){\n\t\t\t\tkey = key.slice(1);\n\t\t\t\tinput.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n\t\t\t}else{\n\t\t\t\tinput.setAttribute(key, editorParams.elementAttributes[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tinput.value = value;\n\t\n\tif(tristate && (typeof value === \"undefined\" || value === indetermValue || value === \"\")){\n\t\tindetermState = true;\n\t\tinput.indeterminate = true;\n\t}\n\t\n\tif(this.table.browser != \"firefox\" && this.table.browser != \"safari\"){ //prevent blur issue on mac firefox\n\t\tonRendered(function(){\n\t\t\tif(cell._getSelf){\n\t\t\t\tinput.focus({preventScroll: true});\n\t\t\t}\n\t\t});\n\t}\n\t\n\tinput.checked = trueValueSet ? value === editorParams.trueValue : (value === true || value === \"true\" || value === \"True\" || value === 1);\n\t\n\tfunction setValue(blur){\n\t\tvar checkedValue = input.checked;\n\t\t\n\t\tif(trueValueSet && checkedValue){\n\t\t\tcheckedValue = editorParams.trueValue;\n\t\t}else if(falseValueSet && !checkedValue){\n\t\t\tcheckedValue = editorParams.falseValue;\n\t\t}\n\t\t\n\t\tif(tristate){\n\t\t\tif(!blur){\n\t\t\t\tif(input.checked && !indetermState){\n\t\t\t\t\tinput.checked = false;\n\t\t\t\t\tinput.indeterminate = true;\n\t\t\t\t\tindetermState = true;\n\t\t\t\t\treturn indetermValue;\n\t\t\t\t}else{\n\t\t\t\t\tindetermState = false;\n\t\t\t\t\treturn checkedValue;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(indetermState){\n\t\t\t\t\treturn indetermValue;\n\t\t\t\t}else{\n\t\t\t\t\treturn checkedValue;\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\treturn checkedValue;\n\t\t}\n\t}\n\t\n\t//submit new value on blur\n\tinput.addEventListener(\"change\", function(e){\n\t\tsuccess(setValue());\n\t});\n\n\tinput.addEventListener(\"blur\", function(e){\n\t\tsuccess(setValue(true));\n\t});\n\t\n\t//submit new value on enter\n\tinput.addEventListener(\"keydown\", function(e){\n\t\tif(e.keyCode == 13){\n\t\t\tsuccess(setValue());\n\t\t}\n\t\tif(e.keyCode == 27){\n\t\t\tcancel();\n\t\t}\n\t});\n\t\n\treturn input;\n}","import Module from '../../core/Module.js';\nimport Helpers from '../../core/tools/Helpers.js';\n\nimport defaultEditors from './defaults/editors.js';\n\nclass Edit extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.currentCell = false; //hold currently editing cell\n\t\tthis.mouseClick = false; //hold mousedown state to prevent click binding being overridden by editor opening\n\t\tthis.recursionBlock = false; //prevent focus recursion\n\t\tthis.invalidEdit = false;\n\t\tthis.editedCells = [];\n\t\t\n\t\tthis.editors = Edit.editors;\n\t\t\n\t\tthis.registerColumnOption(\"editable\");\n\t\tthis.registerColumnOption(\"editor\");\n\t\tthis.registerColumnOption(\"editorParams\");\n\t\t\n\t\tthis.registerColumnOption(\"cellEditing\");\n\t\tthis.registerColumnOption(\"cellEdited\");\n\t\tthis.registerColumnOption(\"cellEditCancelled\");\n\t\t\n\t\tthis.registerTableFunction(\"getEditedCells\", this.getEditedCells.bind(this));\n\t\tthis.registerTableFunction(\"clearCellEdited\", this.clearCellEdited.bind(this));\n\t\tthis.registerTableFunction(\"navigatePrev\", this.navigatePrev.bind(this));\n\t\tthis.registerTableFunction(\"navigateNext\", this.navigateNext.bind(this));\n\t\tthis.registerTableFunction(\"navigateLeft\", this.navigateLeft.bind(this));\n\t\tthis.registerTableFunction(\"navigateRight\", this.navigateRight.bind(this));\n\t\tthis.registerTableFunction(\"navigateUp\", this.navigateUp.bind(this));\n\t\tthis.registerTableFunction(\"navigateDown\", this.navigateDown.bind(this));\n\t\t\n\t\tthis.registerComponentFunction(\"cell\", \"isEdited\", this.cellIsEdited.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"clearEdited\", this.clearEdited.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"edit\", this.editCell.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"cancelEdit\", this.cellCancelEdit.bind(this));\n\t\t\n\t\tthis.registerComponentFunction(\"cell\", \"navigatePrev\", this.navigatePrev.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateNext\", this.navigateNext.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateLeft\", this.navigateLeft.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateRight\", this.navigateRight.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateUp\", this.navigateUp.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"navigateDown\", this.navigateDown.bind(this));\n\t}\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"cell-init\", this.bindEditor.bind(this));\n\t\tthis.subscribe(\"cell-delete\", this.clearEdited.bind(this));\n\t\tthis.subscribe(\"cell-value-changed\", this.updateCellClass.bind(this));\n\t\tthis.subscribe(\"column-layout\", this.initializeColumnCheck.bind(this));\n\t\tthis.subscribe(\"column-delete\", this.columnDeleteCheck.bind(this));\n\t\tthis.subscribe(\"row-deleting\", this.rowDeleteCheck.bind(this));\n\t\tthis.subscribe(\"row-layout\", this.rowEditableCheck.bind(this));\n\t\tthis.subscribe(\"data-refreshing\", this.cancelEdit.bind(this));\n\t\t\n\t\tthis.subscribe(\"keybinding-nav-prev\", this.navigatePrev.bind(this, undefined));\n\t\tthis.subscribe(\"keybinding-nav-next\", this.keybindingNavigateNext.bind(this));\n\t\tthis.subscribe(\"keybinding-nav-left\", this.navigateLeft.bind(this, undefined));\n\t\tthis.subscribe(\"keybinding-nav-right\", this.navigateRight.bind(this, undefined));\n\t\tthis.subscribe(\"keybinding-nav-up\", this.navigateUp.bind(this, undefined));\n\t\tthis.subscribe(\"keybinding-nav-down\", this.navigateDown.bind(this, undefined));\n\t}\n\t\n\t\n\t///////////////////////////////////\n\t////// Keybinding Functions ///////\n\t///////////////////////////////////\n\t\n\tkeybindingNavigateNext(e){\n\t\tvar cell = this.currentCell,\n\t\tnewRow = this.options(\"tabEndNewRow\");\n\t\t\n\t\tif(cell){\n\t\t\tif(!this.navigateNext(cell, e)){\n\t\t\t\tif(newRow){\n\t\t\t\t\tcell.getElement().firstChild.blur();\n\t\t\t\t\t\n\t\t\t\t\tif(newRow === true){\n\t\t\t\t\t\tnewRow = this.table.addRow({});\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(typeof newRow == \"function\"){\n\t\t\t\t\t\t\tnewRow = this.table.addRow(newRow(cell.row.getComponent()));\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tnewRow = this.table.addRow(Object.assign({}, newRow));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tnewRow.then(() => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tcell.getComponent().navigateNext();\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Cell Functions //////////\n\t///////////////////////////////////\n\t\n\tcellIsEdited(cell){\n\t\treturn !! cell.modules.edit && cell.modules.edit.edited;\n\t}\n\t\n\tcellCancelEdit(cell){\n\t\tif(cell === this.currentCell){\n\t\t\tthis.table.modules.edit.cancelEdit();\n\t\t}else{\n\t\t\tconsole.warn(\"Cancel Editor Error - This cell is not currently being edited \");\n\t\t}\n\t}\n\t\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\tupdateCellClass(cell){\n\t\tif(this.allowEdit(cell)) {\n\t\t\tcell.getElement().classList.add(\"tabulator-editable\");\n\t\t}\n\t\telse {\n\t\t\tcell.getElement().classList.remove(\"tabulator-editable\");\n\t\t}\n\t}\n\t\n\tclearCellEdited(cells){\n\t\tif(!cells){\n\t\t\tcells = this.table.modules.edit.getEditedCells();\n\t\t}\n\t\t\n\t\tif(!Array.isArray(cells)){\n\t\t\tcells = [cells];\n\t\t}\n\t\t\n\t\tcells.forEach((cell) => {\n\t\t\tthis.table.modules.edit.clearEdited(cell._getSelf());\n\t\t});\n\t}\n\t\n\tnavigatePrev(cell = this.currentCell, e){\n\t\tvar nextCell, prevRow;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tnextCell = this.navigateLeft();\n\t\t\t\n\t\t\tif(nextCell){\n\t\t\t\treturn true;\n\t\t\t}else{\n\t\t\t\tprevRow = this.table.rowManager.prevDisplayRow(cell.row, true);\n\t\t\t\t\n\t\t\t\tif(prevRow){\n\t\t\t\t\tnextCell = this.findPrevEditableCell(prevRow, prevRow.cells.length);\n\t\t\t\t\t\n\t\t\t\t\tif(nextCell){\n\t\t\t\t\t\tnextCell.getComponent().edit();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tnavigateNext(cell = this.currentCell, e){\n\t\tvar nextCell, nextRow;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tnextCell = this.navigateRight();\n\t\t\t\n\t\t\tif(nextCell){\n\t\t\t\treturn true;\n\t\t\t}else{\n\t\t\t\tnextRow = this.table.rowManager.nextDisplayRow(cell.row, true);\n\t\t\t\t\n\t\t\t\tif(nextRow){\n\t\t\t\t\tnextCell = this.findNextEditableCell(nextRow, -1);\n\t\t\t\t\t\n\t\t\t\t\tif(nextCell){\n\t\t\t\t\t\tnextCell.getComponent().edit();\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tnavigateLeft(cell = this.currentCell, e){\n\t\tvar index, nextCell;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tindex = cell.getIndex();\n\t\t\tnextCell = this.findPrevEditableCell(cell.row, index);\n\t\t\t\n\t\t\tif(nextCell){\n\t\t\t\tnextCell.getComponent().edit();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tnavigateRight(cell = this.currentCell, e){\n\t\tvar index, nextCell;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tindex = cell.getIndex();\n\t\t\tnextCell = this.findNextEditableCell(cell.row, index);\n\t\t\t\n\t\t\tif(nextCell){\n\t\t\t\tnextCell.getComponent().edit();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tnavigateUp(cell = this.currentCell, e){\n\t\tvar index, nextRow;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tindex = cell.getIndex();\n\t\t\tnextRow = this.table.rowManager.prevDisplayRow(cell.row, true);\n\t\t\t\n\t\t\tif(nextRow){\n\t\t\t\tnextRow.cells[index].getComponent().edit();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tnavigateDown(cell = this.currentCell, e){\n\t\tvar index, nextRow;\n\t\t\n\t\tif(cell){\n\t\t\t\n\t\t\tif(e){\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\t\n\t\t\tindex = cell.getIndex();\n\t\t\tnextRow = this.table.rowManager.nextDisplayRow(cell.row, true);\n\t\t\t\n\t\t\tif(nextRow){\n\t\t\t\tnextRow.cells[index].getComponent().edit();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tfindNextEditableCell(row, index){\n\t\tvar nextCell = false;\n\t\t\n\t\tif(index < row.cells.length-1){\n\t\t\tfor(var i = index+1; i < row.cells.length; i++){\n\t\t\t\tlet cell = row.cells[i];\n\t\t\t\t\n\t\t\t\tif(cell.column.modules.edit && Helpers.elVisible(cell.getElement())){\n\t\t\t\t\tlet allowEdit = this.allowEdit(cell);\n\t\t\t\t\t\n\t\t\t\t\tif(allowEdit){\n\t\t\t\t\t\tnextCell = cell;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn nextCell;\n\t}\n\t\n\tfindPrevEditableCell(row, index){\n\t\tvar prevCell = false;\n\t\t\n\t\tif(index > 0){\n\t\t\tfor(var i = index-1; i >= 0; i--){\n\t\t\t\tlet cell = row.cells[i];\n\t\t\t\t\n\t\t\t\tif(cell.column.modules.edit && Helpers.elVisible(cell.getElement())){\n\t\t\t\t\tlet allowEdit = this.allowEdit(cell);\n\t\t\t\t\t\n\t\t\t\t\tif(allowEdit){\n\t\t\t\t\t\tprevCell = cell;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn prevCell;\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\tinitializeColumnCheck(column){\n\t\tif(typeof column.definition.editor !== \"undefined\"){\n\t\t\tthis.initializeColumn(column);\n\t\t}\n\t}\n\t\n\tcolumnDeleteCheck(column){\n\t\tif(this.currentCell && this.currentCell.column === column){\n\t\t\tthis.cancelEdit();\n\t\t}\n\t}\n\t\n\trowDeleteCheck(row){\n\t\tif(this.currentCell && this.currentCell.row === row){\n\t\t\tthis.cancelEdit();\n\t\t}\n\t}\n\n\trowEditableCheck(row){\n\t\trow.getCells().forEach((cell) => {\n\t\t\tif(cell.column.modules.edit && typeof cell.column.modules.edit.check === \"function\"){\n\t\t\t\tthis.updateCellClass(cell);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//initialize column editor\n\tinitializeColumn(column){\n\t\tvar config = {\n\t\t\teditor:false,\n\t\t\tblocked:false,\n\t\t\tcheck:column.definition.editable,\n\t\t\tparams:column.definition.editorParams || {}\n\t\t};\n\t\t\n\t\t//set column editor\n\t\tswitch(typeof column.definition.editor){\n\t\t\tcase \"string\":\n\t\t\t\tif(this.editors[column.definition.editor]){\n\t\t\t\t\tconfig.editor = this.editors[column.definition.editor];\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Editor Error - No such editor found: \", column.definition.editor);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"function\":\n\t\t\t\tconfig.editor = column.definition.editor;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"boolean\":\n\t\t\t\tif(column.definition.editor === true){\n\t\t\t\t\tif(typeof column.definition.formatter !== \"function\"){\n\t\t\t\t\t\tif(this.editors[column.definition.formatter]){\n\t\t\t\t\t\t\tconfig.editor = this.editors[column.definition.formatter];\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tconfig.editor = this.editors[\"input\"];\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.warn(\"Editor Error - Cannot auto lookup editor for a custom formatter: \", column.definition.formatter);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\tif(config.editor){\n\t\t\tcolumn.modules.edit = config;\n\t\t}\n\t}\n\t\n\tgetCurrentCell(){\n\t\treturn this.currentCell ? this.currentCell.getComponent() : false;\n\t}\n\t\n\tclearEditor(cancel){\n\t\tvar cell = this.currentCell,\n\t\tcellEl;\n\t\t\n\t\tthis.invalidEdit = false;\n\t\t\n\t\tif(cell){\n\t\t\tthis.currentCell = false;\n\t\t\t\n\t\t\tcellEl = cell.getElement();\n\t\t\t\n\t\t\tthis.dispatch(\"edit-editor-clear\", cell, cancel);\n\t\t\t\n\t\t\tcellEl.classList.remove(\"tabulator-editing\");\n\t\t\t\n\t\t\twhile(cellEl.firstChild) cellEl.removeChild(cellEl.firstChild);\n\t\t\t\n\t\t\tcell.row.getElement().classList.remove(\"tabulator-editing\");\n\t\t\t\n\t\t\tcell.table.element.classList.remove(\"tabulator-editing\");\n\t\t}\n\t}\n\t\n\tcancelEdit(){\n\t\tif(this.currentCell){\n\t\t\tvar cell = this.currentCell;\n\t\t\tvar component = this.currentCell.getComponent();\n\t\t\t\n\t\t\tthis.clearEditor(true);\n\t\t\tcell.setValueActual(cell.getValue());\n\t\t\tcell.cellRendered();\n\t\t\t\n\t\t\tif(cell.column.definition.editor == \"textarea\" || cell.column.definition.variableHeight){\n\t\t\t\tcell.row.normalizeHeight(true);\n\t\t\t}\n\t\t\t\n\t\t\tif(cell.column.definition.cellEditCancelled){\n\t\t\t\tcell.column.definition.cellEditCancelled.call(this.table, component);\n\t\t\t}\n\t\t\t\n\t\t\tthis.dispatch(\"edit-cancelled\", cell);\n\t\t\tthis.dispatchExternal(\"cellEditCancelled\", component);\n\t\t}\n\t}\n\t\n\t//return a formatted value for a cell\n\tbindEditor(cell){\n\t\tif(cell.column.modules.edit){\n\t\t\tvar self = this,\n\t\t\telement = cell.getElement(true);\n\t\t\t\n\t\t\tthis.updateCellClass(cell);\n\t\t\telement.setAttribute(\"tabindex\", 0);\n\t\t\t\n\t\t\telement.addEventListener(\"click\", function(e){\n\t\t\t\tif(!element.classList.contains(\"tabulator-editing\")){\n\t\t\t\t\telement.focus({preventScroll: true});\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\telement.addEventListener(\"mousedown\", function(e){\n\t\t\t\tif (e.button === 2) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}else{\n\t\t\t\t\tself.mouseClick = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\telement.addEventListener(\"focus\", function(e){\n\t\t\t\tif(!self.recursionBlock){\n\t\t\t\t\tself.edit(cell, e, false);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\t\n\tfocusCellNoEvent(cell, block){\n\t\tthis.recursionBlock = true;\n\t\t\n\t\tif(!(block && this.table.browser === \"ie\")){\n\t\t\tcell.getElement().focus({preventScroll: true});\n\t\t}\n\t\t\n\t\tthis.recursionBlock = false;\n\t}\n\t\n\teditCell(cell, forceEdit){\n\t\tthis.focusCellNoEvent(cell);\n\t\tthis.edit(cell, false, forceEdit);\n\t}\n\t\n\tfocusScrollAdjust(cell){\n\t\tif(this.table.rowManager.getRenderMode() == \"virtual\"){\n\t\t\tvar topEdge = this.table.rowManager.element.scrollTop,\n\t\t\tbottomEdge = this.table.rowManager.element.clientHeight + this.table.rowManager.element.scrollTop,\n\t\t\trowEl = cell.row.getElement();\n\t\t\t\n\t\t\tif(rowEl.offsetTop < topEdge){\n\t\t\t\tthis.table.rowManager.element.scrollTop -= (topEdge - rowEl.offsetTop);\n\t\t\t}else{\n\t\t\t\tif(rowEl.offsetTop + rowEl.offsetHeight  > bottomEdge){\n\t\t\t\t\tthis.table.rowManager.element.scrollTop += (rowEl.offsetTop + rowEl.offsetHeight - bottomEdge);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tvar leftEdge = this.table.rowManager.element.scrollLeft,\n\t\t\trightEdge = this.table.rowManager.element.clientWidth + this.table.rowManager.element.scrollLeft,\n\t\t\tcellEl = cell.getElement();\n\t\t\t\n\t\t\tif(this.table.modExists(\"frozenColumns\")){\n\t\t\t\tleftEdge += parseInt(this.table.modules.frozenColumns.leftMargin);\n\t\t\t\trightEdge -= parseInt(this.table.modules.frozenColumns.rightMargin);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.options.renderHorizontal === \"virtual\"){\n\t\t\t\tleftEdge -= parseInt(this.table.columnManager.renderer.vDomPadLeft);\n\t\t\t\trightEdge -= parseInt(this.table.columnManager.renderer.vDomPadLeft);\n\t\t\t}\n\t\t\t\n\t\t\tif(cellEl.offsetLeft < leftEdge){\n\t\t\t\t\n\t\t\t\tthis.table.rowManager.element.scrollLeft -= (leftEdge - cellEl.offsetLeft);\n\t\t\t}else{\n\t\t\t\tif(cellEl.offsetLeft + cellEl.offsetWidth  > rightEdge){\n\t\t\t\t\tthis.table.rowManager.element.scrollLeft += (cellEl.offsetLeft + cellEl.offsetWidth - rightEdge);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tallowEdit(cell) {\n\t\tvar check = cell.column.modules.edit ? true : false;\n\n\t\tif(cell.column.modules.edit){\n\t\t\tswitch(typeof cell.column.modules.edit.check){\n\t\t\t\tcase \"function\":\n\t\t\t\t\tif(cell.row.initialized){\n\t\t\t\t\t\tcheck = cell.column.modules.edit.check(cell.getComponent());\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"string\":\n\t\t\t\t\tcheck = !!cell.row.data[cell.column.modules.edit.check];\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"boolean\":\n\t\t\t\t\tcheck = cell.column.modules.edit.check;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn check;\n\t}\n\t\n\tedit(cell, e, forceEdit){\n\t\tvar self = this,\n\t\tallowEdit = true,\n\t\trendered = function(){},\n\t\telement = cell.getElement(),\n\t\tcellEditor, component, params;\n\t\t\n\t\t//prevent editing if another cell is refusing to leave focus (eg. validation fail)\n\n\t\tif(this.currentCell){\n\t\t\tif(!this.invalidEdit && this.currentCell !== cell){\n\t\t\t\tthis.cancelEdit();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t//handle successful value change\n\t\tfunction success(value){\n\t\t\tif(self.currentCell === cell){\n\t\t\t\tvar valid = self.chain(\"edit-success\", [cell, value], true, true);\n\t\t\t\t\n\t\t\t\tif(valid === true || self.table.options.validationMode === \"highlight\"){\n\t\t\t\t\tself.clearEditor();\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\tif(!cell.modules.edit){\n\t\t\t\t\t\tcell.modules.edit = {};\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tcell.modules.edit.edited = true;\n\t\t\t\t\t\n\t\t\t\t\tif(self.editedCells.indexOf(cell) == -1){\n\t\t\t\t\t\tself.editedCells.push(cell);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tcell.setValue(value, true);\n\t\t\t\t\t\n\t\t\t\t\treturn valid === true;\n\t\t\t\t}else{\n\t\t\t\t\tself.invalidEdit = true;\n\t\t\t\t\tself.focusCellNoEvent(cell, true);\n\t\t\t\t\trendered();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\t// console.warn(\"Edit Success Error - cannot call success on a cell that is no longer being edited\");\n\t\t\t}\n\t\t}\n\t\t\n\t\t//handle aborted edit\n\t\tfunction cancel(){\n\t\t\tif(self.currentCell === cell){\n\t\t\t\tself.cancelEdit();\n\t\t\t}else{\n\t\t\t\t// console.warn(\"Edit Success Error - cannot call cancel on a cell that is no longer being edited\");\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction onRendered(callback){\n\t\t\trendered = callback;\n\t\t}\n\t\t\n\t\tif(!cell.column.modules.edit.blocked){\n\t\t\tif(e){\n\t\t\t\te.stopPropagation();\n\t\t\t}\n\t\t\t\n\t\t\tallowEdit = this.allowEdit(cell);\n\t\t\t\n\t\t\tif(allowEdit || forceEdit){\n\t\t\t\t\n\t\t\t\tself.cancelEdit();\n\t\t\t\t\n\t\t\t\tself.currentCell = cell;\n\t\t\t\t\n\t\t\t\tthis.focusScrollAdjust(cell);\n\t\t\t\t\n\t\t\t\tcomponent = cell.getComponent();\n\t\t\t\t\n\t\t\t\tif(this.mouseClick){\n\t\t\t\t\tthis.mouseClick = false;\n\t\t\t\t\t\n\t\t\t\t\tif(cell.column.definition.cellClick){\n\t\t\t\t\t\tcell.column.definition.cellClick.call(this.table, e, component);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(cell.column.definition.cellEditing){\n\t\t\t\t\tcell.column.definition.cellEditing.call(this.table, component);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.dispatch(\"cell-editing\", cell);\n\t\t\t\tthis.dispatchExternal(\"cellEditing\", component);\n\t\t\t\t\n\t\t\t\tparams = typeof cell.column.modules.edit.params === \"function\" ? cell.column.modules.edit.params(component) : cell.column.modules.edit.params;\n\t\t\t\t\n\t\t\t\tcellEditor = cell.column.modules.edit.editor.call(self, component, onRendered, success, cancel, params);\n\t\t\t\t\n\t\t\t\t//if editor returned, add to DOM, if false, abort edit\n\t\t\t\tif(this.currentCell && cellEditor !== false){\n\t\t\t\t\tif(cellEditor instanceof Node){\n\t\t\t\t\t\telement.classList.add(\"tabulator-editing\");\n\t\t\t\t\t\tcell.row.getElement().classList.add(\"tabulator-editing\");\n\t\t\t\t\t\tcell.table.element.classList.add(\"tabulator-editing\");\n\t\t\t\t\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\t\t\t\t\t\telement.appendChild(cellEditor);\n\t\t\t\t\t\t\n\t\t\t\t\t\t//trigger onRendered Callback\n\t\t\t\t\t\trendered();\n\t\t\t\t\t\t\n\t\t\t\t\t\t//prevent editing from triggering rowClick event\n\t\t\t\t\t\tvar children = element.children;\n\t\t\t\t\t\t\n\t\t\t\t\t\tfor (var i = 0; i < children.length; i++) {\n\t\t\t\t\t\t\tchildren[i].addEventListener(\"click\", function(e){\n\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.warn(\"Edit Error - Editor should return an instance of Node, the editor returned:\", cellEditor);\n\t\t\t\t\t\telement.blur();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\telement.blur();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn true;\n\t\t\t}else{\n\t\t\t\tthis.mouseClick = false;\n\t\t\t\telement.blur();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else{\n\t\t\tthis.mouseClick = false;\n\t\t\telement.blur();\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\tgetEditedCells(){\n\t\tvar output = [];\n\t\t\n\t\tthis.editedCells.forEach((cell) => {\n\t\t\toutput.push(cell.getComponent());\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tclearEdited(cell){\n\t\tvar editIndex;\n\t\t\n\t\tif(cell.modules.edit && cell.modules.edit.edited){\n\t\t\tcell.modules.edit.edited = false;\n\t\t\t\n\t\t\tthis.dispatch(\"edit-edited-clear\", cell);\n\t\t}\n\t\t\n\t\teditIndex = this.editedCells.indexOf(cell);\n\t\t\n\t\tif(editIndex > -1){\n\t\t\tthis.editedCells.splice(editIndex, 1);\n\t\t}\n\t}\n}\n\nEdit.moduleName = \"edit\";\n\n//load defaults\nEdit.editors = defaultEditors;\n\n\nexport default Edit;\n","class ExportRow{\n\tconstructor(type, columns, component, indent){\n\t\tthis.type = type;\n\t\tthis.columns = columns;\n\t\tthis.component = component || false;\n\t\tthis.indent = indent || 0;\n\t}\n}\n\nexport default ExportRow;","class ExportColumn{\n\tconstructor(value, component, width, height, depth){\n\t\tthis.value = value;\n\t\tthis.component = component || false;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.depth = depth;\n\t}\n}\n\nexport default ExportColumn;","import Module from '../../core/Module.js';\n\nimport ExportRow from './ExportRow.js';\nimport ExportColumn from './ExportColumn.js';\n\nclass Export extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.config = {};\n\t\tthis.cloneTableStyle = true;\n\t\tthis.colVisProp = \"\";\n\t\t\n\t\tthis.registerTableOption(\"htmlOutputConfig\", false); //html output config\n\t\t\n\t\tthis.registerColumnOption(\"htmlOutput\");\n\t\tthis.registerColumnOption(\"titleHtmlOutput\");\n\t}\n\t\n\tinitialize(){\n\t\tthis.registerTableFunction(\"getHtml\", this.getHtml.bind(this));\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\t\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\tgenerateExportList(config, style, range, colVisProp){\n\t\tthis.cloneTableStyle = style;\n\t\tthis.config = config || {};\n\t\tthis.colVisProp = colVisProp;\n\t\t\n\t\tvar headers = this.config.columnHeaders !== false ? this.headersToExportRows(this.generateColumnGroupHeaders()) : [];\n\t\tvar body = this.bodyToExportRows(this.rowLookup(range));\n\t\t\n\t\treturn headers.concat(body);\n\t}\n\t\n\tgenerateTable(config, style, range, colVisProp){\n\t\tvar list = this.generateExportList(config, style, range, colVisProp);\n\t\t\n\t\treturn this.generateTableElement(list);\n\t}\n\t\n\trowLookup(range){\n\t\tvar rows = [];\n\t\t\n\t\tif(typeof range == \"function\"){\n\t\t\trange.call(this.table).forEach((row) =>{\n\t\t\t\trow = this.table.rowManager.findRow(row);\n\t\t\t\t\n\t\t\t\tif(row){\n\t\t\t\t\trows.push(row);\n\t\t\t\t}\n\t\t\t});\n\t\t}else{\n\t\t\tswitch(range){\n\t\t\t\tcase true:\n\t\t\t\tcase \"visible\":\n\t\t\t\t\trows = this.table.rowManager.getVisibleRows(false, true);\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"all\":\n\t\t\t\t\trows = this.table.rowManager.rows;\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"selected\":\n\t\t\t\t\trows = this.table.modules.selectRow.selectedRows;\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"active\":\n\t\t\t\tdefault:\n\t\t\t\t\tif(this.table.options.pagination){\n\t\t\t\t\t\trows = this.table.rowManager.getDisplayRows(this.table.rowManager.displayRows.length - 2);\n\t\t\t\t\t}else{\n\t\t\t\t\t\trows = this.table.rowManager.getDisplayRows();\n\t\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn Object.assign([], rows);\n\t}\n\t\n\tgenerateColumnGroupHeaders(){\n\t\tvar output = [];\n\t\t\n\t\tvar columns = this.config.columnGroups !== false ? this.table.columnManager.columns : this.table.columnManager.columnsByIndex;\n\t\t\n\t\tcolumns.forEach((column) => {\n\t\t\tvar colData = this.processColumnGroup(column);\n\t\t\t\n\t\t\tif(colData){\n\t\t\t\toutput.push(colData);\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tprocessColumnGroup(column){\n\t\tvar subGroups = column.columns,\n\t\tmaxDepth = 0,\n\t\ttitle = column.definition[\"title\" + (this.colVisProp.charAt(0).toUpperCase() + this.colVisProp.slice(1))] || column.definition.title;\n\t\t\n\t\tvar groupData = {\n\t\t\ttitle:title,\n\t\t\tcolumn:column,\n\t\t\tdepth:1,\n\t\t};\n\t\t\n\t\tif(subGroups.length){\n\t\t\tgroupData.subGroups = [];\n\t\t\tgroupData.width = 0;\n\t\t\t\n\t\t\tsubGroups.forEach((subGroup) => {\n\t\t\t\tvar subGroupData = this.processColumnGroup(subGroup);\n\t\t\t\t\n\t\t\t\tif(subGroupData){\n\t\t\t\t\tgroupData.width += subGroupData.width;\n\t\t\t\t\tgroupData.subGroups.push(subGroupData);\n\t\t\t\t\t\n\t\t\t\t\tif(subGroupData.depth > maxDepth){\n\t\t\t\t\t\tmaxDepth = subGroupData.depth;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tgroupData.depth += maxDepth;\n\t\t\t\n\t\t\tif(!groupData.width){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else{\n\t\t\tif(this.columnVisCheck(column)){\n\t\t\t\tgroupData.width = 1;\n\t\t\t}else{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn groupData;\n\t}\n\t\n\tcolumnVisCheck(column){\n\t\tvar visProp = column.definition[this.colVisProp];\n\t\t\n\t\tif(typeof visProp === \"function\"){\n\t\t\tvisProp = visProp.call(this.table, column.getComponent());\n\t\t}\n\t\t\n\t\treturn visProp !== false && (column.visible || (!column.visible && visProp));\n\t}\n\t\n\theadersToExportRows(columns){\n\t\tvar headers = [],\n\t\theaderDepth = 0,\n\t\texportRows = [];\n\t\t\n\t\tfunction parseColumnGroup(column, level){\n\t\t\t\n\t\t\tvar depth = headerDepth - level;\n\t\t\t\n\t\t\tif(typeof headers[level] === \"undefined\"){\n\t\t\t\theaders[level] = [];\n\t\t\t}\n\t\t\t\n\t\t\tcolumn.height = column.subGroups ? 1 : (depth - column.depth) + 1;\n\t\t\t\n\t\t\theaders[level].push(column);\n\t\t\t\n\t\t\tif(column.height > 1){\n\t\t\t\tfor(let i = 1; i < column.height; i ++){\n\t\t\t\t\t\n\t\t\t\t\tif(typeof headers[level + i] === \"undefined\"){\n\t\t\t\t\t\theaders[level + i] = [];\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\theaders[level + i].push(false);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(column.width > 1){\n\t\t\t\tfor(let i = 1; i < column.width; i ++){\n\t\t\t\t\theaders[level].push(false);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(column.subGroups){\n\t\t\t\tcolumn.subGroups.forEach(function(subGroup){\n\t\t\t\t\tparseColumnGroup(subGroup, level+1);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t\n\t\t//calculate maximum header depth\n\t\tcolumns.forEach(function(column){\n\t\t\tif(column.depth > headerDepth){\n\t\t\t\theaderDepth = column.depth;\n\t\t\t}\n\t\t});\n\t\t\n\t\tcolumns.forEach(function(column){\n\t\t\tparseColumnGroup(column,0);\n\t\t});\n\t\t\n\t\theaders.forEach((header) => {\n\t\t\tvar columns = [];\n\t\t\t\n\t\t\theader.forEach((col) => {\n\t\t\t\tif(col){\n\t\t\t\t\tlet title = typeof col.title === \"undefined\" ? \"\" : col.title;\n\t\t\t\t\tcolumns.push(new ExportColumn(title, col.column.getComponent(), col.width, col.height, col.depth));\n\t\t\t\t}else{\n\t\t\t\t\tcolumns.push(null);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\texportRows.push(new ExportRow(\"header\", columns));\n\t\t});\n\t\t\n\t\treturn exportRows;\n\t}\n\t\n\tbodyToExportRows(rows){\n\t\t\n\t\tvar columns = [];\n\t\tvar exportRows = [];\n\t\t\n\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\tif (this.columnVisCheck(column)) {\n\t\t\t\tcolumns.push(column.getComponent());\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(this.config.columnCalcs !== false && this.table.modExists(\"columnCalcs\")){\n\t\t\tif(this.table.modules.columnCalcs.topInitialized){\n\t\t\t\trows.unshift(this.table.modules.columnCalcs.topRow);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.modules.columnCalcs.botInitialized){\n\t\t\t\trows.push(this.table.modules.columnCalcs.botRow);\n\t\t\t}\n\t\t}\n\t\t\n\t\trows = rows.filter((row) => {\n\t\t\tswitch(row.type){\n\t\t\t\tcase \"group\":\n\t\t\t\t\treturn this.config.rowGroups !== false;\n\t\t\t\t\n\t\t\t\tcase \"calc\":\n\t\t\t\t\treturn this.config.columnCalcs !== false;\n\t\t\t\t\n\t\t\t\tcase \"row\":\n\t\t\t\t\treturn !(this.table.options.dataTree && this.config.dataTree === false && row.modules.dataTree.parent);\n\t\t\t}\n\t\t\t\n\t\t\treturn true;\n\t\t});\n\t\t\n\t\trows.forEach((row, i) => {\n\t\t\tvar rowData = row.getData(this.colVisProp);\n\t\t\tvar exportCols = [];\n\t\t\tvar indent = 0;\n\t\t\t\n\t\t\tswitch(row.type){\n\t\t\t\tcase \"group\":\n\t\t\t\t\tindent = row.level;\n\t\t\t\t\texportCols.push(new ExportColumn(row.key, row.getComponent(), columns.length, 1));\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"calc\" :\n\t\t\t\tcase \"row\" :\n\t\t\t\t\tcolumns.forEach((col) => {\n\t\t\t\t\t\texportCols.push(new ExportColumn(col._column.getFieldValue(rowData), col, 1, 1));\n\t\t\t\t\t});\n\t\t\t\t\n\t\t\t\t\tif(this.table.options.dataTree && this.config.dataTree !== false){\n\t\t\t\t\t\tindent = row.modules.dataTree.index;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\texportRows.push(new ExportRow(row.type, exportCols, row.getComponent(), indent));\n\t\t});\n\t\t\n\t\treturn exportRows;\n\t}\n\t\n\tgenerateTableElement(list){\n\t\tvar table = document.createElement(\"table\"),\n\t\theaderEl = document.createElement(\"thead\"),\n\t\tbodyEl = document.createElement(\"tbody\"),\n\t\tstyles = this.lookupTableStyles(),\n\t\trowFormatter = this.table.options[\"rowFormatter\" + (this.colVisProp.charAt(0).toUpperCase() + this.colVisProp.slice(1))],\n\t\tsetup = {};\n\t\t\n\t\tsetup.rowFormatter = rowFormatter !== null ? rowFormatter : this.table.options.rowFormatter;\n\t\t\n\t\tif(this.table.options.dataTree &&this.config.dataTree !== false && this.table.modExists(\"columnCalcs\")){\n\t\t\tsetup.treeElementField = this.table.modules.dataTree.elementField;\n\t\t}\n\t\t\n\t\t//assign group header formatter\n\t\tsetup.groupHeader = this.table.options[\"groupHeader\" + (this.colVisProp.charAt(0).toUpperCase() + this.colVisProp.slice(1))];\n\t\t\n\t\tif(setup.groupHeader && !Array.isArray(setup.groupHeader)){\n\t\t\tsetup.groupHeader = [setup.groupHeader];\n\t\t}\n\t\t\n\t\ttable.classList.add(\"tabulator-print-table\");\n\t\t\n\t\tthis.mapElementStyles(this.table.columnManager.getHeadersElement(), headerEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"background-color\", \"color\", \"font-weight\", \"font-family\", \"font-size\"]);\n\t\t\n\t\t\n\t\tif(list.length > 1000){\n\t\t\tconsole.warn(\"It may take a long time to render an HTML table with more than 1000 rows\");\n\t\t}\n\t\t\n\t\tlist.forEach((row, i) => {\n\t\t\tlet rowEl;\n\t\t\t\n\t\t\tswitch(row.type){\n\t\t\t\tcase \"header\":\n\t\t\t\t\theaderEl.appendChild(this.generateHeaderElement(row, setup, styles));\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"group\":\n\t\t\t\t\tbodyEl.appendChild(this.generateGroupElement(row, setup, styles));\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"calc\":\n\t\t\t\t\tbodyEl.appendChild(this.generateCalcElement(row, setup, styles));\n\t\t\t\t\tbreak;\n\t\t\t\t\n\t\t\t\tcase \"row\":\n\t\t\t\t\trowEl = this.generateRowElement(row, setup, styles);\n\t\t\t\t\n\t\t\t\t\tthis.mapElementStyles(((i % 2) && styles.evenRow) ? styles.evenRow : styles.oddRow, rowEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"background-color\"]);\n\t\t\t\t\tbodyEl.appendChild(rowEl);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(headerEl.innerHTML){\n\t\t\ttable.appendChild(headerEl);\n\t\t}\n\t\t\n\t\ttable.appendChild(bodyEl);\n\t\t\n\t\t\n\t\tthis.mapElementStyles(this.table.element, table, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\"]);\n\t\treturn table;\n\t}\n\t\n\tlookupTableStyles(){\n\t\tvar styles = {};\n\t\t\n\t\t//lookup row styles\n\t\tif(this.cloneTableStyle && window.getComputedStyle){\n\t\t\tstyles.oddRow = this.table.element.querySelector(\".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)\");\n\t\t\tstyles.evenRow = this.table.element.querySelector(\".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)\");\n\t\t\tstyles.calcRow = this.table.element.querySelector(\".tabulator-row.tabulator-calcs\");\n\t\t\tstyles.firstRow = this.table.element.querySelector(\".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)\");\n\t\t\tstyles.firstGroup = this.table.element.getElementsByClassName(\"tabulator-group\")[0];\n\t\t\t\n\t\t\tif(styles.firstRow){\n\t\t\t\tstyles.styleCells = styles.firstRow.getElementsByClassName(\"tabulator-cell\");\n\t\t\t\tstyles.firstCell = styles.styleCells[0];\n\t\t\t\tstyles.lastCell = styles.styleCells[styles.styleCells.length - 1];\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn styles;\n\t}\n\t\n\tgenerateHeaderElement(row, setup, styles){\n\t\tvar rowEl = document.createElement(\"tr\");\n\t\t\n\t\trow.columns.forEach((column) => {\n\t\t\tif(column){\n\t\t\t\tvar cellEl = document.createElement(\"th\");\n\t\t\t\tvar classNames = column.component._column.definition.cssClass ? column.component._column.definition.cssClass.split(\" \") : [];\n\t\t\t\t\n\t\t\t\tcellEl.colSpan = column.width;\n\t\t\t\tcellEl.rowSpan = column.height;\n\t\t\t\t\n\t\t\t\tcellEl.innerHTML = column.value;\n\t\t\t\t\n\t\t\t\tif(this.cloneTableStyle){\n\t\t\t\t\tcellEl.style.boxSizing = \"border-box\";\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tclassNames.forEach(function(className) {\n\t\t\t\t\tcellEl.classList.add(className);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.mapElementStyles(column.component.getElement(), cellEl, [\"text-align\", \"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"background-color\", \"color\", \"font-weight\", \"font-family\", \"font-size\"]);\n\t\t\t\tthis.mapElementStyles(column.component._column.contentElement, cellEl, [\"padding-top\", \"padding-left\", \"padding-right\", \"padding-bottom\"]);\n\t\t\t\t\n\t\t\t\tif(column.component._column.visible){\n\t\t\t\t\tthis.mapElementStyles(column.component.getElement(), cellEl, [\"width\"]);\n\t\t\t\t}else{\n\t\t\t\t\tif(column.component._column.definition.width){\n\t\t\t\t\t\tcellEl.style.width = column.component._column.definition.width + \"px\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(column.component._column.parent){\n\t\t\t\t\tthis.mapElementStyles(column.component._column.parent.groupElement, cellEl, [\"border-top\"]);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trowEl.appendChild(cellEl);\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn rowEl;\n\t}\n\t\n\tgenerateGroupElement(row, setup, styles){\n\t\t\n\t\tvar rowEl = document.createElement(\"tr\"),\n\t\tcellEl = document.createElement(\"td\"),\n\t\tgroup = row.columns[0];\n\t\t\n\t\trowEl.classList.add(\"tabulator-print-table-row\");\n\t\t\n\t\tif(setup.groupHeader && setup.groupHeader[row.indent]){\n\t\t\tgroup.value = setup.groupHeader[row.indent](group.value, row.component._group.getRowCount(), row.component._group.getData(), row.component);\n\t\t}else{\n\t\t\tif(setup.groupHeader !== false){\n\t\t\t\tgroup.value = row.component._group.generator(group.value, row.component._group.getRowCount(), row.component._group.getData(), row.component);\n\t\t\t}\n\t\t}\n\t\t\n\t\tcellEl.colSpan = group.width;\n\t\tcellEl.innerHTML = group.value;\n\t\t\n\t\trowEl.classList.add(\"tabulator-print-table-group\");\n\t\trowEl.classList.add(\"tabulator-group-level-\" + row.indent);\n\t\t\n\t\tif(group.component.isVisible()){\n\t\t\trowEl.classList.add(\"tabulator-group-visible\");\n\t\t}\n\t\t\n\t\tthis.mapElementStyles(styles.firstGroup, rowEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"background-color\"]);\n\t\tthis.mapElementStyles(styles.firstGroup, cellEl, [\"padding-top\", \"padding-left\", \"padding-right\", \"padding-bottom\"]);\n\t\t\n\t\trowEl.appendChild(cellEl);\n\t\t\n\t\treturn rowEl;\n\t}\n\t\n\tgenerateCalcElement(row, setup, styles){\n\t\tvar rowEl = this.generateRowElement(row, setup, styles);\n\t\t\n\t\trowEl.classList.add(\"tabulator-print-table-calcs\");\n\t\tthis.mapElementStyles(styles.calcRow, rowEl, [\"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"background-color\"]);\n\t\t\n\t\treturn rowEl;\n\t}\n\t\n\tgenerateRowElement(row, setup, styles){\n\t\tvar rowEl = document.createElement(\"tr\");\n\t\t\n\t\trowEl.classList.add(\"tabulator-print-table-row\");\n\t\t\n\t\trow.columns.forEach((col, i) => {\n\t\t\tif(col){\n\t\t\t\tvar cellEl = document.createElement(\"td\"),\n\t\t\t\tcolumn = col.component._column,\n\t\t\t\tindex = this.table.columnManager.findColumnIndex(column),\n\t\t\t\tvalue = col.value,\n\t\t\t\tcellStyle;\n\t\t\t\t\n\t\t\t\tvar cellWrapper = {\n\t\t\t\t\tmodules:{},\n\t\t\t\t\tgetValue:function(){\n\t\t\t\t\t\treturn value;\n\t\t\t\t\t},\n\t\t\t\t\tgetField:function(){\n\t\t\t\t\t\treturn column.definition.field;\n\t\t\t\t\t},\n\t\t\t\t\tgetElement:function(){\n\t\t\t\t\t\treturn cellEl;\n\t\t\t\t\t},\n\t\t\t\t\tgetColumn:function(){\n\t\t\t\t\t\treturn column.getComponent();\n\t\t\t\t\t},\n\t\t\t\t\tgetData:function(){\n\t\t\t\t\t\treturn row.component.getData();\n\t\t\t\t\t},\n\t\t\t\t\tgetRow:function(){\n\t\t\t\t\t\treturn row.component;\n\t\t\t\t\t},\n\t\t\t\t\tgetComponent:function(){\n\t\t\t\t\t\treturn cellWrapper;\n\t\t\t\t\t},\n\t\t\t\t\tcolumn:column,\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tvar classNames = column.definition.cssClass ? column.definition.cssClass.split(\" \") : [];\n\t\t\t\t\n\t\t\t\tclassNames.forEach(function(className) {\n\t\t\t\t\tcellEl.classList.add(className);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif(this.table.modExists(\"format\") && this.config.formatCells !== false){\n\t\t\t\t\tvalue = this.table.modules.format.formatExportValue(cellWrapper, this.colVisProp);\n\t\t\t\t}else{\n\t\t\t\t\tswitch(typeof value){\n\t\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\t\tvalue = value !== null ? JSON.stringify(value) : \"\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\n\t\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\t\tvalue = \"\";\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(value instanceof Node){\n\t\t\t\t\tcellEl.appendChild(value);\n\t\t\t\t}else{\n\t\t\t\t\tcellEl.innerHTML = value;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tcellStyle = styles.styleCells && styles.styleCells[index] ? styles.styleCells[index] : styles.firstCell;\n\t\t\t\t\n\t\t\t\tif(cellStyle){\n\t\t\t\t\tthis.mapElementStyles(cellStyle, cellEl, [\"padding-top\", \"padding-left\", \"padding-right\", \"padding-bottom\", \"border-top\", \"border-left\", \"border-right\", \"border-bottom\", \"color\", \"font-weight\", \"font-family\", \"font-size\", \"text-align\"]);\n\t\t\t\t\t\n\t\t\t\t\tif(column.definition.align){\n\t\t\t\t\t\tcellEl.style.textAlign = column.definition.align;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(this.table.options.dataTree && this.config.dataTree !== false){\n\t\t\t\t\tif((setup.treeElementField && setup.treeElementField == column.field) || (!setup.treeElementField && i == 0)){\n\t\t\t\t\t\tif(row.component._row.modules.dataTree.controlEl){\n\t\t\t\t\t\t\tcellEl.insertBefore(row.component._row.modules.dataTree.controlEl.cloneNode(true), cellEl.firstChild);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(row.component._row.modules.dataTree.branchEl){\n\t\t\t\t\t\t\tcellEl.insertBefore(row.component._row.modules.dataTree.branchEl.cloneNode(true), cellEl.firstChild);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trowEl.appendChild(cellEl);\n\t\t\t\t\n\t\t\t\tif(cellWrapper.modules.format && cellWrapper.modules.format.renderedCallback){\n\t\t\t\t\tcellWrapper.modules.format.renderedCallback();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(setup.rowFormatter && row.type === \"row\" && this.config.formatCells !== false){\n\t\t\tlet formatComponent = Object.assign(row.component);\n\n\t\t\tformatComponent.getElement = function(){return rowEl;};\n\n\t\t\tsetup.rowFormatter(row.component);\n\t\t}\n\t\t\n\t\treturn rowEl;\n\t}\n\t\n\tgenerateHTMLTable(list){\n\t\tvar holder = document.createElement(\"div\");\n\t\t\n\t\tholder.appendChild(this.generateTableElement(list));\n\t\t\n\t\treturn holder.innerHTML;\n\t}\n\t\n\tgetHtml(visible, style, config, colVisProp){\n\t\tvar list = this.generateExportList(config || this.table.options.htmlOutputConfig, style, visible, colVisProp || \"htmlOutput\");\n\t\t\n\t\treturn this.generateHTMLTable(list);\n\t}\n\t\n\tmapElementStyles(from, to, props){\n\t\tif(this.cloneTableStyle && from && to){\n\t\t\t\n\t\t\tvar lookup = {\n\t\t\t\t\"background-color\" : \"backgroundColor\",\n\t\t\t\t\"color\" : \"fontColor\",\n\t\t\t\t\"width\" : \"width\",\n\t\t\t\t\"font-weight\" : \"fontWeight\",\n\t\t\t\t\"font-family\" : \"fontFamily\",\n\t\t\t\t\"font-size\" : \"fontSize\",\n\t\t\t\t\"text-align\" : \"textAlign\",\n\t\t\t\t\"border-top\" : \"borderTop\",\n\t\t\t\t\"border-left\" : \"borderLeft\",\n\t\t\t\t\"border-right\" : \"borderRight\",\n\t\t\t\t\"border-bottom\" : \"borderBottom\",\n\t\t\t\t\"padding-top\" : \"paddingTop\",\n\t\t\t\t\"padding-left\" : \"paddingLeft\",\n\t\t\t\t\"padding-right\" : \"paddingRight\",\n\t\t\t\t\"padding-bottom\" : \"paddingBottom\",\n\t\t\t};\n\t\t\t\n\t\t\tif(window.getComputedStyle){\n\t\t\t\tvar fromStyle = window.getComputedStyle(from);\n\t\t\t\t\n\t\t\t\tprops.forEach(function(prop){\n\t\t\t\t\tif(!to.style[lookup[prop]]){\n\t\t\t\t\t\tto.style[lookup[prop]] = fromStyle.getPropertyValue(prop);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n}\n\nExport.moduleName = \"export\";\n\nexport default Export;\n","export default {\n\n\t//equal to\n\t\"=\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal == filterVal ? true : false;\n\t},\n\n\t//less than\n\t\"<\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal < filterVal ? true : false;\n\t},\n\n\t//less than or equal to\n\t\"<=\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal <= filterVal ? true : false;\n\t},\n\n\t//greater than\n\t\">\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal > filterVal ? true : false;\n\t},\n\n\t//greater than or equal to\n\t\">=\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal >= filterVal ? true : false;\n\t},\n\n\t//not equal to\n\t\"!=\":function(filterVal, rowVal, rowData, filterParams){\n\t\treturn rowVal != filterVal ? true : false;\n\t},\n\n\t\"regex\":function(filterVal, rowVal, rowData, filterParams){\n\n\t\tif(typeof filterVal == \"string\"){\n\t\t\tfilterVal = new RegExp(filterVal);\n\t\t}\n\n\t\treturn filterVal.test(rowVal);\n\t},\n\n\t//contains the string\n\t\"like\":function(filterVal, rowVal, rowData, filterParams){\n\t\tif(filterVal === null || typeof filterVal === \"undefined\"){\n\t\t\treturn rowVal === filterVal ? true : false;\n\t\t}else{\n\t\t\tif(typeof rowVal !== 'undefined' && rowVal !== null){\n\t\t\t\treturn String(rowVal).toLowerCase().indexOf(filterVal.toLowerCase()) > -1;\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\n\t//contains the keywords\n\t\"keywords\":function(filterVal, rowVal, rowData, filterParams){\n\t\tvar keywords = filterVal.toLowerCase().split(typeof filterParams.separator === \"undefined\" ? \" \" : filterParams.separator),\n\t\tvalue = String(rowVal === null || typeof rowVal === \"undefined\" ? \"\" : rowVal).toLowerCase(),\n\t\tmatches = [];\n\n\t\tkeywords.forEach((keyword) =>{\n\t\t\tif(value.includes(keyword)){\n\t\t\t\tmatches.push(true);\n\t\t\t}\n\t\t});\n\n\t\treturn filterParams.matchAll ? matches.length === keywords.length : !!matches.length;\n\t},\n\n\t//starts with the string\n\t\"starts\":function(filterVal, rowVal, rowData, filterParams){\n\t\tif(filterVal === null || typeof filterVal === \"undefined\"){\n\t\t\treturn rowVal === filterVal ? true : false;\n\t\t}else{\n\t\t\tif(typeof rowVal !== 'undefined' && rowVal !== null){\n\t\t\t\treturn String(rowVal).toLowerCase().startsWith(filterVal.toLowerCase());\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\n\t//ends with the string\n\t\"ends\":function(filterVal, rowVal, rowData, filterParams){\n\t\tif(filterVal === null || typeof filterVal === \"undefined\"){\n\t\t\treturn rowVal === filterVal ? true : false;\n\t\t}else{\n\t\t\tif(typeof rowVal !== 'undefined' && rowVal !== null){\n\t\t\t\treturn String(rowVal).toLowerCase().endsWith(filterVal.toLowerCase());\n\t\t\t}\n\t\t\telse{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t},\n\n\t//in array\n\t\"in\":function(filterVal, rowVal, rowData, filterParams){\n\t\tif(Array.isArray(filterVal)){\n\t\t\treturn filterVal.length ? filterVal.indexOf(rowVal) > -1 : true;\n\t\t}else{\n\t\t\tconsole.warn(\"Filter Error - filter value is not an array:\", filterVal);\n\t\t\treturn false;\n\t\t}\n\t},\n};","import Module from '../../core/Module.js';\n\nimport defaultFilters from './defaults/filters.js';\n\nclass Filter extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.filterList = []; //hold filter list\n\t\tthis.headerFilters = {}; //hold column filters\n\t\tthis.headerFilterColumns = []; //hold columns that use header filters\n\n\t\tthis.prevHeaderFilterChangeCheck = \"\";\n\t\tthis.prevHeaderFilterChangeCheck = \"{}\";\n\n\t\tthis.changed = false; //has filtering changed since last render\n\t\tthis.tableInitialized = false;\n\n\t\tthis.registerTableOption(\"filterMode\", \"local\"); //local or remote filtering\n\n\t\tthis.registerTableOption(\"initialFilter\", false); //initial filtering criteria\n\t\tthis.registerTableOption(\"initialHeaderFilter\", false); //initial header filtering criteria\n\t\tthis.registerTableOption(\"headerFilterLiveFilterDelay\", 300); //delay before updating column after user types in header filter\n\n\t\tthis.registerColumnOption(\"headerFilter\");\n\t\tthis.registerColumnOption(\"headerFilterPlaceholder\");\n\t\tthis.registerColumnOption(\"headerFilterParams\");\n\t\tthis.registerColumnOption(\"headerFilterEmptyCheck\");\n\t\tthis.registerColumnOption(\"headerFilterFunc\");\n\t\tthis.registerColumnOption(\"headerFilterFuncParams\");\n\t\tthis.registerColumnOption(\"headerFilterLiveFilter\");\n\n\t\tthis.registerTableFunction(\"searchRows\", this.searchRows.bind(this));\n\t\tthis.registerTableFunction(\"searchData\", this.searchData.bind(this));\n\n\t\tthis.registerTableFunction(\"setFilter\", this.userSetFilter.bind(this));\n\t\tthis.registerTableFunction(\"refreshFilter\", this.userRefreshFilter.bind(this));\n\t\tthis.registerTableFunction(\"addFilter\", this.userAddFilter.bind(this));\n\t\tthis.registerTableFunction(\"getFilters\", this.getFilters.bind(this));\n\t\tthis.registerTableFunction(\"setHeaderFilterFocus\", this.userSetHeaderFilterFocus.bind(this));\n\t\tthis.registerTableFunction(\"getHeaderFilterValue\", this.userGetHeaderFilterValue.bind(this));\n\t\tthis.registerTableFunction(\"setHeaderFilterValue\", this.userSetHeaderFilterValue.bind(this));\n\t\tthis.registerTableFunction(\"getHeaderFilters\", this.getHeaderFilters.bind(this));\n\t\tthis.registerTableFunction(\"removeFilter\", this.userRemoveFilter.bind(this));\n\t\tthis.registerTableFunction(\"clearFilter\", this.userClearFilter.bind(this));\n\t\tthis.registerTableFunction(\"clearHeaderFilter\", this.userClearHeaderFilter.bind(this));\n\n\t\tthis.registerComponentFunction(\"column\", \"headerFilterFocus\", this.setHeaderFilterFocus.bind(this));\n\t\tthis.registerComponentFunction(\"column\", \"reloadHeaderFilter\", this.reloadHeaderFilter.bind(this));\n\t\tthis.registerComponentFunction(\"column\", \"getHeaderFilterValue\", this.getHeaderFilterValue.bind(this));\n\t\tthis.registerComponentFunction(\"column\", \"setHeaderFilterValue\", this.setHeaderFilterValue.bind(this));\n\t}\n\n\tinitialize(){\n\t\tthis.subscribe(\"column-init\", this.initializeColumnHeaderFilter.bind(this));\n\t\tthis.subscribe(\"column-width-fit-before\", this.hideHeaderFilterElements.bind(this));\n\t\tthis.subscribe(\"column-width-fit-after\", this.showHeaderFilterElements.bind(this));\n\t\tthis.subscribe(\"table-built\", this.tableBuilt.bind(this));\n\n\t\tif(this.table.options.filterMode === \"remote\"){\n\t\t\tthis.subscribe(\"data-params\", this.remoteFilterParams.bind(this));\n\t\t}\n\n\t\tthis.registerDataHandler(this.filter.bind(this), 10);\n\t}\n\n\ttableBuilt(){\n\t\tif(this.table.options.initialFilter){\n\t\t\tthis.setFilter(this.table.options.initialFilter);\n\t\t}\n\n\t\tif(this.table.options.initialHeaderFilter){\n\t\t\tthis.table.options.initialHeaderFilter.forEach((item) => {\n\n\t\t\t\tvar column = this.table.columnManager.findColumn(item.field);\n\n\t\t\t\tif(column){\n\t\t\t\t\tthis.setHeaderFilterValue(column, item.value);\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Column Filter Error - No matching column found:\", item.field);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tthis.tableInitialized = true;\n\t}\n\n\tremoteFilterParams(data, config, silent, params){\n\t\tparams.filter = this.getFilters(true, true);\n\t\treturn params;\n\t}\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\t//set standard filters\n\tuserSetFilter(field, type, value, params){\n\t\tthis.setFilter(field, type, value, params);\n\t\tthis.refreshFilter();\n\t}\n\n\t//set standard filters\n\tuserRefreshFilter(){\n\t\tthis.refreshFilter();\n\t}\n\n\t//add filter to array\n\tuserAddFilter(field, type, value, params){\n\t\tthis.addFilter(field, type, value, params);\n\t\tthis.refreshFilter();\n\t}\n\n\tuserSetHeaderFilterFocus(field){\n\t\tvar column = this.table.columnManager.findColumn(field);\n\n\t\tif(column){\n\t\t\tthis.setHeaderFilterFocus(column);\n\t\t}else{\n\t\t\tconsole.warn(\"Column Filter Focus Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tuserGetHeaderFilterValue(field) {\n\t\tvar column = this.table.columnManager.findColumn(field);\n\n\t\tif(column){\n\t\t\treturn this.getHeaderFilterValue(column);\n\t\t}else{\n\t\t\tconsole.warn(\"Column Filter Error - No matching column found:\", field);\n\t\t}\n\t}\n\n\tuserSetHeaderFilterValue(field, value){\n\t\tvar column = this.table.columnManager.findColumn(field);\n\n\t\tif(column){\n\t\t\tthis.setHeaderFilterValue(column, value);\n\t\t}else{\n\t\t\tconsole.warn(\"Column Filter Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//remove filter from array\n\tuserRemoveFilter(field, type, value){\n\t\tthis.removeFilter(field, type, value);\n\t\tthis.refreshFilter();\n\t}\n\n\t//clear filters\n\tuserClearFilter(all){\n\t\tthis.clearFilter(all);\n\t\tthis.refreshFilter();\n\t}\n\n\t//clear header filters\n\tuserClearHeaderFilter(){\n\t\tthis.clearHeaderFilter();\n\t\tthis.refreshFilter();\n\t}\n\n\n\t//search for specific row components\n\tsearchRows(field, type, value){\n\t\treturn this.search(\"rows\", field, type, value);\n\t}\n\n\t//search for specific data\n\tsearchData(field, type, value){\n\t\treturn this.search(\"data\", field, type, value);\n\t}\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\tinitializeColumnHeaderFilter(column){\n\t\tvar def = column.definition;\n\n\t\tif(def.headerFilter){\n\t\t\tthis.initializeColumn(column);\n\t\t}\n\t}\n\n\t//initialize column header filter\n\tinitializeColumn(column, value){\n\t\tvar self = this,\n\t\tfield = column.getField();\n\n\t\t//handle successfully value change\n\t\tfunction success(value){\n\t\t\tvar filterType = (column.modules.filter.tagType == \"input\" && column.modules.filter.attrType == \"text\") || column.modules.filter.tagType == \"textarea\" ? \"partial\" : \"match\",\n\t\t\ttype = \"\",\n\t\t\tfilterChangeCheck = \"\",\n\t\t\tfilterFunc;\n\n\t\t\tif(typeof column.modules.filter.prevSuccess === \"undefined\" || column.modules.filter.prevSuccess !== value){\n\n\t\t\t\tcolumn.modules.filter.prevSuccess = value;\n\n\t\t\t\tif(!column.modules.filter.emptyFunc(value)){\n\t\t\t\t\tcolumn.modules.filter.value = value;\n\n\t\t\t\t\tswitch(typeof column.definition.headerFilterFunc){\n\t\t\t\t\t\tcase \"string\":\n\t\t\t\t\t\t\tif(Filter.filters[column.definition.headerFilterFunc]){\n\t\t\t\t\t\t\t\ttype = column.definition.headerFilterFunc;\n\t\t\t\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\t\t\t\tvar params = column.definition.headerFilterFuncParams || {};\n\t\t\t\t\t\t\t\t\tvar fieldVal = column.getFieldValue(data);\n\n\t\t\t\t\t\t\t\t\tparams = typeof params === \"function\" ? params(value, fieldVal, data) : params;\n\n\t\t\t\t\t\t\t\t\treturn Filter.filters[column.definition.headerFilterFunc](value, fieldVal, data, params);\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tconsole.warn(\"Header Filter Error - Matching filter function not found: \", column.definition.headerFilterFunc);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase \"function\":\n\t\t\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\t\t\tvar params = column.definition.headerFilterFuncParams || {};\n\t\t\t\t\t\t\t\tvar fieldVal = column.getFieldValue(data);\n\n\t\t\t\t\t\t\t\tparams = typeof params === \"function\" ? params(value, fieldVal, data) : params;\n\n\t\t\t\t\t\t\t\treturn column.definition.headerFilterFunc(value, fieldVal, data, params);\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\ttype = filterFunc;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(!filterFunc){\n\t\t\t\t\t\tswitch(filterType){\n\t\t\t\t\t\t\tcase \"partial\":\n\t\t\t\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\t\t\t\tvar colVal = column.getFieldValue(data);\n\n\t\t\t\t\t\t\t\t\tif(typeof colVal !== 'undefined' && colVal !== null){\n\t\t\t\t\t\t\t\t\t\treturn String(colVal).toLowerCase().indexOf(String(value).toLowerCase()) > -1;\n\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\ttype = \"like\";\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\t\t\t\treturn column.getFieldValue(data) == value;\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\ttype = \"=\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tself.headerFilters[field] = {value:value, func:filterFunc, type:type};\n\t\t\t\t}else{\n\t\t\t\t\tdelete self.headerFilters[field];\n\t\t\t\t}\n\n\t\t\t\tcolumn.modules.filter.value = value;\n\n\t\t\t\tfilterChangeCheck = JSON.stringify(self.headerFilters);\n\n\t\t\t\tif(self.prevHeaderFilterChangeCheck !== filterChangeCheck){\n\t\t\t\t\tself.prevHeaderFilterChangeCheck = filterChangeCheck;\n\n\t\t\t\t\tself.trackChanges();\n\t\t\t\t\tself.refreshFilter();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\tcolumn.modules.filter = {\n\t\t\tsuccess:success,\n\t\t\tattrType:false,\n\t\t\ttagType:false,\n\t\t\temptyFunc:false,\n\t\t};\n\n\t\tthis.generateHeaderFilterElement(column);\n\t}\n\n\tgenerateHeaderFilterElement(column, initialValue, reinitialize){\n\t\tvar self = this,\n\t\tsuccess = column.modules.filter.success,\n\t\tfield = column.getField(),\n\t\tfilterElement, editor, editorElement, cellWrapper, typingTimer, searchTrigger, params, onRenderedCallback;\n\n\t\tcolumn.modules.filter.value = initialValue;\n\n\t\t//handle aborted edit\n\t\tfunction cancel(){}\n\n\t\tfunction onRendered(callback){\n\t\t\tonRenderedCallback = callback;\n\t\t}\n\n\t\tif(column.modules.filter.headerElement && column.modules.filter.headerElement.parentNode){\n\t\t\tcolumn.contentElement.removeChild(column.modules.filter.headerElement.parentNode);\n\t\t}\n\n\t\tif(field){\n\n\t\t\t//set empty value function\n\t\t\tcolumn.modules.filter.emptyFunc = column.definition.headerFilterEmptyCheck || function(value){\n\t\t\t\treturn !value && value !== 0;\n\t\t\t};\n\n\t\t\tfilterElement = document.createElement(\"div\");\n\t\t\tfilterElement.classList.add(\"tabulator-header-filter\");\n\n\t\t\t//set column editor\n\t\t\tswitch(typeof column.definition.headerFilter){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tif(self.table.modules.edit.editors[column.definition.headerFilter]){\n\t\t\t\t\t\teditor = self.table.modules.edit.editors[column.definition.headerFilter];\n\n\t\t\t\t\t\tif((column.definition.headerFilter === \"tick\" || column.definition.headerFilter === \"tickCross\") && !column.definition.headerFilterEmptyCheck){\n\t\t\t\t\t\t\tcolumn.modules.filter.emptyFunc = function(value){\n\t\t\t\t\t\t\t\treturn value !== true && value !== false;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.warn(\"Filter Error - Cannot build header filter, No such editor found: \", column.definition.editor);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"function\":\n\t\t\t\t\teditor = column.definition.headerFilter;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"boolean\":\n\t\t\t\t\tif(column.modules.edit && column.modules.edit.editor){\n\t\t\t\t\t\teditor = column.modules.edit.editor;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(column.definition.formatter && self.table.modules.edit.editors[column.definition.formatter]){\n\t\t\t\t\t\t\teditor = self.table.modules.edit.editors[column.definition.formatter];\n\n\t\t\t\t\t\t\tif((column.definition.formatter === \"tick\" || column.definition.formatter === \"tickCross\") && !column.definition.headerFilterEmptyCheck){\n\t\t\t\t\t\t\t\tcolumn.modules.filter.emptyFunc = function(value){\n\t\t\t\t\t\t\t\t\treturn value !== true && value !== false;\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\teditor = self.table.modules.edit.editors[\"input\"];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif(editor){\n\n\t\t\t\tcellWrapper = {\n\t\t\t\t\tgetValue:function(){\n\t\t\t\t\t\treturn typeof initialValue !== \"undefined\" ? initialValue : \"\";\n\t\t\t\t\t},\n\t\t\t\t\tgetField:function(){\n\t\t\t\t\t\treturn column.definition.field;\n\t\t\t\t\t},\n\t\t\t\t\tgetElement:function(){\n\t\t\t\t\t\treturn filterElement;\n\t\t\t\t\t},\n\t\t\t\t\tgetColumn:function(){\n\t\t\t\t\t\treturn column.getComponent();\n\t\t\t\t\t},\n\t\t\t\t\tgetTable:() => {\n\t\t\t\t\t\treturn this.table;\n\t\t\t\t\t},\n\t\t\t\t\tgetRow:function(){\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tnormalizeHeight:function(){\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tparams = column.definition.headerFilterParams || {};\n\n\t\t\t\tparams = typeof params === \"function\" ? params.call(self.table, cellWrapper) : params;\n\n\t\t\t\teditorElement = editor.call(this.table.modules.edit, cellWrapper, onRendered, success, cancel, params);\n\n\t\t\t\tif(!editorElement){\n\t\t\t\t\tconsole.warn(\"Filter Error - Cannot add filter to \" + field + \" column, editor returned a value of false\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif(!(editorElement instanceof Node)){\n\t\t\t\t\tconsole.warn(\"Filter Error - Cannot add filter to \" + field + \" column, editor should return an instance of Node, the editor returned:\", editorElement);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t//set Placeholder Text\n\t\t\t\tself.langBind(\"headerFilters|columns|\" + column.definition.field, function(value){\n\t\t\t\t\teditorElement.setAttribute(\"placeholder\", typeof value !== \"undefined\" && value ? value : (column.definition.headerFilterPlaceholder || self.langText(\"headerFilters|default\")));\n\t\t\t\t});\n\n\t\t\t\t//focus on element on click\n\t\t\t\teditorElement.addEventListener(\"click\", function(e){\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\teditorElement.focus();\n\t\t\t\t});\n\n\t\t\t\teditorElement.addEventListener(\"focus\", (e) => {\n\t\t\t\t\tvar left = this.table.columnManager.contentsElement.scrollLeft;\n\n\t\t\t\t\tvar headerPos = this.table.rowManager.element.scrollLeft;\n\n\t\t\t\t\tif(left !== headerPos){\n\t\t\t\t\t\tthis.table.rowManager.scrollHorizontal(left);\n\t\t\t\t\t\tthis.table.columnManager.scrollHorizontal(left);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t//live update filters as user types\n\t\t\t\ttypingTimer = false;\n\n\t\t\t\tsearchTrigger = function(e){\n\t\t\t\t\tif(typingTimer){\n\t\t\t\t\t\tclearTimeout(typingTimer);\n\t\t\t\t\t}\n\n\t\t\t\t\ttypingTimer = setTimeout(function(){\n\t\t\t\t\t\tsuccess(editorElement.value);\n\t\t\t\t\t},self.table.options.headerFilterLiveFilterDelay);\n\t\t\t\t};\n\n\t\t\t\tcolumn.modules.filter.headerElement = editorElement;\n\t\t\t\tcolumn.modules.filter.attrType = editorElement.hasAttribute(\"type\") ? editorElement.getAttribute(\"type\").toLowerCase() : \"\" ;\n\t\t\t\tcolumn.modules.filter.tagType = editorElement.tagName.toLowerCase();\n\n\t\t\t\tif(column.definition.headerFilterLiveFilter !== false){\n\n\t\t\t\t\tif (\n\t\t\t\t\t\t!(\n\t\t\t\t\t\t\tcolumn.definition.headerFilter === 'autocomplete' ||\n\t\t\t\t\t\t\tcolumn.definition.headerFilter === 'tickCross' ||\n\t\t\t\t\t\t\t((column.definition.editor === 'autocomplete' ||\n\t\t\t\t\t\t\t\tcolumn.definition.editor === 'tickCross') &&\n\t\t\t\t\t\t\tcolumn.definition.headerFilter === true)\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\teditorElement.addEventListener(\"keyup\", searchTrigger);\n\t\t\t\t\t\teditorElement.addEventListener(\"search\", searchTrigger);\n\n\n\t\t\t\t\t\t//update number filtered columns on change\n\t\t\t\t\t\tif(column.modules.filter.attrType == \"number\"){\n\t\t\t\t\t\t\teditorElement.addEventListener(\"change\", function(e){\n\t\t\t\t\t\t\t\tsuccess(editorElement.value);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//change text inputs to search inputs to allow for clearing of field\n\t\t\t\t\t\tif(column.modules.filter.attrType == \"text\" && this.table.browser !== \"ie\"){\n\t\t\t\t\t\t\teditorElement.setAttribute(\"type\", \"search\");\n\t\t\t\t\t\t// editorElement.off(\"change blur\"); //prevent blur from triggering filter and preventing selection click\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t//prevent input and select elements from propagating click to column sorters etc\n\t\t\t\t\tif(column.modules.filter.tagType == \"input\" || column.modules.filter.tagType == \"select\" || column.modules.filter.tagType == \"textarea\"){\n\t\t\t\t\t\teditorElement.addEventListener(\"mousedown\",function(e){\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfilterElement.appendChild(editorElement);\n\n\t\t\t\tcolumn.contentElement.appendChild(filterElement);\n\n\t\t\t\tif(!reinitialize){\n\t\t\t\t\tself.headerFilterColumns.push(column);\n\t\t\t\t}\n\n\t\t\t\tif(onRenderedCallback){\n\t\t\t\t\tonRenderedCallback();\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.warn(\"Filter Error - Cannot add header filter, column has no field set:\", column.definition.title);\n\t\t}\n\t}\n\n\t//hide all header filter elements (used to ensure correct column widths in \"fitData\" layout mode)\n\thideHeaderFilterElements(){\n\t\tthis.headerFilterColumns.forEach(function(column){\n\t\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\t\tcolumn.modules.filter.headerElement.style.display = 'none';\n\t\t\t}\n\t\t});\n\t}\n\n\t//show all header filter elements (used to ensure correct column widths in \"fitData\" layout mode)\n\tshowHeaderFilterElements(){\n\t\tthis.headerFilterColumns.forEach(function(column){\n\t\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\t\tcolumn.modules.filter.headerElement.style.display = '';\n\t\t\t}\n\t\t});\n\t}\n\n\t//programmatically set focus of header filter\n\tsetHeaderFilterFocus(column){\n\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\tcolumn.modules.filter.headerElement.focus();\n\t\t}else{\n\t\t\tconsole.warn(\"Column Filter Focus Error - No header filter set on column:\", column.getField());\n\t\t}\n\t}\n\n\t//programmatically get value of header filter\n\tgetHeaderFilterValue(column){\n\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\treturn column.modules.filter.value;\n\t\t} else {\n\t\t\tconsole.warn(\"Column Filter Error - No header filter set on column:\", column.getField());\n\t\t}\n\t}\n\n\t//programmatically set value of header filter\n\tsetHeaderFilterValue(column, value){\n\t\tif (column){\n\t\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\t\tthis.generateHeaderFilterElement(column, value, true);\n\t\t\t\tcolumn.modules.filter.success(value);\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Column Filter Error - No header filter set on column:\", column.getField());\n\t\t\t}\n\t\t}\n\t}\n\n\treloadHeaderFilter(column){\n\t\tif (column){\n\t\t\tif(column.modules.filter && column.modules.filter.headerElement){\n\t\t\t\tthis.generateHeaderFilterElement(column, column.modules.filter.value, true);\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Column Filter Error - No header filter set on column:\", column.getField());\n\t\t\t}\n\t\t}\n\t}\n\n\trefreshFilter(){\n\t\tif(this.tableInitialized){\n\t\t\tif(this.table.options.filterMode === \"remote\"){\n\t\t\t\tthis.reloadData(null, false, false);\n\t\t\t}else{\n\t\t\t\tthis.refreshData(true);\n\t\t\t}\n\t\t}\n\n\t\t//TODO - Persist left position of row manager\n\t\t// left = this.scrollLeft;\n\t\t// this.scrollHorizontal(left);\n\t}\n\n\t//check if the filters has changed since last use\n\ttrackChanges(){\n\t\tthis.changed = true;\n\t\tthis.dispatch(\"filter-changed\");\n\t}\n\n\t//check if the filters has changed since last use\n\thasChanged(){\n\t\tvar changed = this.changed;\n\t\tthis.changed = false;\n\t\treturn changed;\n\t}\n\n\t//set standard filters\n\tsetFilter(field, type, value, params){\n\t\tthis.filterList = [];\n\n\t\tif(!Array.isArray(field)){\n\t\t\tfield = [{field:field, type:type, value:value, params:params}];\n\t\t}\n\n\t\tthis.addFilter(field);\n\t}\n\n\t//add filter to array\n\taddFilter(field, type, value, params){\n\t\tvar changed = false;\n\n\t\tif(!Array.isArray(field)){\n\t\t\tfield = [{field:field, type:type, value:value, params:params}];\n\t\t}\n\n\t\tfield.forEach((filter) => {\n\t\t\tfilter = this.findFilter(filter);\n\n\t\t\tif(filter){\n\t\t\t\tthis.filterList.push(filter);\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t});\n\n\t\tif(changed){\n\t\t\tthis.trackChanges();\n\t\t}\n\t}\n\n\tfindFilter(filter){\n\t\tvar column;\n\n\t\tif(Array.isArray(filter)){\n\t\t\treturn this.findSubFilters(filter);\n\t\t}\n\n\t\tvar filterFunc = false;\n\n\t\tif(typeof filter.field == \"function\"){\n\t\t\tfilterFunc = function(data){\n\t\t\t\treturn filter.field(data, filter.type || {});// pass params to custom filter function\n\t\t\t};\n\t\t}else{\n\n\t\t\tif(Filter.filters[filter.type]){\n\n\t\t\t\tcolumn = this.table.columnManager.getColumnByField(filter.field);\n\n\t\t\t\tif(column){\n\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\treturn Filter.filters[filter.type](filter.value, column.getFieldValue(data), data, filter.params || {});\n\t\t\t\t\t};\n\t\t\t\t}else{\n\t\t\t\t\tfilterFunc = function(data){\n\t\t\t\t\t\treturn Filter.filters[filter.type](filter.value, data[filter.field], data, filter.params || {});\n\t\t\t\t\t};\n\t\t\t\t}\n\n\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Filter Error - No such filter type found, ignoring: \", filter.type);\n\t\t\t}\n\t\t}\n\n\t\tfilter.func = filterFunc;\n\n\t\treturn filter.func ? filter : false;\n\t}\n\n\tfindSubFilters(filters){\n\t\tvar output = [];\n\n\t\tfilters.forEach((filter) => {\n\t\t\tfilter = this.findFilter(filter);\n\n\t\t\tif(filter){\n\t\t\t\toutput.push(filter);\n\t\t\t}\n\t\t});\n\n\t\treturn output.length ? output : false;\n\t}\n\n\t//get all filters\n\tgetFilters(all, ajax){\n\t\tvar output = [];\n\n\t\tif(all){\n\t\t\toutput = this.getHeaderFilters();\n\t\t}\n\n\t\tif(ajax){\n\t\t\toutput.forEach(function(item){\n\t\t\t\tif(typeof item.type == \"function\"){\n\t\t\t\t\titem.type = \"function\";\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\toutput = output.concat(this.filtersToArray(this.filterList, ajax));\n\n\t\treturn output;\n\t}\n\n\t//filter to Object\n\tfiltersToArray(filterList, ajax){\n\t\tvar output = [];\n\n\t\tfilterList.forEach((filter) => {\n\t\t\tvar item;\n\n\t\t\tif(Array.isArray(filter)){\n\t\t\t\toutput.push(this.filtersToArray(filter, ajax));\n\t\t\t}else{\n\t\t\t\titem = {field:filter.field, type:filter.type, value:filter.value};\n\n\t\t\t\tif(ajax){\n\t\t\t\t\tif(typeof item.type == \"function\"){\n\t\t\t\t\t\titem.type = \"function\";\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\toutput.push(item);\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\t//get all filters\n\tgetHeaderFilters(){\n\t\tvar output = [];\n\n\t\tfor(var key in this.headerFilters){\n\t\t\toutput.push({field:key, type:this.headerFilters[key].type, value:this.headerFilters[key].value});\n\t\t}\n\n\t\treturn output;\n\t}\n\n\t//remove filter from array\n\tremoveFilter(field, type, value){\n\t\tif(!Array.isArray(field)){\n\t\t\tfield = [{field:field, type:type, value:value}];\n\t\t}\n\n\t\tfield.forEach((filter) => {\n\t\t\tvar index = -1;\n\n\t\t\tif(typeof filter.field == \"object\"){\n\t\t\t\tindex = this.filterList.findIndex((element) => {\n\t\t\t\t\treturn filter === element;\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tindex = this.filterList.findIndex((element) => {\n\t\t\t\t\treturn filter.field === element.field && filter.type === element.type  && filter.value === element.value;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif(index > -1){\n\t\t\t\tthis.filterList.splice(index, 1);\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Filter Error - No matching filter type found, ignoring: \", filter.type);\n\t\t\t}\n\t\t});\n\n\t\tthis.trackChanges();\n\t}\n\n\t//clear filters\n\tclearFilter(all){\n\t\tthis.filterList = [];\n\n\t\tif(all){\n\t\t\tthis.clearHeaderFilter();\n\t\t}\n\n\t\tthis.trackChanges();\n\t}\n\n\t//clear header filters\n\tclearHeaderFilter(){\n\t\tthis.headerFilters = {};\n\t\tthis.prevHeaderFilterChangeCheck = \"{}\";\n\n\t\tthis.headerFilterColumns.forEach((column) => {\n\t\t\tif(typeof column.modules.filter.value !== \"undefined\"){\n\t\t\t\tdelete column.modules.filter.value;\n\t\t\t}\n\t\t\tcolumn.modules.filter.prevSuccess = undefined;\n\t\t\tthis.reloadHeaderFilter(column);\n\t\t});\n\n\t\tthis.trackChanges();\n\t}\n\n\t//search data and return matching rows\n\tsearch (searchType, field, type, value){\n\t\tvar activeRows = [],\n\t\tfilterList = [];\n\n\t\tif(!Array.isArray(field)){\n\t\t\tfield = [{field:field, type:type, value:value}];\n\t\t}\n\n\t\tfield.forEach((filter) => {\n\t\t\tfilter = this.findFilter(filter);\n\n\t\t\tif(filter){\n\t\t\t\tfilterList.push(filter);\n\t\t\t}\n\t\t});\n\n\t\tthis.table.rowManager.rows.forEach((row) => {\n\t\t\tvar match = true;\n\n\t\t\tfilterList.forEach((filter) => {\n\t\t\t\tif(!this.filterRecurse(filter, row.getData())){\n\t\t\t\t\tmatch = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(match){\n\t\t\t\tactiveRows.push(searchType === \"data\" ? row.getData(\"data\") : row.getComponent());\n\t\t\t}\n\n\t\t});\n\n\t\treturn activeRows;\n\t}\n\n\t//filter row array\n\tfilter(rowList, filters){\n\t\tvar activeRows = [],\n\t\tactiveRowComponents = [];\n\n\t\tif(this.subscribedExternal(\"dataFiltering\")){\n\t\t\tthis.dispatchExternal(\"dataFiltering\", this.getFilters(true));\n\t\t}\n\n\t\tif(this.table.options.filterMode !== \"remote\" && (this.filterList.length || Object.keys(this.headerFilters).length)){\n\n\t\t\trowList.forEach((row) => {\n\t\t\t\tif(this.filterRow(row)){\n\t\t\t\t\tactiveRows.push(row);\n\t\t\t\t}\n\t\t\t});\n\n\t\t}else{\n\t\t\tactiveRows = rowList.slice(0);\n\t\t}\n\n\t\tif(this.subscribedExternal(\"dataFiltered\")){\n\n\t\t\tactiveRows.forEach((row) => {\n\t\t\t\tactiveRowComponents.push(row.getComponent());\n\t\t\t});\n\n\t\t\tthis.dispatchExternal(\"dataFiltered\", this.getFilters(true), activeRowComponents);\n\t\t}\n\n\t\treturn activeRows;\n\t}\n\n\t//filter individual row\n\tfilterRow(row, filters){\n\t\tvar match = true,\n\t\tdata = row.getData();\n\n\t\tthis.filterList.forEach((filter) => {\n\t\t\tif(!this.filterRecurse(filter, data)){\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t});\n\n\n\t\tfor(var field in this.headerFilters){\n\t\t\tif(!this.headerFilters[field].func(data)){\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t}\n\n\t\treturn match;\n\t}\n\n\tfilterRecurse(filter, data){\n\t\tvar match = false;\n\n\t\tif(Array.isArray(filter)){\n\t\t\tfilter.forEach((subFilter) => {\n\t\t\t\tif(this.filterRecurse(subFilter, data)){\n\t\t\t\t\tmatch = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}else{\n\t\t\tmatch = filter.func(data);\n\t\t}\n\n\t\treturn match;\n\t}\n}\n\nFilter.moduleName = \"filter\";\n\n//load defaults\nFilter.filters = defaultFilters;\n\nexport default Filter;","import plaintext from './formatters/plaintext.js';\nimport html from './formatters/html.js';\nimport textarea from './formatters/textarea.js';\nimport money from './formatters/money.js';\nimport link from './formatters/link.js';\nimport image from './formatters/image.js';\nimport tickCross from './formatters/tickCross.js';\nimport datetime from './formatters/datetime.js';\nimport datetimediff from './formatters/datetimediff.js';\nimport lookup from './formatters/lookup.js';\nimport star from './formatters/star.js';\nimport traffic from './formatters/traffic.js';\nimport progress from './formatters/progress.js';\nimport color from './formatters/color.js';\nimport buttonTick from './formatters/buttonTick.js';\nimport buttonCross from './formatters/buttonCross.js';\nimport rownum from './formatters/rownum.js';\nimport handle from './formatters/handle.js';\nimport responsiveCollapse from './formatters/responsiveCollapse.js';\nimport rowSelection from './formatters/rowSelection.js';\n\nexport default {\n\tplaintext:plaintext,\n\thtml:html,\n\ttextarea:textarea,\n\tmoney:money,\n\tlink:link,\n\timage:image,\n\ttickCross:tickCross,\n\tdatetime:datetime,\n\tdatetimediff:datetimediff,\n\tlookup:lookup,\n\tstar:star,\n\ttraffic:traffic,\n\tprogress:progress,\n\tcolor:color,\n\tbuttonTick:buttonTick,\n\tbuttonCross:buttonCross,\n\trownum:rownum,\n\thandle:handle,\n\tresponsiveCollapse:responsiveCollapse,\n\trowSelection:rowSelection,\n};","export default function(cell, formatterParams, onRendered){\n\treturn this.emptyToSpace(this.sanitizeHTML(cell.getValue()));\n}","export default function(cell, formatterParams, onRendered){\n\treturn cell.getValue();\n}","export default function(cell, formatterParams, onRendered){\n\tcell.getElement().style.whiteSpace = \"pre-wrap\";\n\treturn this.emptyToSpace(this.sanitizeHTML(cell.getValue()));\n}","export default function(cell, formatterParams, onRendered){\n\tvar floatVal = parseFloat(cell.getValue()),\n\tsign = \"\",\n\tnumber, integer, decimal, rgx;\n\n\tvar decimalSym = formatterParams.decimal || \".\";\n\tvar thousandSym = formatterParams.thousand || \",\";\n\tvar negativeSign = formatterParams.negativeSign || \"-\";\n\tvar symbol = formatterParams.symbol || \"\";\n\tvar after = !!formatterParams.symbolAfter;\n\tvar precision = typeof formatterParams.precision !== \"undefined\" ? formatterParams.precision : 2;\n\n\tif(isNaN(floatVal)){\n\t\treturn this.emptyToSpace(this.sanitizeHTML(cell.getValue()));\n\t}\n\n\tif(floatVal < 0){\n\t\tfloatVal = Math.abs(floatVal);\n\t\tsign = negativeSign;\n\t}\n\n\tnumber = precision !== false ? floatVal.toFixed(precision) : floatVal;\n\tnumber = String(number).split(\".\");\n\n\tinteger = number[0];\n\tdecimal = number.length > 1 ? decimalSym + number[1] : \"\";\n\n\tif (formatterParams.thousand !== false) {\n\t\trgx = /(\\d+)(\\d{3})/;\n\n\t\twhile (rgx.test(integer)){\n\t\t\tinteger = integer.replace(rgx, \"$1\" + thousandSym + \"$2\");\n\t\t}\n\t}\n\n\treturn after ? sign + integer + decimal + symbol : sign + symbol + integer + decimal;\n}","export default function(cell, formatterParams, onRendered){\n\tvar value = cell.getValue(),\n\turlPrefix = formatterParams.urlPrefix || \"\",\n\tdownload = formatterParams.download,\n\tlabel = value,\n\tel = document.createElement(\"a\"),\n\tdata;\n\n\tfunction labelTraverse(path, data){\n\t\tvar item = path.shift(),\n\t\tvalue = data[item];\n\t\t\n\t\tif(path.length && typeof value === \"object\"){\n\t\t\treturn labelTraverse(path, value);\n\t\t}\n\n\t\treturn value;\n\t}\n\n\tif(formatterParams.labelField){\n\t\tdata = cell.getData();\n\t\tlabel = labelTraverse(formatterParams.labelField.split(this.table.options.nestedFieldSeparator), data);\n\t}\n\n\tif(formatterParams.label){\n\t\tswitch(typeof formatterParams.label){\n\t\t\tcase \"string\":\n\t\t\t\tlabel = formatterParams.label;\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\tlabel = formatterParams.label(cell);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tif(label){\n\t\tif(formatterParams.urlField){\n\t\t\tdata = cell.getData();\n\t\t\tvalue = data[formatterParams.urlField];\n\t\t}\n\n\t\tif(formatterParams.url){\n\t\t\tswitch(typeof formatterParams.url){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tvalue = formatterParams.url;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"function\":\n\t\t\t\t\tvalue = formatterParams.url(cell);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tel.setAttribute(\"href\", urlPrefix + value);\n\n\t\tif(formatterParams.target){\n\t\t\tel.setAttribute(\"target\", formatterParams.target);\n\t\t}\n\n\t\tif(formatterParams.download){\n\n\t\t\tif(typeof download == \"function\"){\n\t\t\t\tdownload = download(cell);\n\t\t\t}else{\n\t\t\t\tdownload = download === true ? \"\" : download;\n\t\t\t}\n\n\t\t\tel.setAttribute(\"download\", download);\n\t\t}\n\n\t\tel.innerHTML = this.emptyToSpace(this.sanitizeHTML(label));\n\n\t\treturn el;\n\t}else{\n\t\treturn \"&nbsp;\";\n\t}\n}","export default function(cell, formatterParams, onRendered){\n\tvar el = document.createElement(\"img\"),\n\tsrc = cell.getValue();\n\n\tif(formatterParams.urlPrefix){\n\t\tsrc = formatterParams.urlPrefix + cell.getValue();\n\t}\n\n\tif(formatterParams.urlSuffix){\n\t\tsrc = src + formatterParams.urlSuffix;\n\t}\n\n\tel.setAttribute(\"src\", src);\n\n\tswitch(typeof formatterParams.height){\n\t\tcase \"number\":\n\t\t\tel.style.height = formatterParams.height + \"px\";\n\t\t\tbreak;\n\n\t\tcase \"string\":\n\t\t\tel.style.height = formatterParams.height;\n\t\t\tbreak;\n\t}\n\n\tswitch(typeof formatterParams.width){\n\t\tcase \"number\":\n\t\t\tel.style.width = formatterParams.width + \"px\";\n\t\t\tbreak;\n\n\t\tcase \"string\":\n\t\t\tel.style.width = formatterParams.width;\n\t\t\tbreak;\n\t}\n\n\tel.addEventListener(\"load\", function(){\n\t\tcell.getRow().normalizeHeight();\n\t});\n\n\treturn el;\n}","export default function(cell, formatterParams, onRendered){\n\tvar value = cell.getValue(),\n\telement = cell.getElement(),\n\tempty = formatterParams.allowEmpty,\n\ttruthy = formatterParams.allowTruthy,\n\ttrueValueSet = Object.keys(formatterParams).includes(\"trueValue\"),\n\ttick = typeof formatterParams.tickElement !== \"undefined\" ? formatterParams.tickElement : '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#2DC214\" clip-rule=\"evenodd\" d=\"M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z\" fill-rule=\"evenodd\"/></svg>',\n\tcross = typeof formatterParams.crossElement !== \"undefined\" ? formatterParams.crossElement : '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\"  viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#CE1515\" d=\"M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z\"/></svg>';\n\n\tif((trueValueSet && value === formatterParams.trueValue) || (!trueValueSet && ((truthy && value) || (value === true || value === \"true\" || value === \"True\" || value === 1 || value === \"1\")))){\n\t\telement.setAttribute(\"aria-checked\", true);\n\t\treturn tick || \"\";\n\t}else{\n\t\tif(empty && (value === \"null\" || value === \"\" || value === null || typeof value === \"undefined\")){\n\t\t\telement.setAttribute(\"aria-checked\", \"mixed\");\n\t\t\treturn \"\";\n\t\t}else{\n\t\t\telement.setAttribute(\"aria-checked\", false);\n\t\t\treturn cross || \"\";\n\t\t}\n\t}\n}","export default function(cell, formatterParams, onRendered){\n\tvar DT = window.DateTime || luxon.DateTime;\n\tvar inputFormat = formatterParams.inputFormat || \"yyyy-MM-dd HH:mm:ss\";\n\tvar\toutputFormat = formatterParams.outputFormat || \"dd/MM/yyyy HH:mm:ss\";\n\tvar\tinvalid = typeof formatterParams.invalidPlaceholder !== \"undefined\" ? formatterParams.invalidPlaceholder : \"\";\n\tvar value = cell.getValue();\n\n\tif(typeof DT != \"undefined\"){\n\t\tvar newDatetime;\n\n\t\tif(DT.isDateTime(value)){\n\t\t\tnewDatetime = value;\n\t\t}else if(inputFormat === \"iso\"){\n\t\t\tnewDatetime = DT.fromISO(String(value));\n\t\t}else{\n\t\t\tnewDatetime = DT.fromFormat(String(value), inputFormat);\n\t\t}\n\n\t\tif(newDatetime.isValid){\n\t\t\tif(formatterParams.timezone){\n\t\t\t\tnewDatetime = newDatetime.setZone(formatterParams.timezone);\n\t\t\t}\n\n\t\t\treturn newDatetime.toFormat(outputFormat);\n\t\t}else{\n\t\t\tif(invalid === true || !value){\n\t\t\t\treturn value;\n\t\t\t}else if(typeof invalid === \"function\"){\n\t\t\t\treturn invalid(value);\n\t\t\t}else{\n\t\t\t\treturn invalid;\n\t\t\t}\n\t\t}\n\t}else{\n\t\tconsole.error(\"Format Error - 'datetime' formatter is dependant on luxon.js\");\n\t}\n}","export default function (cell, formatterParams, onRendered) {\n\tvar DT = window.DateTime || luxon.DateTime;\n\tvar inputFormat = formatterParams.inputFormat || \"yyyy-MM-dd HH:mm:ss\";\n\tvar invalid = typeof formatterParams.invalidPlaceholder !== \"undefined\" ? formatterParams.invalidPlaceholder : \"\";\n\tvar suffix = typeof formatterParams.suffix !== \"undefined\" ? formatterParams.suffix : false;\n\tvar unit = typeof formatterParams.unit !== \"undefined\" ? formatterParams.unit : \"days\";\n\tvar humanize = typeof formatterParams.humanize !== \"undefined\" ? formatterParams.humanize : false;\n\tvar date = typeof formatterParams.date !== \"undefined\" ? formatterParams.date : DT.now();\n\tvar value = cell.getValue();\n\n\tif(typeof DT != \"undefined\"){\n\t\tvar newDatetime;\n\n\t\tif(DT.isDateTime(value)){\n\t\t\tnewDatetime = value;\n\t\t}else if(inputFormat === \"iso\"){\n\t\t\tnewDatetime = DT.fromISO(String(value));\n\t\t}else{\n\t\t\tnewDatetime = DT.fromFormat(String(value), inputFormat);\n\t\t}\n\n\t\tif (newDatetime.isValid){\n\t\t\tif(humanize){\n\t\t\t\treturn newDatetime.diff(date, unit).toHuman()  + (suffix ? \" \" + suffix : \"\");\n\t\t\t}else{\n\t\t\t\treturn parseInt(newDatetime.diff(date, unit)[unit]) + (suffix ? \" \" + suffix : \"\");\n\t\t\t}\n\t\t} else {\n\n\t\t\tif (invalid === true) {\n\t\t\t\treturn value;\n\t\t\t} else if (typeof invalid === \"function\") {\n\t\t\t\treturn invalid(value);\n\t\t\t} else {\n\t\t\t\treturn invalid;\n\t\t\t}\n\t\t}\n\t}else{\n\t\tconsole.error(\"Format Error - 'datetimediff' formatter is dependant on luxon.js\");\n\t}\n}","export default function (cell, formatterParams, onRendered) {\n\tvar value = cell.getValue();\n\n\tif (typeof formatterParams[value] === \"undefined\") {\n\t\tconsole.warn('Missing display value for ' + value);\n\t\treturn value;\n\t}\n\n\treturn formatterParams[value];\n}","export default function(cell, formatterParams, onRendered){\n\tvar value = cell.getValue(),\n\telement = cell.getElement(),\n\tmaxStars = formatterParams && formatterParams.stars ? formatterParams.stars : 5,\n\tstars = document.createElement(\"span\"),\n\tstar = document.createElementNS('http://www.w3.org/2000/svg', \"svg\"),\n\tstarActive = '<polygon fill=\"#FFEA00\" stroke=\"#C1AB60\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>',\n\tstarInactive = '<polygon fill=\"#D2D2D2\" stroke=\"#686868\" stroke-width=\"37.6152\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 \"/>';\n\n\t//style stars holder\n\tstars.style.verticalAlign = \"middle\";\n\n\t//style star\n\tstar.setAttribute(\"width\", \"14\");\n\tstar.setAttribute(\"height\", \"14\");\n\tstar.setAttribute(\"viewBox\", \"0 0 512 512\");\n\tstar.setAttribute(\"xml:space\", \"preserve\");\n\tstar.style.padding = \"0 1px\";\n\n\tvalue = value && !isNaN(value) ? parseInt(value) : 0;\n\n\tvalue = Math.max(0, Math.min(value, maxStars));\n\n\tfor(var i=1;i<= maxStars;i++){\n\t\tvar nextStar = star.cloneNode(true);\n\t\tnextStar.innerHTML = i <= value ? starActive : starInactive;\n\n\t\tstars.appendChild(nextStar);\n\t}\n\n\telement.style.whiteSpace = \"nowrap\";\n\telement.style.overflow = \"hidden\";\n\telement.style.textOverflow = \"ellipsis\";\n\n\telement.setAttribute(\"aria-label\", value);\n\n\treturn stars;\n}","export default function(cell, formatterParams, onRendered){\n\tvar value = this.sanitizeHTML(cell.getValue()) || 0,\n\tel = document.createElement(\"span\"),\n\tmax = formatterParams && formatterParams.max ? formatterParams.max : 100,\n\tmin = formatterParams && formatterParams.min ? formatterParams.min : 0,\n\tcolors = formatterParams && typeof formatterParams.color !== \"undefined\" ? formatterParams.color : [\"red\", \"orange\", \"green\"],\n\tcolor = \"#666666\",\n\tpercent, percentValue;\n\n\tif(isNaN(value) || typeof cell.getValue() === \"undefined\"){\n\t\treturn;\n\t}\n\n\tel.classList.add(\"tabulator-traffic-light\");\n\n\t//make sure value is in range\n\tpercentValue = parseFloat(value) <= max ? parseFloat(value) : max;\n\tpercentValue = parseFloat(percentValue) >= min ? parseFloat(percentValue) : min;\n\n\t//workout percentage\n\tpercent = (max - min) / 100;\n\tpercentValue = Math.round((percentValue - min) / percent);\n\n\t//set color\n\tswitch(typeof colors){\n\t\tcase \"string\":\n\t\t\tcolor = colors;\n\t\t\tbreak;\n\t\tcase \"function\":\n\t\t\tcolor = colors(value);\n\t\t\tbreak;\n\t\tcase \"object\":\n\t\t\tif(Array.isArray(colors)){\n\t\t\t\tvar unit = 100 / colors.length;\n\t\t\t\tvar index = Math.floor(percentValue / unit);\n\n\t\t\t\tindex = Math.min(index, colors.length - 1);\n\t\t\t\tindex = Math.max(index, 0);\n\t\t\t\tcolor = colors[index];\n\t\t\t\tbreak;\n\t\t\t}\n\t}\n\n\tel.style.backgroundColor = color;\n\n\treturn el;\n}","import CellComponent from '../../../../core/cell/CellComponent.js';\n\nexport default function(cell, formatterParams = {}, onRendered){ //progress bar\n\tvar value = this.sanitizeHTML(cell.getValue()) || 0,\n\telement = cell.getElement(),\n\tmax = formatterParams.max ? formatterParams.max : 100,\n\tmin = formatterParams.min ? formatterParams.min : 0,\n\tlegendAlign = formatterParams.legendAlign ? formatterParams.legendAlign : \"center\",\n\tpercent, percentValue, color, legend, legendColor;\n\n\t//make sure value is in range\n\tpercentValue = parseFloat(value) <= max ? parseFloat(value) : max;\n\tpercentValue = parseFloat(percentValue) >= min ? parseFloat(percentValue) : min;\n\n\t//workout percentage\n\tpercent = (max - min) / 100;\n\tpercentValue = Math.round((percentValue - min) / percent);\n\n\t//set bar color\n\tswitch(typeof formatterParams.color){\n\t\tcase \"string\":\n\t\t\tcolor = formatterParams.color;\n\t\t\tbreak;\n\t\tcase \"function\":\n\t\t\tcolor = formatterParams.color(value);\n\t\t\tbreak;\n\t\tcase \"object\":\n\t\t\tif(Array.isArray(formatterParams.color)){\n\t\t\t\tlet unit = 100 / formatterParams.color.length;\n\t\t\t\tlet index = Math.floor(percentValue / unit);\n\n\t\t\t\tindex = Math.min(index, formatterParams.color.length - 1);\n\t\t\t\tindex = Math.max(index, 0);\n\t\t\t\tcolor = formatterParams.color[index];\n\t\t\t\tbreak;\n\t\t\t}\n\t\tdefault:\n\t\t\tcolor = \"#2DC214\";\n\t}\n\n\t//generate legend\n\tswitch(typeof formatterParams.legend){\n\t\tcase \"string\":\n\t\t\tlegend = formatterParams.legend;\n\t\t\tbreak;\n\t\tcase \"function\":\n\t\t\tlegend = formatterParams.legend(value);\n\t\t\tbreak;\n\t\tcase \"boolean\":\n\t\t\tlegend = value;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tlegend = false;\n\t}\n\n\t//set legend color\n\tswitch(typeof formatterParams.legendColor){\n\t\tcase \"string\":\n\t\t\tlegendColor = formatterParams.legendColor;\n\t\t\tbreak;\n\t\tcase \"function\":\n\t\t\tlegendColor = formatterParams.legendColor(value);\n\t\t\tbreak;\n\t\tcase \"object\":\n\t\t\tif(Array.isArray(formatterParams.legendColor)){\n\t\t\t\tlet unit = 100 / formatterParams.legendColor.length;\n\t\t\t\tlet index = Math.floor(percentValue / unit);\n\n\t\t\t\tindex = Math.min(index, formatterParams.legendColor.length - 1);\n\t\t\t\tindex = Math.max(index, 0);\n\t\t\t\tlegendColor = formatterParams.legendColor[index];\n\t\t\t}\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tlegendColor = \"#000\";\n\t}\n\n\telement.style.minWidth = \"30px\";\n\telement.style.position = \"relative\";\n\n\telement.setAttribute(\"aria-label\", percentValue);\n\n\tvar barEl = document.createElement(\"div\");\n\tbarEl.style.display = \"inline-block\";\n\tbarEl.style.width = percentValue + \"%\";\n\tbarEl.style.backgroundColor = color;\n\tbarEl.style.height = \"100%\";\n\n\tbarEl.setAttribute('data-max', max);\n\tbarEl.setAttribute('data-min', min);\n\n\tvar barContainer = document.createElement(\"div\");\n\tbarContainer.style.position = \"relative\";\n\tbarContainer.style.width = \"100%\";\n\tbarContainer.style.height = \"100%\";\n\n\tif(legend){\n\t\tvar legendEl = document.createElement(\"div\");\n\t\tlegendEl.style.position = \"absolute\";\n\t\tlegendEl.style.top = 0;\n\t\tlegendEl.style.left = 0;\n\t\tlegendEl.style.textAlign = legendAlign;\n\t\tlegendEl.style.width = \"100%\";\n\t\tlegendEl.style.color = legendColor;\n\t\tlegendEl.innerHTML = legend;\n\t}\n\n\tonRendered(function(){\n\n\t\t//handle custom element needed if formatter is to be included in printed/downloaded output\n\t\tif(!(cell instanceof CellComponent)){\n\t\t\tvar holderEl = document.createElement(\"div\");\n\t\t\tholderEl.style.position = \"absolute\";\n\t\t\tholderEl.style.top = \"4px\";\n\t\t\tholderEl.style.bottom = \"4px\";\n\t\t\tholderEl.style.left = \"4px\";\n\t\t\tholderEl.style.right = \"4px\";\n\n\t\t\telement.appendChild(holderEl);\n\n\t\t\telement = holderEl;\n\t\t}\n\n\t\telement.appendChild(barContainer);\n\t\tbarContainer.appendChild(barEl);\n\n\t\tif(legend){\n\t\t\tbarContainer.appendChild(legendEl);\n\t\t}\n\t});\n\n\treturn \"\";\n}","export default function(cell, formatterParams, onRendered){\n\tcell.getElement().style.backgroundColor = this.sanitizeHTML(cell.getValue());\n\treturn \"\";\n}","export default function(cell, formatterParams, onRendered){\n\treturn '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#2DC214\" clip-rule=\"evenodd\" d=\"M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z\" fill-rule=\"evenodd\"/></svg>';\n}","export default function(cell, formatterParams, onRendered){\n\treturn '<svg enable-background=\"new 0 0 24 24\" height=\"14\" width=\"14\" viewBox=\"0 0 24 24\" xml:space=\"preserve\" ><path fill=\"#CE1515\" d=\"M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z\"/></svg>';\n}","export default function(cell, formatterParams, onRendered){\n\tvar content = document.createElement(\"span\");\n\tvar row = cell.getRow();\n\n\trow.watchPosition((position) => {\n\t\tcontent.innerText = position;\n\t});\n\t\n\treturn content;\n}","export default function(cell, formatterParams, onRendered){\n\tcell.getElement().classList.add(\"tabulator-row-handle\");\n\treturn \"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>\";\n}","export default function(cell, formatterParams, onRendered){\n\tvar el = document.createElement(\"div\"),\n\tconfig = cell.getRow()._row.modules.responsiveLayout;\n\n\tel.classList.add(\"tabulator-responsive-collapse-toggle\");\n\t\n\tel.innerHTML = `<svg class='tabulator-responsive-collapse-toggle-open' viewbox=\"0 0 24 24\">\n  <line x1=\"7\" y1=\"12\" x2=\"17\" y2=\"12\" fill=\"none\" stroke-width=\"3\" stroke-linecap=\"round\" />\n  <line y1=\"7\" x1=\"12\" y2=\"17\" x2=\"12\" fill=\"none\" stroke-width=\"3\" stroke-linecap=\"round\" />\n</svg>\n\n<svg class='tabulator-responsive-collapse-toggle-close' viewbox=\"0 0 24 24\">\n  <line x1=\"7\" y1=\"12\" x2=\"17\" y2=\"12\"  fill=\"none\" stroke-width=\"3\" stroke-linecap=\"round\" />\n</svg>`;\n\n\tcell.getElement().classList.add(\"tabulator-row-handle\");\n\n\tfunction toggleList(isOpen){\n\t\tvar collapseEl = config.element;\n\n\t\tconfig.open = isOpen;\n\n\t\tif(collapseEl){\n\n\t\t\tif(config.open){\n\t\t\t\tel.classList.add(\"open\");\n\t\t\t\tcollapseEl.style.display = '';\n\t\t\t}else{\n\t\t\t\tel.classList.remove(\"open\");\n\t\t\t\tcollapseEl.style.display = 'none';\n\t\t\t}\n\t\t}\n\t}\n\n\tel.addEventListener(\"click\", function(e){\n\t\te.stopImmediatePropagation();\n\t\ttoggleList(!config.open);\n\t\tcell.getTable().rowManager.adjustTableSize();\n\t});\n\n\ttoggleList(config.open);\n\n\treturn el;\n}","import RowComponent from '../../../../core/row/RowComponent.js';\n\nexport default function(cell, formatterParams, onRendered){\n\tvar checkbox = document.createElement(\"input\");\n\tvar blocked = false;\n\n\tcheckbox.type = 'checkbox';\n\n\tcheckbox.setAttribute(\"aria-label\", \"Select Row\");\n\t\n\tif(this.table.modExists(\"selectRow\", true)){\n\n\t\tcheckbox.addEventListener(\"click\", (e) => {\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tif(typeof cell.getRow == 'function'){\n\t\t\tvar row = cell.getRow();\n\n\t\t\tif(row instanceof RowComponent){\n\n\t\t\t\tcheckbox.addEventListener(\"change\", (e) => {\n\t\t\t\t\tif(this.table.options.selectableRangeMode === \"click\"){\n\t\t\t\t\t\tif(!blocked){\n\t\t\t\t\t\t\trow.toggleSelect();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tblocked = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\trow.toggleSelect();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(this.table.options.selectableRangeMode === \"click\"){\n\t\t\t\t\tcheckbox.addEventListener(\"click\", (e) => {\n\t\t\t\t\t\tblocked = true;\n\t\t\t\t\t\tthis.table.modules.selectRow.handleComplexRowClick(row._row, e);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tcheckbox.checked = row.isSelected && row.isSelected();\n\t\t\t\tthis.table.modules.selectRow.registerRowSelectCheckbox(row, checkbox);\n\t\t\t}else{\n\t\t\t\tcheckbox = \"\";\n\t\t\t}\n\t\t}else {\n\t\t\tcheckbox.addEventListener(\"change\", (e) => {\n\t\t\t\tif(this.table.modules.selectRow.selectedRows.length){\n\t\t\t\t\tthis.table.deselectRow();\n\t\t\t\t}else {\n\t\t\t\t\tthis.table.selectRow(formatterParams.rowRange);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.table.modules.selectRow.registerHeaderSelectCheckbox(checkbox);\n\t\t}\n\t}\n\n\treturn checkbox;\n}","import Module from '../../core/Module.js';\n\nimport defaultFormatters from './defaults/formatters.js';\n\nclass Format extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.registerColumnOption(\"formatter\");\n\t\tthis.registerColumnOption(\"formatterParams\");\n\t\t\n\t\tthis.registerColumnOption(\"formatterPrint\");\n\t\tthis.registerColumnOption(\"formatterPrintParams\");\n\t\tthis.registerColumnOption(\"formatterClipboard\");\n\t\tthis.registerColumnOption(\"formatterClipboardParams\");\n\t\tthis.registerColumnOption(\"formatterHtmlOutput\");\n\t\tthis.registerColumnOption(\"formatterHtmlOutputParams\");\n\t\tthis.registerColumnOption(\"titleFormatter\");\n\t\tthis.registerColumnOption(\"titleFormatterParams\");\n\t}\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"cell-format\", this.formatValue.bind(this));\n\t\tthis.subscribe(\"cell-rendered\", this.cellRendered.bind(this));\n\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"column-format\", this.formatHeader.bind(this));\n\t}\n\t\n\t//initialize column formatter\n\tinitializeColumn(column){\n\t\tcolumn.modules.format = this.lookupFormatter(column, \"\");\n\t\t\n\t\tif(typeof column.definition.formatterPrint !== \"undefined\"){\n\t\t\tcolumn.modules.format.print = this.lookupFormatter(column, \"Print\");\n\t\t}\n\t\t\n\t\tif(typeof column.definition.formatterClipboard !== \"undefined\"){\n\t\t\tcolumn.modules.format.clipboard = this.lookupFormatter(column, \"Clipboard\");\n\t\t}\n\t\t\n\t\tif(typeof column.definition.formatterHtmlOutput !== \"undefined\"){\n\t\t\tcolumn.modules.format.htmlOutput = this.lookupFormatter(column, \"HtmlOutput\");\n\t\t}\n\t}\n\t\n\tlookupFormatter(column, type){\n\t\tvar config = {params:column.definition[\"formatter\" + type + \"Params\"] || {}},\n\t\tformatter = column.definition[\"formatter\" + type];\n\t\t\n\t\t//set column formatter\n\t\tswitch(typeof formatter){\n\t\t\tcase \"string\":\n\t\t\t\tif(Format.formatters[formatter]){\n\t\t\t\t\tconfig.formatter = Format.formatters[formatter];\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Formatter Error - No such formatter found: \", formatter);\n\t\t\t\t\tconfig.formatter = Format.formatters.plaintext;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"function\":\n\t\t\t\tconfig.formatter = formatter;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tconfig.formatter = Format.formatters.plaintext;\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\treturn config;\n\t}\n\t\n\tcellRendered(cell){\n\t\tif(cell.modules.format && cell.modules.format.renderedCallback && !cell.modules.format.rendered){\n\t\t\tcell.modules.format.renderedCallback();\n\t\t\tcell.modules.format.rendered = true;\n\t\t}\n\t}\n\t\n\t//return a formatted value for a column header\n\tformatHeader(column, title, el){\n\t\tvar formatter, params, onRendered, mockCell;\n\t\t\n\t\tif(column.definition.titleFormatter){\n\t\t\tformatter = this.getFormatter(column.definition.titleFormatter);\n\t\t\t\n\t\t\tonRendered = (callback) => {\n\t\t\t\tcolumn.titleFormatterRendered = callback;\n\t\t\t};\n\t\t\t\n\t\t\tmockCell = {\n\t\t\t\tgetValue:function(){\n\t\t\t\t\treturn title;\n\t\t\t\t},\n\t\t\t\tgetElement:function(){\n\t\t\t\t\treturn el;\n\t\t\t\t},\n\t\t\t\tgetColumn:function(){\n\t\t\t\t\treturn column.getComponent();\n\t\t\t\t},\n\t\t\t\tgetTable:() => {\n\t\t\t\t\treturn this.table;\n\t\t\t\t}\n\t\t\t};\n\t\t\t\n\t\t\tparams = column.definition.titleFormatterParams || {};\n\t\t\t\n\t\t\tparams = typeof params === \"function\" ? params() : params;\n\t\t\t\n\t\t\treturn formatter.call(this, mockCell, params, onRendered);\n\t\t}else{\n\t\t\treturn title;\n\t\t}\n\t}\n\t\n\t\n\t//return a formatted value for a cell\n\tformatValue(cell){\n\t\tvar component = cell.getComponent(),\n\t\tparams = typeof cell.column.modules.format.params === \"function\" ? cell.column.modules.format.params(component) : cell.column.modules.format.params;\n\t\t\n\t\tfunction onRendered(callback){\n\t\t\tif(!cell.modules.format){\n\t\t\t\tcell.modules.format = {};\n\t\t\t}\n\t\t\t\n\t\t\tcell.modules.format.renderedCallback = callback;\n\t\t\tcell.modules.format.rendered = false;\n\t\t}\n\t\t\n\t\treturn cell.column.modules.format.formatter.call(this, component, params, onRendered);\n\t}\n\t\n\tformatExportValue(cell, type){\n\t\tvar formatter = cell.column.modules.format[type],\n\t\tparams;\n\t\t\n\t\tif(formatter){\n\t\t\tparams = typeof formatter.params === \"function\" ? formatter.params(cell.getComponent()) : formatter.params;\n\t\t\t\n\t\t\tfunction onRendered(callback){\n\t\t\t\tif(!cell.modules.format){\n\t\t\t\t\tcell.modules.format = {};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tcell.modules.format.renderedCallback = callback;\n\t\t\t\tcell.modules.format.rendered = false;\n\t\t\t}\n\t\t\t\n\t\t\treturn formatter.formatter.call(this, cell.getComponent(), params, onRendered);\n\t\t\t\n\t\t}else{\n\t\t\treturn this.formatValue(cell);\n\t\t}\n\t}\n\t\n\tsanitizeHTML(value){\n\t\tif(value){\n\t\t\tvar entityMap = {\n\t\t\t\t'&': '&amp;',\n\t\t\t\t'<': '&lt;',\n\t\t\t\t'>': '&gt;',\n\t\t\t\t'\"': '&quot;',\n\t\t\t\t\"'\": '&#39;',\n\t\t\t\t'/': '&#x2F;',\n\t\t\t\t'`': '&#x60;',\n\t\t\t\t'=': '&#x3D;'\n\t\t\t};\n\t\t\t\n\t\t\treturn String(value).replace(/[&<>\"'`=/]/g, function (s) {\n\t\t\t\treturn entityMap[s];\n\t\t\t});\n\t\t}else{\n\t\t\treturn value;\n\t\t}\n\t}\n\t\n\temptyToSpace(value){\n\t\treturn value === null || typeof value === \"undefined\" || value === \"\" ? \"&nbsp;\" : value;\n\t}\n\t\n\t//get formatter for cell\n\tgetFormatter(formatter){\n\t\tswitch(typeof formatter){\n\t\t\tcase \"string\":\n\t\t\t\tif(Format.formatters[formatter]){\n\t\t\t\t\tformatter = Format.formatters[formatter];\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Formatter Error - No such formatter found: \", formatter);\n\t\t\t\t\tformatter = Format.formatters.plaintext;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"function\":\n\t\t\t//Custom formatter Function, do nothing\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tformatter = Format.formatters.plaintext;\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\treturn formatter;\n\t}\n}\n\nFormat.moduleName = \"format\";\n\n//load defaults\nFormat.formatters = defaultFormatters;\n\nexport default Format;","import Module from '../../core/Module.js';\n\nclass FrozenColumns extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.leftColumns = [];\n\t\tthis.rightColumns = [];\n\t\tthis.initializationMode = \"left\";\n\t\tthis.active = false;\n\t\tthis.blocked = true;\n\t\t\n\t\tthis.registerColumnOption(\"frozen\");\n\t}\n\t\n\t//reset initial state\n\treset(){\n\t\tthis.initializationMode = \"left\";\n\t\tthis.leftColumns = [];\n\t\tthis.rightColumns = [];\n\t\tthis.active = false;\n\t}\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"cell-layout\", this.layoutCell.bind(this));\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"column-width\", this.layout.bind(this));\n\t\tthis.subscribe(\"row-layout-after\", this.layoutRow.bind(this));\n\t\tthis.subscribe(\"table-layout\", this.layout.bind(this));\n\t\tthis.subscribe(\"columns-loading\", this.reset.bind(this));\n\t\t\n\t\tthis.subscribe(\"column-add\", this.reinitializeColumns.bind(this));\n\t\tthis.subscribe(\"column-delete\", this.reinitializeColumns.bind(this));\n\t\t\n\t\tthis.subscribe(\"table-redraw\", this.layout.bind(this));\n\t\tthis.subscribe(\"layout-refreshing\", this.blockLayout.bind(this));\n\t\tthis.subscribe(\"layout-refreshed\", this.unblockLayout.bind(this));\n\t\tthis.subscribe(\"scrollbar-vertical\", this.adjustForScrollbar.bind(this));\n\t}\n\t\n\tblockLayout(){\n\t\tthis.blocked = true;\n\t}\n\t\n\tunblockLayout(){\n\t\tthis.blocked = false;\n\t}\n\t\n\tlayoutCell(cell){\n\t\tthis.layoutElement(cell.element, cell.column);\n\t}\n\t\n\treinitializeColumns(){\n\t\tthis.reset();\n\t\t\n\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\tthis.initializeColumn(column);\n\t\t});\n\t}\n\t\n\t//initialize specific column\n\tinitializeColumn(column){\n\t\tvar config = {margin:0, edge:false};\n\t\t\n\t\tif(!column.isGroup){\n\t\t\t\n\t\t\tif(this.frozenCheck(column)){\n\t\t\t\t\n\t\t\t\tconfig.position = this.initializationMode;\n\t\t\t\t\n\t\t\t\tif(this.initializationMode == \"left\"){\n\t\t\t\t\tthis.leftColumns.push(column);\n\t\t\t\t}else{\n\t\t\t\t\tthis.rightColumns.unshift(column);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.active = true;\n\t\t\t\t\n\t\t\t\tcolumn.modules.frozen = config;\n\t\t\t}else{\n\t\t\t\tthis.initializationMode = \"right\";\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfrozenCheck(column){\n\t\tif(column.parent.isGroup && column.definition.frozen){\n\t\t\tconsole.warn(\"Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups\");\n\t\t}\n\t\t\n\t\tif(column.parent.isGroup){\n\t\t\treturn this.frozenCheck(column.parent);\n\t\t}else{\n\t\t\treturn column.definition.frozen;\n\t\t}\n\t}\n\t\n\t//layout calculation rows\n\tlayoutCalcRows(){\n\t\tif(this.table.modExists(\"columnCalcs\")){\n\t\t\tif(this.table.modules.columnCalcs.topInitialized && this.table.modules.columnCalcs.topRow){\n\t\t\t\tthis.layoutRow(this.table.modules.columnCalcs.topRow);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.modules.columnCalcs.botInitialized && this.table.modules.columnCalcs.botRow){\n\t\t\t\tthis.layoutRow(this.table.modules.columnCalcs.botRow);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.modExists(\"groupRows\")){\n\t\t\t\tthis.layoutGroupCalcs(this.table.modules.groupRows.getGroups());\n\t\t\t}\n\t\t}\n\t}\n\t\n\tlayoutGroupCalcs(groups){\n\t\tgroups.forEach((group) => {\n\t\t\tif(group.calcs.top){\n\t\t\t\tthis.layoutRow(group.calcs.top);\n\t\t\t}\n\t\t\t\n\t\t\tif(group.calcs.bottom){\n\t\t\t\tthis.layoutRow(group.calcs.bottom);\n\t\t\t}\n\t\t\t\n\t\t\tif(group.groupList && group.groupList.length){\n\t\t\t\tthis.layoutGroupCalcs(group.groupList);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//calculate column positions and layout headers\n\tlayoutColumnPosition(allCells){\n\t\tvar leftParents = [];\n\t\t\n\t\tvar leftMargin = 0;\n\t\tvar rightMargin = 0;\n\t\t\n\t\tthis.leftColumns.forEach((column, i) => {\t\n\t\t\tcolumn.modules.frozen.marginValue = leftMargin;\n\t\t\tcolumn.modules.frozen.margin = column.modules.frozen.marginValue + \"px\";\n\t\t\t\n\t\t\tif(column.visible){\n\t\t\t\tleftMargin += column.getWidth();\n\t\t\t}\n\t\t\t\n\t\t\tif(i == this.leftColumns.length - 1){\n\t\t\t\tcolumn.modules.frozen.edge = true;\n\t\t\t}else{\n\t\t\t\tcolumn.modules.frozen.edge = false;\n\t\t\t}\n\t\t\t\n\t\t\tif(column.parent.isGroup){\n\t\t\t\tvar parentEl = this.getColGroupParentElement(column);\n\t\t\t\tif(!leftParents.includes(parentEl)){\n\t\t\t\t\tthis.layoutElement(parentEl, column);\n\t\t\t\t\tleftParents.push(parentEl);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(column.modules.frozen.edge){\n\t\t\t\t\tparentEl.classList.add(\"tabulator-frozen-\" + column.modules.frozen.position);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.layoutElement(column.getElement(), column);\n\t\t\t}\n\t\t\t\n\t\t\tif(allCells){\n\t\t\t\tcolumn.cells.forEach((cell) => {\n\t\t\t\t\tthis.layoutElement(cell.getElement(true), column);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.rightColumns.forEach((column, i) => {\n\t\t\t\n\t\t\tcolumn.modules.frozen.marginValue = rightMargin;\n\t\t\tcolumn.modules.frozen.margin = column.modules.frozen.marginValue + \"px\";\n\t\t\t\n\t\t\tif(column.visible){\n\t\t\t\trightMargin += column.getWidth();\n\t\t\t}\n\t\t\t\n\t\t\tif(i == this.rightColumns.length - 1){\n\t\t\t\tcolumn.modules.frozen.edge = true;\n\t\t\t}else{\n\t\t\t\tcolumn.modules.frozen.edge = false;\n\t\t\t}\n\t\t\t\n\t\t\tif(column.parent.isGroup){\n\t\t\t\tthis.layoutElement(this.getColGroupParentElement(column), column);\n\t\t\t}else{\n\t\t\t\tthis.layoutElement(column.getElement(), column);\n\t\t\t}\n\t\t\t\n\t\t\tif(allCells){\n\t\t\t\tcolumn.cells.forEach((cell) => {\n\t\t\t\t\tthis.layoutElement(cell.getElement(true), column);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\t\n\tgetColGroupParentElement(column){\n\t\treturn column.parent.isGroup ? this.getColGroupParentElement(column.parent) : column.getElement();\n\t}\n\t\n\t//layout columns appropriately\n\tlayout(){\t\n\t\tif(this.active && !this.blocked){\n\t\t\n\t\t\t//calculate left columns\n\t\t\tthis.layoutColumnPosition();\n\t\t\t\n\t\t\tthis.reinitializeRows();\n\t\t\t\n\t\t\tthis.layoutCalcRows();\n\t\t}\n\t}\n\t\n\treinitializeRows(){\n\t\tvar visibleRows = this.table.rowManager.getVisibleRows(true);\n\t\tvar otherRows = this.table.rowManager.getRows().filter(row => !visibleRows.includes(row));\n\t\t\n\t\totherRows.forEach((row) =>{\n\t\t\trow.deinitialize();\n\t\t});\n\t\t\n\t\tvisibleRows.forEach((row) =>{\n\t\t\tif(row.type === \"row\"){\n\t\t\t\tthis.layoutRow(row);\n\t\t\t}\n\t\t});\n\t}\n\t\n\tlayoutRow(row){\n\t\tif(this.table.options.layout === \"fitDataFill\" && this.rightColumns.length){\n\t\t\tthis.table.rowManager.getTableElement().style.minWidth = \"calc(100% - \" + this.rightMargin + \")\";\n\t\t}\n\t\t\n\t\tthis.leftColumns.forEach((column) => {\n\t\t\tvar cell = row.getCell(column);\n\t\t\t\n\t\t\tif(cell){\n\t\t\t\tthis.layoutElement(cell.getElement(true), column);\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.rightColumns.forEach((column) => {\n\t\t\tvar cell = row.getCell(column);\n\t\t\t\n\t\t\tif(cell){\n\t\t\t\tthis.layoutElement(cell.getElement(true), column);\n\t\t\t}\n\t\t});\n\t}\n\t\n\tlayoutElement(element, column){\n\t\tvar position;\n\t\t\n\t\tif(column.modules.frozen){\n\t\t\telement.style.position = \"sticky\";\n\n\t\t\tif(this.table.rtl){\n\t\t\t\tposition = column.modules.frozen.position === \"left\" ? \"right\" : \"left\";\n\t\t\t}else{\n\t\t\t\tposition = column.modules.frozen.position;\n\t\t\t}\n\t\t\n\t\t\telement.style[position] = column.modules.frozen.margin;\n\n\t\t\telement.classList.add(\"tabulator-frozen\");\n\t\t\t\n\t\t\tif(column.modules.frozen.edge){\n\t\t\t\telement.classList.add(\"tabulator-frozen-\" + column.modules.frozen.position);\n\t\t\t}\n\t\t}\n\t}\n\n\tadjustForScrollbar(width){\n\t\tif(this.rightColumns.length){\n\t\t\tthis.table.columnManager.getContentsElement().style.width = \"calc(100% - \" + width + \"px)\";\n\t\t}\n\t}\n\t\n\t_calcSpace(columns, index){\n\t\tvar width = 0;\n\t\t\n\t\tfor (let i = 0; i < index; i++){\n\t\t\tif(columns[i].visible){\n\t\t\t\twidth += columns[i].getWidth();\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn width;\n\t}\n}\n\nFrozenColumns.moduleName = \"frozenColumns\";\n\nexport default FrozenColumns;","import Module from '../../core/Module.js';\n\nclass FrozenRows extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.topElement = document.createElement(\"div\");\n\t\tthis.rows = [];\n\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"freeze\", this.freezeRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"unfreeze\", this.unfreezeRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"isFrozen\", this.isRowFrozen.bind(this));\n\n\t\t//register table options\n\t\tthis.registerTableOption(\"frozenRowsField\", \"id\"); //field to choose frozen rows by\n\t\tthis.registerTableOption(\"frozenRows\", false); //holder for frozen row identifiers\n\t}\n\n\tinitialize(){\n\t\tthis.rows = [];\n\n\t\tthis.topElement.classList.add(\"tabulator-frozen-rows-holder\");\n\n\t\t// this.table.columnManager.element.append(this.topElement);\n\t\tthis.table.columnManager.getContentsElement().insertBefore(this.topElement, this.table.columnManager.headersElement.nextSibling);\n\n\t\tthis.subscribe(\"row-deleting\", this.detachRow.bind(this));\n\t\tthis.subscribe(\"rows-visible\", this.visibleRows.bind(this));\n\n\t\tthis.registerDisplayHandler(this.getRows.bind(this), 10);\n\n\t\tif(this.table.options.frozenRows){\n\t\t\tthis.subscribe(\"data-processed\", this.initializeRows.bind(this));\n\t\t\tthis.subscribe(\"row-added\", this.initializeRow.bind(this));\n\t\t\tthis.subscribe(\"table-redrawing\", this.resizeHolderWidth.bind(this));\n\t\t\tthis.subscribe(\"column-resized\", this.resizeHolderWidth.bind(this));\n\t\t\tthis.subscribe(\"column-show\", this.resizeHolderWidth.bind(this));\n\t\t\tthis.subscribe(\"column-hide\", this.resizeHolderWidth.bind(this));\n\t\t}\n\n\t\tthis.resizeHolderWidth();\n\t}\n\n\tresizeHolderWidth(){\n\t\tthis.topElement.style.minWidth = this.table.columnManager.headersElement.offsetWidth + \"px\";\n\t}\n\n\tinitializeRows(){\n\t\tthis.table.rowManager.getRows().forEach((row) => {\n\t\t\tthis.initializeRow(row);\n\t\t});\n\t}\n\n\tinitializeRow(row){\n\t\tvar frozenRows = this.table.options.frozenRows,\n\t\trowType = typeof frozenRows;\n\n\t\tif(rowType === \"number\"){\n\t\t\tif(row.getPosition() && (row.getPosition() + this.rows.length) <= frozenRows){\n\t\t\t\tthis.freezeRow(row);\n\t\t\t}\n\t\t}else if(rowType === \"function\"){\n\t\t\tif(frozenRows.call(this.table, row.getComponent())){\n\t\t\t\tthis.freezeRow(row);\n\t\t\t}\n\t\t}else if(Array.isArray(frozenRows)){\n\t\t\tif(frozenRows.includes(row.data[this.options(\"frozenRowsField\")])){\n\t\t\t\tthis.freezeRow(row);\n\t\t\t}\n\t\t}\n\t}\n\n\tisRowFrozen(row){\n\t\tvar index = this.rows.indexOf(row);\n\t\treturn index > -1;\n\t}\n\n\tisFrozen(){\n\t\treturn !!this.rows.length;\n\t}\n\n\tvisibleRows(viewable, rows){\n\t\tthis.rows.forEach((row) => {\n\t\t\trows.push(row);\n\t\t});\n\n\t\treturn rows;\n\t}\n\n\t//filter frozen rows out of display data\n\tgetRows(rows){\n\t\tvar output = rows.slice(0);\n\n\t\tthis.rows.forEach(function(row){\n\t\t\tvar index = output.indexOf(row);\n\n\t\t\tif(index > -1){\n\t\t\t\toutput.splice(index, 1);\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\tfreezeRow(row){\n\t\tif(!row.modules.frozen){\n\t\t\trow.modules.frozen = true;\n\t\t\tthis.topElement.appendChild(row.getElement());\n\t\t\trow.initialize();\n\t\t\trow.normalizeHeight();\n\t\t\n\t\t\tthis.rows.push(row);\n\n\t\t\tthis.refreshData(false, \"display\");\n\n\t\t\tthis.table.rowManager.adjustTableSize();\n\n\t\t\tthis.styleRows();\n\n\t\t}else{\n\t\t\tconsole.warn(\"Freeze Error - Row is already frozen\");\n\t\t}\n\t}\n\n\tunfreezeRow(row){\n\t\tif(row.modules.frozen){\n\n\t\t\trow.modules.frozen = false;\n\n\t\t\tthis.detachRow(row);\n\n\t\t\tthis.table.rowManager.adjustTableSize();\n\n\t\t\tthis.refreshData(false, \"display\");\n\n\t\t\tif(this.rows.length){\n\t\t\t\tthis.styleRows();\n\t\t\t}\n\n\t\t}else{\n\t\t\tconsole.warn(\"Freeze Error - Row is already unfrozen\");\n\t\t}\n\t}\n\n\tdetachRow(row){\n\t\tvar index = this.rows.indexOf(row);\n\n\t\tif(index > -1){\n\t\t\tvar rowEl = row.getElement();\n\n\t\t\tif(rowEl.parentNode){\n\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t}\n\n\t\t\tthis.rows.splice(index, 1);\n\t\t}\n\t}\n\n\tstyleRows(row){\n\t\tthis.rows.forEach((row, i) => {\n\t\t\tthis.table.rowManager.styleRow(row, i);\n\t\t});\n\t}\n}\n\nFrozenRows.moduleName = \"frozenRows\";\n\nexport default FrozenRows;","//public group object\nclass GroupComponent {\n\tconstructor (group){\n\t\tthis._group = group;\n\t\tthis.type = \"GroupComponent\";\n\n\t\treturn new Proxy(this, {\n\t\t\tget: function(target, name, receiver) {\n\t\t\t\tif (typeof target[name] !== \"undefined\") {\n\t\t\t\t\treturn target[name];\n\t\t\t\t}else{\n\t\t\t\t\treturn target._group.groupManager.table.componentFunctionBinder.handle(\"group\", target._group, name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tgetKey(){\n\t\treturn this._group.key;\n\t}\n\n\tgetField(){\n\t\treturn this._group.field;\n\t}\n\n\tgetElement(){\n\t\treturn this._group.element;\n\t}\n\n\tgetRows(){\n\t\treturn this._group.getRows(true);\n\t}\n\n\tgetSubGroups(){\n\t\treturn this._group.getSubGroups(true);\n\t}\n\n\tgetParentGroup(){\n\t\treturn this._group.parent ? this._group.parent.getComponent() : false;\n\t}\n\n\tisVisible(){\n\t\treturn this._group.visible;\n\t}\n\n\tshow(){\n\t\tthis._group.show();\n\t}\n\n\thide(){\n\t\tthis._group.hide();\n\t}\n\n\ttoggle(){\n\t\tthis._group.toggleVisibility();\n\t}\n\n\t_getSelf(){\n\t\treturn this._group;\n\t}\n\n\tgetTable(){\n\t\treturn this._group.groupManager.table;\n\t}\n}\n\nexport default GroupComponent;","import Helpers from '../../core/tools/Helpers.js';\nimport GroupComponent from './GroupComponent.js';\n\n//Group functions\nclass Group{\n\t\n\tconstructor(groupManager, parent, level, key, field, generator, oldGroup){\n\t\tthis.groupManager = groupManager;\n\t\tthis.parent = parent;\n\t\tthis.key = key;\n\t\tthis.level = level;\n\t\tthis.field = field;\n\t\tthis.hasSubGroups = level < (groupManager.groupIDLookups.length - 1);\n\t\tthis.addRow = this.hasSubGroups ? this._addRowToGroup : this._addRow;\n\t\tthis.type = \"group\"; //type of element\n\t\tthis.old = oldGroup;\n\t\tthis.rows = [];\n\t\tthis.groups = [];\n\t\tthis.groupList = [];\n\t\tthis.generator = generator;\n\t\tthis.element = false;\n\t\tthis.elementContents = false;\n\t\tthis.height = 0;\n\t\tthis.outerHeight = 0;\n\t\tthis.initialized = false;\n\t\tthis.calcs = {};\n\t\tthis.initialized = false;\n\t\tthis.modules = {};\n\t\tthis.arrowElement = false;\n\t\t\n\t\tthis.visible = oldGroup ? oldGroup.visible : (typeof groupManager.startOpen[level] !== \"undefined\" ? groupManager.startOpen[level] : groupManager.startOpen[0]);\n\t\t\n\t\tthis.component = null;\n\t\t\n\t\tthis.createElements();\n\t\tthis.addBindings();\n\t\t\n\t\tthis.createValueGroups();\n\t}\n\t\n\twipe(elementsOnly){\n\t\tif(!elementsOnly){\n\t\t\tif(this.groupList.length){\n\t\t\t\tthis.groupList.forEach(function(group){\n\t\t\t\t\tgroup.wipe();\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tthis.rows.forEach((row) => {\n\t\t\t\t\tif(row.modules){\n\t\t\t\t\t\tdelete row.modules.group;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.element = false;\n\t\tthis.arrowElement = false;\n\t\tthis.elementContents = false;\n\t}\n\t\n\tcreateElements(){\n\t\tvar arrow = document.createElement(\"div\");\n\t\tarrow.classList.add(\"tabulator-arrow\");\n\t\t\n\t\tthis.element = document.createElement(\"div\");\n\t\tthis.element.classList.add(\"tabulator-row\");\n\t\tthis.element.classList.add(\"tabulator-group\");\n\t\tthis.element.classList.add(\"tabulator-group-level-\" + this.level);\n\t\tthis.element.setAttribute(\"role\", \"rowgroup\");\n\t\t\n\t\tthis.arrowElement = document.createElement(\"div\");\n\t\tthis.arrowElement.classList.add(\"tabulator-group-toggle\");\n\t\tthis.arrowElement.appendChild(arrow);\n\n\t\t//setup movable rows\n\t\tif(this.groupManager.table.options.movableRows !== false && this.groupManager.table.modExists(\"moveRow\")){\n\t\t\tthis.groupManager.table.modules.moveRow.initializeGroupHeader(this);\n\t\t}\n\t}\n\t\n\tcreateValueGroups(){\n\t\tvar level = this.level + 1;\n\t\tif(this.groupManager.allowedValues && this.groupManager.allowedValues[level]){\n\t\t\tthis.groupManager.allowedValues[level].forEach((value) => {\n\t\t\t\tthis._createGroup(value, level);\n\t\t\t});\n\t\t}\n\t}\n\t\n\taddBindings(){\n\t\tvar toggleElement;\n\t\t\n\t\tif(this.groupManager.table.options.groupToggleElement){\n\t\t\ttoggleElement = this.groupManager.table.options.groupToggleElement == \"arrow\" ? this.arrowElement : this.element;\n\t\t\t\n\t\t\ttoggleElement.addEventListener(\"click\", (e) => {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\tthis.toggleVisibility();\n\t\t\t});\n\t\t}\n\t}\n\t\n\t_createGroup(groupID, level){\n\t\tvar groupKey = level + \"_\" + groupID;\n\t\tvar group = new Group(this.groupManager, this, level, groupID,  this.groupManager.groupIDLookups[level].field, this.groupManager.headerGenerator[level] || this.groupManager.headerGenerator[0], this.old ? this.old.groups[groupKey] : false);\n\t\t\n\t\tthis.groups[groupKey] = group;\n\t\tthis.groupList.push(group);\n\t}\n\t\n\t_addRowToGroup(row){\n\t\t\n\t\tvar level = this.level + 1;\n\t\t\n\t\tif(this.hasSubGroups){\n\t\t\tvar groupID = this.groupManager.groupIDLookups[level].func(row.getData()),\n\t\t\tgroupKey = level + \"_\" + groupID;\n\t\t\t\n\t\t\tif(this.groupManager.allowedValues && this.groupManager.allowedValues[level]){\n\t\t\t\tif(this.groups[groupKey]){\n\t\t\t\t\tthis.groups[groupKey].addRow(row);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(!this.groups[groupKey]){\n\t\t\t\t\tthis._createGroup(groupID, level);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.groups[groupKey].addRow(row);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t_addRow(row){\n\t\tthis.rows.push(row);\n\t\trow.modules.group = this;\n\t}\n\t\n\tinsertRow(row, to, after){\n\t\tvar data = this.conformRowData({});\n\t\t\n\t\trow.updateData(data);\n\t\t\n\t\tvar toIndex = this.rows.indexOf(to);\n\t\t\n\t\tif(toIndex > -1){\n\t\t\tif(after){\n\t\t\t\tthis.rows.splice(toIndex+1, 0, row);\n\t\t\t}else{\n\t\t\t\tthis.rows.splice(toIndex, 0, row);\n\t\t\t}\n\t\t}else{\n\t\t\tif(after){\n\t\t\t\tthis.rows.push(row);\n\t\t\t}else{\n\t\t\t\tthis.rows.unshift(row);\n\t\t\t}\n\t\t}\n\t\t\n\t\trow.modules.group = this;\n\t\t\n\t\t// this.generateGroupHeaderContents();\n\t\t\n\t\tif(this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.options.columnCalcs != \"table\"){\n\t\t\tthis.groupManager.table.modules.columnCalcs.recalcGroup(this);\n\t\t}\n\t\t\n\t\tthis.groupManager.updateGroupRows(true);\n\t}\n\t\n\tscrollHeader(left){\n\t\tif(this.arrowElement){\n\t\t\tthis.arrowElement.style.marginLeft = left;\n\t\t\t\n\t\t\tthis.groupList.forEach(function(child){\n\t\t\t\tchild.scrollHeader(left);\n\t\t\t});\n\t\t}\n\t}\n\t\n\tgetRowIndex(row){}\n\t\n\t//update row data to match grouping constraints\n\tconformRowData(data){\n\t\tif(this.field){\n\t\t\tdata[this.field] = this.key;\n\t\t}else{\n\t\t\tconsole.warn(\"Data Conforming Error - Cannot conform row data to match new group as groupBy is a function\");\n\t\t}\n\t\t\n\t\tif(this.parent){\n\t\t\tdata = this.parent.conformRowData(data);\n\t\t}\n\t\t\n\t\treturn data;\n\t}\n\t\n\tremoveRow(row){\n\t\tvar index = this.rows.indexOf(row);\n\t\tvar el = row.getElement();\n\t\t\n\t\tif(index > -1){\n\t\t\tthis.rows.splice(index, 1);\n\t\t}\n\t\t\n\t\tif(!this.groupManager.table.options.groupValues && !this.rows.length){\n\t\t\tif(this.parent){\n\t\t\t\tthis.parent.removeGroup(this);\n\t\t\t}else{\n\t\t\t\tthis.groupManager.removeGroup(this);\n\t\t\t}\t\t\n\t\t\t\n\t\t\tthis.groupManager.updateGroupRows(true);\n\t\t\t\n\t\t}else{\n\t\t\t\n\t\t\tif(el.parentNode){\n\t\t\t\tel.parentNode.removeChild(el);\n\t\t\t}\n\n\t\t\tif(!this.groupManager.blockRedraw){\n\t\t\t\tthis.generateGroupHeaderContents();\n\t\t\t\t\n\t\t\t\tif(this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.options.columnCalcs != \"table\"){\n\t\t\t\t\tthis.groupManager.table.modules.columnCalcs.recalcGroup(this);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\t\n\tremoveGroup(group){\n\t\tvar groupKey = group.level + \"_\" + group.key,\n\t\tindex;\n\t\t\n\t\tif(this.groups[groupKey]){\n\t\t\tdelete this.groups[groupKey];\n\t\t\t\n\t\t\tindex = this.groupList.indexOf(group);\n\t\t\t\n\t\t\tif(index > -1){\n\t\t\t\tthis.groupList.splice(index, 1);\n\t\t\t}\n\t\t\t\n\t\t\tif(!this.groupList.length){\n\t\t\t\tif(this.parent){\n\t\t\t\t\tthis.parent.removeGroup(this);\n\t\t\t\t}else{\n\t\t\t\t\tthis.groupManager.removeGroup(this);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tgetHeadersAndRows(){\n\t\tvar output = [];\n\t\t\n\t\toutput.push(this);\n\t\t\n\t\tthis._visSet();\n\t\t\n\t\t\n\t\tif(this.calcs.top){\n\t\t\tthis.calcs.top.detachElement();\n\t\t\tthis.calcs.top.deleteCells();\n\t\t}\n\t\t\n\t\tif(this.calcs.bottom){\n\t\t\tthis.calcs.bottom.detachElement();\n\t\t\tthis.calcs.bottom.deleteCells();\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\tif(this.visible){\n\t\t\tif(this.groupList.length){\n\t\t\t\tthis.groupList.forEach(function(group){\n\t\t\t\t\toutput = output.concat(group.getHeadersAndRows());\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\tif(this.groupManager.table.options.columnCalcs != \"table\" && this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.modules.columnCalcs.hasTopCalcs()){\n\t\t\t\t\tthis.calcs.top = this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows);\n\t\t\t\t\toutput.push(this.calcs.top);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\toutput = output.concat(this.rows);\n\t\t\t\t\n\t\t\t\tif(this.groupManager.table.options.columnCalcs != \"table\" &&  this.groupManager.table.modExists(\"columnCalcs\") && this.groupManager.table.modules.columnCalcs.hasBottomCalcs()){\n\t\t\t\t\tthis.calcs.bottom = this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows);\n\t\t\t\t\toutput.push(this.calcs.bottom);\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tif(!this.groupList.length && this.groupManager.table.options.columnCalcs != \"table\"){\n\t\t\t\t\n\t\t\t\tif(this.groupManager.table.modExists(\"columnCalcs\")){\n\t\t\t\t\tif(this.groupManager.table.modules.columnCalcs.hasTopCalcs()){\n\t\t\t\t\t\tif(this.groupManager.table.options.groupClosedShowCalcs){\n\t\t\t\t\t\t\tthis.calcs.top = this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows);\n\t\t\t\t\t\t\toutput.push(this.calcs.top);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(this.groupManager.table.modules.columnCalcs.hasBottomCalcs()){\t\t\t\t\t\t\n\t\t\t\t\t\tif(this.groupManager.table.options.groupClosedShowCalcs){\n\t\t\t\t\t\t\tthis.calcs.bottom = this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows);\n\t\t\t\t\t\t\toutput.push(this.calcs.bottom);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetData(visible, transform){\n\t\tvar output = [];\n\t\t\n\t\tthis._visSet();\n\t\t\n\t\tif(!visible || (visible && this.visible)){\n\t\t\tthis.rows.forEach((row) => {\n\t\t\t\toutput.push(row.getData(transform || \"data\"));\n\t\t\t});\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetRowCount(){\n\t\tvar count = 0;\n\t\t\n\t\tif(this.groupList.length){\n\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\tcount += group.getRowCount();\n\t\t\t});\n\t\t}else{\n\t\t\tcount = this.rows.length;\n\t\t}\n\t\treturn count;\n\t}\n\t\n\ttoggleVisibility(){\n\t\tif(this.visible){\n\t\t\tthis.hide();\n\t\t}else{\n\t\t\tthis.show();\n\t\t}\n\t}\n\t\n\thide(){\n\t\tthis.visible = false;\n\t\t\n\t\tif(this.groupManager.table.rowManager.getRenderMode() == \"basic\" && !this.groupManager.table.options.pagination){\n\t\t\t\n\t\t\tthis.element.classList.remove(\"tabulator-group-visible\");\n\t\t\t\n\t\t\tif(this.groupList.length){\n\t\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\t\t\n\t\t\t\t\tvar rows = group.getHeadersAndRows();\n\t\t\t\t\t\n\t\t\t\t\trows.forEach((row) => {\n\t\t\t\t\t\trow.detachElement();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\tthis.rows.forEach((row) => {\n\t\t\t\t\tvar rowEl = row.getElement();\n\t\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tthis.groupManager.updateGroupRows(true);\n\t\t\t\n\t\t}else{\n\t\t\tthis.groupManager.updateGroupRows(true);\n\t\t}\n\t\t\n\t\tthis.groupManager.table.externalEvents.dispatch(\"groupVisibilityChanged\", this.getComponent(), false);\n\t}\n\t\n\tshow(){\n\t\tthis.visible = true;\n\t\t\n\t\tif(this.groupManager.table.rowManager.getRenderMode() == \"basic\" && !this.groupManager.table.options.pagination){\n\t\t\t\n\t\t\tthis.element.classList.add(\"tabulator-group-visible\");\n\t\t\t\n\t\t\tvar prev = this.generateElement();\n\t\t\t\n\t\t\tif(this.groupList.length){\n\t\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\t\tvar rows = group.getHeadersAndRows();\n\t\t\t\t\t\n\t\t\t\t\trows.forEach((row) => {\n\t\t\t\t\t\tvar rowEl = row.getElement();\n\t\t\t\t\t\tprev.parentNode.insertBefore(rowEl, prev.nextSibling);\n\t\t\t\t\t\trow.initialize();\n\t\t\t\t\t\tprev = rowEl;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\tthis.rows.forEach((row) => {\n\t\t\t\t\tvar rowEl = row.getElement();\n\t\t\t\t\tprev.parentNode.insertBefore(rowEl, prev.nextSibling);\n\t\t\t\t\trow.initialize();\n\t\t\t\t\tprev = rowEl;\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tthis.groupManager.updateGroupRows(true);\n\t\t}else{\n\t\t\tthis.groupManager.updateGroupRows(true);\n\t\t}\n\t\t\n\t\tthis.groupManager.table.externalEvents.dispatch(\"groupVisibilityChanged\", this.getComponent(), true);\n\t}\n\t\n\t_visSet(){\n\t\tvar data = [];\n\t\t\n\t\tif(typeof this.visible == \"function\"){\n\t\t\t\n\t\t\tthis.rows.forEach(function(row){\n\t\t\t\tdata.push(row.getData());\n\t\t\t});\n\t\t\t\n\t\t\tthis.visible = this.visible(this.key, this.getRowCount(), data, this.getComponent());\n\t\t}\n\t}\n\t\n\tgetRowGroup(row){\n\t\tvar match = false;\n\t\tif(this.groupList.length){\n\t\t\tthis.groupList.forEach(function(group){\n\t\t\t\tvar result = group.getRowGroup(row);\n\t\t\t\t\n\t\t\t\tif(result){\n\t\t\t\t\tmatch = result;\n\t\t\t\t}\n\t\t\t});\n\t\t}else{\n\t\t\tif(this.rows.find(function(item){\n\t\t\t\treturn item === row;\n\t\t\t})){\n\t\t\t\tmatch = this;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn match;\n\t}\n\t\n\tgetSubGroups(component){\n\t\tvar output = [];\n\t\t\n\t\tthis.groupList.forEach(function(child){\n\t\t\toutput.push(component ? child.getComponent() : child);\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetRows(component){\n\t\tvar output = [];\n\t\t\n\t\tthis.rows.forEach(function(row){\n\t\t\toutput.push(component ? row.getComponent() : row);\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgenerateGroupHeaderContents(){\n\t\tvar data = [];\n\t\t\n\t\tthis.rows.forEach(function(row){\n\t\t\tdata.push(row.getData());\n\t\t});\n\t\t\n\t\tthis.elementContents = this.generator(this.key, this.getRowCount(), data, this.getComponent());\n\t\t\n\t\twhile(this.element.firstChild) this.element.removeChild(this.element.firstChild);\n\t\t\n\t\tif(typeof this.elementContents === \"string\"){\n\t\t\tthis.element.innerHTML = this.elementContents;\n\t\t}else{\n\t\t\tthis.element.appendChild(this.elementContents);\n\t\t}\n\t\t\n\t\tthis.element.insertBefore(this.arrowElement, this.element.firstChild);\n\t}\n\t\n\tgetPath(path = []) {\n\t\tpath.unshift(this.key);\n\t\tif(this.parent) {\n\t\t\tthis.parent.getPath(path);\n\t\t}\n\t\treturn path;\n\t}\n\t\n\t////////////// Standard Row Functions //////////////\n\t\n\tgetElement(){\n\t\treturn this.elementContents ? this.element : this.generateElement();\n\t}\n\t\n\tgenerateElement(){\n\t\tthis.addBindings = false;\n\t\t\n\t\tthis._visSet();\n\t\t\n\t\tif(this.visible){\n\t\t\tthis.element.classList.add(\"tabulator-group-visible\");\n\t\t}else{\n\t\t\tthis.element.classList.remove(\"tabulator-group-visible\");\n\t\t}\n\t\t\n\t\tfor(var i = 0; i < this.element.childNodes.length; ++i){\n\t\t\tthis.element.childNodes[i].parentNode.removeChild(this.element.childNodes[i]);\n\t\t}\n\t\t\n\t\tthis.generateGroupHeaderContents();\n\t\t\n\t\t// this.addBindings();\n\t\t\n\t\treturn this.element;\n\t}\n\t\n\tdetachElement(){\n\t\tif (this.element && this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t}\n\t}\n\t\n\t//normalize the height of elements in the row\n\tnormalizeHeight(){\n\t\tthis.setHeight(this.element.clientHeight);\n\t}\n\t\n\tinitialize(force){\n\t\tif(!this.initialized || force){\n\t\t\tthis.normalizeHeight();\n\t\t\tthis.initialized = true;\n\t\t}\n\t}\n\t\n\treinitialize(){\n\t\tthis.initialized = false;\n\t\tthis.height = 0;\n\t\t\n\t\tif(Helpers.elVisible(this.element)){\n\t\t\tthis.initialize(true);\n\t\t}\n\t}\n\t\n\tsetHeight(height){\n\t\tif(this.height != height){\n\t\t\tthis.height = height;\n\t\t\tthis.outerHeight = this.element.offsetHeight;\n\t\t}\n\t}\n\t\n\t//return rows outer height\n\tgetHeight(){\n\t\treturn this.outerHeight;\n\t}\n\t\n\tgetGroup(){\n\t\treturn this;\n\t}\n\t\n\treinitializeHeight(){}\n\t\n\tcalcHeight(){}\n\t\n\tsetCellHeight(){}\n\t\n\tclearCellHeight(){}\n\t\n\tdeinitializeHeight(){}\n\t\n\t//////////////// Object Generation /////////////////\n\tgetComponent(){\n\t\tif(!this.component){\n\t\t\tthis.component = new GroupComponent(this);\n\t\t}\n\t\t\n\t\treturn this.component;\n\t}\n}\n\nexport default Group;","import Module from '../../core/Module.js';\n\nimport Group from './Group.js';\n\nclass GroupRows extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.groupIDLookups = false; //enable table grouping and set field to group by\n\t\tthis.startOpen = [function(){return false;}]; //starting state of group\n\t\tthis.headerGenerator = [function(){return \"\";}];\n\t\tthis.groupList = []; //ordered list of groups\n\t\tthis.allowedValues = false;\n\t\tthis.groups = {}; //hold row groups\n\t\t\n\t\tthis.displayHandler = this.getRows.bind(this);\n\n\t\tthis.blockRedraw = false;\n\t\t\n\t\t//register table options\n\t\tthis.registerTableOption(\"groupBy\", false); //enable table grouping and set field to group by\n\t\tthis.registerTableOption(\"groupStartOpen\", true); //starting state of group\n\t\tthis.registerTableOption(\"groupValues\", false);\n\t\tthis.registerTableOption(\"groupUpdateOnCellEdit\", false);\n\t\tthis.registerTableOption(\"groupHeader\", false); //header generation function\n\t\tthis.registerTableOption(\"groupHeaderPrint\", null);\n\t\tthis.registerTableOption(\"groupHeaderClipboard\", null);\n\t\tthis.registerTableOption(\"groupHeaderHtmlOutput\", null);\n\t\tthis.registerTableOption(\"groupHeaderDownload\", null);\n\t\tthis.registerTableOption(\"groupToggleElement\", \"arrow\");\n\t\tthis.registerTableOption(\"groupClosedShowCalcs\", false);\n\t\t\n\t\t//register table functions\n\t\tthis.registerTableFunction(\"setGroupBy\", this.setGroupBy.bind(this));\n\t\tthis.registerTableFunction(\"setGroupValues\", this.setGroupValues.bind(this));\n\t\tthis.registerTableFunction(\"setGroupStartOpen\", this.setGroupStartOpen.bind(this));\n\t\tthis.registerTableFunction(\"setGroupHeader\", this.setGroupHeader.bind(this));\n\t\tthis.registerTableFunction(\"getGroups\", this.userGetGroups.bind(this));\n\t\tthis.registerTableFunction(\"getGroupedData\", this.userGetGroupedData.bind(this));\n\t\t\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"getGroup\", this.rowGetGroup.bind(this));\n\t}\n\t\n\t//initialize group configuration\n\tinitialize(){\n\t\tthis.subscribe(\"table-destroy\", this._blockRedrawing.bind(this));\n\t\tthis.subscribe(\"rows-wipe\", this._blockRedrawing.bind(this));\n\t\tthis.subscribe(\"rows-wiped\", this._restore_redrawing.bind(this));\n\n\t\tif(this.table.options.groupBy){\n\t\t\tif(this.table.options.groupUpdateOnCellEdit){\n\t\t\t\tthis.subscribe(\"cell-value-updated\", this.cellUpdated.bind(this));\n\t\t\t\tthis.subscribe(\"row-data-changed\", this.reassignRowToGroup.bind(this), 0);\n\t\t\t}\n\t\t\t\n\t\t\tthis.subscribe(\"table-built\", this.configureGroupSetup.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"row-deleting\", this.rowDeleting.bind(this));\n\t\t\tthis.subscribe(\"row-deleted\", this.rowsUpdated.bind(this));\n\t\t\tthis.subscribe(\"scroll-horizontal\", this.scrollHeaders.bind(this));\n\t\t\tthis.subscribe(\"rows-wipe\", this.wipe.bind(this));\n\t\t\tthis.subscribe(\"rows-added\", this.rowsUpdated.bind(this));\n\t\t\tthis.subscribe(\"row-moving\", this.rowMoving.bind(this));\n\t\t\tthis.subscribe(\"row-adding-index\", this.rowAddingIndex.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"rows-sample\", this.rowSample.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"render-virtual-fill\", this.virtualRenderFill.bind(this));\n\t\t\t\n\t\t\tthis.registerDisplayHandler(this.displayHandler, 20);\n\t\t\t\n\t\t\tthis.initialized = true;\n\t\t}\n\t}\n\t\n\t_blockRedrawing(){\n\t\tthis.blockRedraw = true;\n\t}\n\n\t_restore_redrawing(){\n\t\tthis.blockRedraw = false;\n\t}\n\n\tconfigureGroupSetup(){\n\t\tif(this.table.options.groupBy){\n\t\t\tvar groupBy = this.table.options.groupBy,\n\t\t\tstartOpen = this.table.options.groupStartOpen,\n\t\t\tgroupHeader = this.table.options.groupHeader;\n\t\t\t\n\t\t\tthis.allowedValues = this.table.options.groupValues;\n\t\t\t\n\t\t\tif(Array.isArray(groupBy) && Array.isArray(groupHeader) && groupBy.length > groupHeader.length){\n\t\t\t\tconsole.warn(\"Error creating group headers, groupHeader array is shorter than groupBy array\");\n\t\t\t}\n\t\t\t\n\t\t\tthis.headerGenerator = [function(){return \"\";}];\n\t\t\tthis.startOpen = [function(){return false;}]; //starting state of group\n\t\t\t\n\t\t\tthis.langBind(\"groups|item\", (langValue, lang) => {\n\t\t\t\tthis.headerGenerator[0] = (value, count, data) => { //header layout function\n\t\t\t\t\treturn (typeof value === \"undefined\" ? \"\" : value) + \"<span>(\" + count + \" \" + ((count === 1) ? langValue : lang.groups.items) + \")</span>\";\n\t\t\t\t};\n\t\t\t});\n\t\t\t\n\t\t\tthis.groupIDLookups = [];\n\t\t\t\n\t\t\tif(groupBy){\n\t\t\t\tif(this.table.modExists(\"columnCalcs\") && this.table.options.columnCalcs != \"table\" && this.table.options.columnCalcs != \"both\"){\n\t\t\t\t\tthis.table.modules.columnCalcs.removeCalcs();\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(this.table.modExists(\"columnCalcs\") && this.table.options.columnCalcs != \"group\"){\n\t\t\t\t\t\n\t\t\t\t\tvar cols = this.table.columnManager.getRealColumns();\n\t\t\t\t\t\n\t\t\t\t\tcols.forEach((col) => {\n\t\t\t\t\t\tif(col.definition.topCalc){\n\t\t\t\t\t\t\tthis.table.modules.columnCalcs.initializeTopRow();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(col.definition.bottomCalc){\n\t\t\t\t\t\t\tthis.table.modules.columnCalcs.initializeBottomRow();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(!Array.isArray(groupBy)){\n\t\t\t\tgroupBy = [groupBy];\n\t\t\t}\n\t\t\t\n\t\t\tgroupBy.forEach((group, i) => {\n\t\t\t\tvar lookupFunc, column;\n\t\t\t\t\n\t\t\t\tif(typeof group == \"function\"){\n\t\t\t\t\tlookupFunc = group;\n\t\t\t\t}else{\n\t\t\t\t\tcolumn = this.table.columnManager.getColumnByField(group);\n\t\t\t\t\t\n\t\t\t\t\tif(column){\n\t\t\t\t\t\tlookupFunc = function(data){\n\t\t\t\t\t\t\treturn column.getFieldValue(data);\n\t\t\t\t\t\t};\n\t\t\t\t\t}else{\n\t\t\t\t\t\tlookupFunc = function(data){\n\t\t\t\t\t\t\treturn data[group];\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.groupIDLookups.push({\n\t\t\t\t\tfield: typeof group === \"function\" ? false : group,\n\t\t\t\t\tfunc:lookupFunc,\n\t\t\t\t\tvalues:this.allowedValues ? this.allowedValues[i] : false,\n\t\t\t\t});\n\t\t\t});\n\t\t\t\n\t\t\tif(startOpen){\n\t\t\t\tif(!Array.isArray(startOpen)){\n\t\t\t\t\tstartOpen = [startOpen];\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tstartOpen.forEach((level) => {\n\t\t\t\t\tlevel = typeof level == \"function\" ? level : function(){return true;};\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.startOpen = startOpen;\n\t\t\t}\n\t\t\t\n\t\t\tif(groupHeader){\n\t\t\t\tthis.headerGenerator = Array.isArray(groupHeader) ? groupHeader : [groupHeader];\n\t\t\t}\n\t\t}else{\n\t\t\tthis.groupList = [];\n\t\t\tthis.groups = {};\n\t\t}\n\t}\n\t\n\trowSample(rows, prevValue){\n\t\tif(this.table.options.groupBy){\n\t\t\tvar group = this.getGroups(false)[0];\n\t\t\t\n\t\t\tprevValue.push(group.getRows(false)[0]);\n\t\t}\n\t\t\n\t\treturn prevValue;\n\t}\n\t\n\tvirtualRenderFill(){\n\t\tvar el = this.table.rowManager.tableElement;\n\t\tvar rows = this.table.rowManager.getVisibleRows();\n\t\t\n\t\tif(this.table.options.groupBy){\n\t\t\trows = rows.filter((row) => {\n\t\t\t\treturn row.type !== \"group\";\n\t\t\t});\n\t\t\t\n\t\t\tel.style.minWidth = !rows.length ? this.table.columnManager.getWidth() + \"px\" : \"\";\n\t\t}else{\n\t\t\treturn rows;\n\t\t}\n\t}\n\t\n\trowAddingIndex(row, index, top){\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.assignRowToGroup(row);\n\t\t\t\n\t\t\tvar groupRows = row.modules.group.rows;\n\t\t\t\n\t\t\tif(groupRows.length > 1){\n\t\t\t\tif(!index || (index && groupRows.indexOf(index) == -1)){\n\t\t\t\t\tif(top){\n\t\t\t\t\t\tif(groupRows[0] !== row){\n\t\t\t\t\t\t\tindex = groupRows[0];\n\t\t\t\t\t\t\tthis.table.rowManager.moveRowInArray(row.modules.group.rows, row, index, !top);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(groupRows[groupRows.length -1] !== row){\n\t\t\t\t\t\t\tindex = groupRows[groupRows.length -1];\n\t\t\t\t\t\t\tthis.table.rowManager.moveRowInArray(row.modules.group.rows, row, index, !top);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tthis.table.rowManager.moveRowInArray(row.modules.group.rows, row, index, !top);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn index;\n\t\t}\n\t}\n\t\n\ttrackChanges(){\n\t\tthis.dispatch(\"group-changed\");\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\t\n\tsetGroupBy(groups){\n\t\tthis.table.options.groupBy = groups;\n\t\t\n\t\tif(!this.initialized){\n\t\t\tthis.initialize();\n\t\t}\n\t\t\n\t\tthis.configureGroupSetup();\n\n\t\tif(!groups && this.table.modExists(\"columnCalcs\") && this.table.options.columnCalcs === true){\n\t\t\tthis.table.modules.columnCalcs.reinitializeCalcs();\n\t\t}\n\t\t\n\t\tthis.refreshData();\n\t\t\n\t\tthis.trackChanges();\n\t}\n\t\n\tsetGroupValues(groupValues){\n\t\tthis.table.options.groupValues = groupValues;\n\t\tthis.configureGroupSetup();\n\t\tthis.refreshData();\n\t\t\n\t\tthis.trackChanges();\n\t}\n\t\n\tsetGroupStartOpen(values){\n\t\tthis.table.options.groupStartOpen = values;\n\t\tthis.configureGroupSetup();\n\t\t\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.refreshData();\n\t\t\t\n\t\t\tthis.trackChanges();\n\t\t}else{\n\t\t\tconsole.warn(\"Grouping Update - cant refresh view, no groups have been set\");\n\t\t}\n\t}\n\t\n\tsetGroupHeader(values){\n\t\tthis.table.options.groupHeader = values;\n\t\tthis.configureGroupSetup();\n\t\t\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.refreshData();\n\t\t\t\n\t\t\tthis.trackChanges();\n\t\t}else{\n\t\t\tconsole.warn(\"Grouping Update - cant refresh view, no groups have been set\");\n\t\t}\n\t}\n\t\n\tuserGetGroups(values){\n\t\treturn this.getGroups(true);\n\t}\n\t\n\t// get grouped table data in the same format as getData()\n\tuserGetGroupedData(){\n\t\treturn this.table.options.groupBy ? this.getGroupedData() : this.getData();\n\t}\n\t\n\t\n\t///////////////////////////////////////\n\t///////// Component Functions /////////\n\t///////////////////////////////////////\n\t\n\trowGetGroup(row){\n\t\treturn row.modules.group ? row.modules.group.getComponent() : false;\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\trowMoving(from, to, after){\n\t\tif(this.table.options.groupBy){\n\t\t\tif(!after && to instanceof Group){\n\t\t\t\tto = this.table.rowManager.prevDisplayRow(from) || to;\n\t\t\t}\n\t\t\t\n\t\t\tvar toGroup = to instanceof Group ? to : to.modules.group;\n\t\t\tvar fromGroup = from instanceof Group ? from : from.modules.group;\n\t\t\t\n\t\t\tif(toGroup === fromGroup){\n\t\t\t\tthis.table.rowManager.moveRowInArray(toGroup.rows, from, to, after);\n\t\t\t}else{\n\t\t\t\tif(fromGroup){\n\t\t\t\t\tfromGroup.removeRow(from);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\ttoGroup.insertRow(from, to, after);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t\n\trowDeleting(row){\n\t\t//remove from group\n\t\tif(this.table.options.groupBy && row.modules.group){\n\t\t\trow.modules.group.removeRow(row);\n\t\t}\n\t}\n\t\n\trowsUpdated(row){\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.updateGroupRows(true);\n\t\t}\t\n\t}\n\t\n\tcellUpdated(cell){\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.reassignRowToGroup(cell.row);\n\t\t}\n\t}\n\t\n\t//return appropriate rows with group headers\n\tgetRows(rows){\n\t\tif(this.table.options.groupBy && this.groupIDLookups.length){\n\t\t\t\n\t\t\tthis.dispatchExternal(\"dataGrouping\");\n\t\t\t\n\t\t\tthis.generateGroups(rows);\n\t\t\t\n\t\t\tif(this.subscribedExternal(\"dataGrouped\")){\n\t\t\t\tthis.dispatchExternal(\"dataGrouped\", this.getGroups(true));\n\t\t\t}\n\t\t\t\n\t\t\treturn this.updateGroupRows();\n\t\t\t\n\t\t}else{\n\t\t\treturn rows.slice(0);\n\t\t}\n\t}\n\t\n\tgetGroups(component){\n\t\tvar groupComponents = [];\n\t\t\n\t\tthis.groupList.forEach(function(group){\n\t\t\tgroupComponents.push(component ? group.getComponent() : group);\n\t\t});\n\t\t\n\t\treturn groupComponents;\n\t}\n\t\n\tgetChildGroups(group){\n\t\tvar groupComponents = [];\n\t\t\n\t\tif(!group){\n\t\t\tgroup = this;\n\t\t}\n\t\t\n\t\tgroup.groupList.forEach((child) => {\n\t\t\tif(child.groupList.length){\n\t\t\t\tgroupComponents = groupComponents.concat(this.getChildGroups(child));\n\t\t\t}else{\n\t\t\t\tgroupComponents.push(child);\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn groupComponents;\n\t}\n\t\n\twipe(){\n\t\tif(this.table.options.groupBy){\n\t\t\tthis.groupList.forEach(function(group){\n\t\t\t\tgroup.wipe();\n\t\t\t});\n\t\t\t\n\t\t\tthis.groupList = [];\n\t\t\tthis.groups = {};\n\t\t}\n\t}\n\t\n\tpullGroupListData(groupList) {\n\t\tvar groupListData = [];\n\t\t\n\t\tgroupList.forEach((group) => {\n\t\t\tvar groupHeader = {};\n\t\t\tgroupHeader.level = 0;\n\t\t\tgroupHeader.rowCount = 0;\n\t\t\tgroupHeader.headerContent = \"\";\n\t\t\tvar childData = [];\n\t\t\t\n\t\t\tif (group.hasSubGroups) {\n\t\t\t\tchildData = this.pullGroupListData(group.groupList);\n\t\t\t\t\n\t\t\t\tgroupHeader.level = group.level;\n\t\t\t\tgroupHeader.rowCount = childData.length - group.groupList.length; // data length minus number of sub-headers\n\t\t\t\tgroupHeader.headerContent = group.generator(group.key, groupHeader.rowCount, group.rows, group);\n\t\t\t\t\n\t\t\t\tgroupListData.push(groupHeader);\n\t\t\t\tgroupListData = groupListData.concat(childData);\n\t\t\t}\n\t\t\t\n\t\t\telse {\n\t\t\t\tgroupHeader.level = group.level;\n\t\t\t\tgroupHeader.headerContent = group.generator(group.key, group.rows.length, group.rows, group);\n\t\t\t\tgroupHeader.rowCount = group.getRows().length;\n\t\t\t\t\n\t\t\t\tgroupListData.push(groupHeader);\n\t\t\t\t\n\t\t\t\tgroup.getRows().forEach((row) => {\n\t\t\t\t\tgroupListData.push(row.getData(\"data\"));\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn groupListData;\n\t}\n\t\n\tgetGroupedData(){\n\t\t\n\t\treturn this.pullGroupListData(this.groupList);\n\t}\n\t\n\tgetRowGroup(row){\n\t\tvar match = false;\n\t\t\n\t\tif(this.options(\"dataTree\")){\n\t\t\trow = this.table.modules.dataTree.getTreeParentRoot(row);\n\t\t}\n\t\t\n\t\tthis.groupList.forEach((group) => {\n\t\t\tvar result = group.getRowGroup(row);\n\t\t\t\n\t\t\tif(result){\n\t\t\t\tmatch = result;\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn match;\n\t}\n\t\n\tcountGroups(){\n\t\treturn this.groupList.length;\n\t}\n\t\n\tgenerateGroups(rows){\n\t\tvar oldGroups = this.groups;\n\t\t\n\t\tthis.groups = {};\n\t\tthis.groupList = [];\n\t\t\n\t\tif(this.allowedValues && this.allowedValues[0]){\n\t\t\tthis.allowedValues[0].forEach((value) => {\n\t\t\t\tthis.createGroup(value, 0, oldGroups);\n\t\t\t});\n\t\t\t\n\t\t\trows.forEach((row) => {\n\t\t\t\tthis.assignRowToExistingGroup(row, oldGroups);\n\t\t\t});\n\t\t}else{\n\t\t\trows.forEach((row) => {\n\t\t\t\tthis.assignRowToGroup(row, oldGroups);\n\t\t\t});\n\t\t}\n\t\t\n\t\tObject.values(oldGroups).forEach((group) => {\n\t\t\tgroup.wipe(true);\n\t\t});\t\n\t}\n\t\n\t\n\tcreateGroup(groupID, level, oldGroups){\n\t\tvar groupKey = level + \"_\" + groupID,\n\t\tgroup;\n\t\t\n\t\toldGroups = oldGroups || [];\n\t\t\n\t\tgroup = new Group(this, false, level, groupID, this.groupIDLookups[0].field, this.headerGenerator[0], oldGroups[groupKey]);\n\t\t\n\t\tthis.groups[groupKey] = group;\n\t\tthis.groupList.push(group);\n\t}\n\t\n\tassignRowToExistingGroup(row, oldGroups){\n\t\tvar groupID = this.groupIDLookups[0].func(row.getData()),\n\t\tgroupKey = \"0_\" + groupID;\n\t\t\n\t\tif(this.groups[groupKey]){\n\t\t\tthis.groups[groupKey].addRow(row);\n\t\t}\n\t}\n\t\n\tassignRowToGroup(row, oldGroups){\n\t\tvar groupID = this.groupIDLookups[0].func(row.getData()),\n\t\tnewGroupNeeded = !this.groups[\"0_\" + groupID];\n\t\t\n\t\tif(newGroupNeeded){\n\t\t\tthis.createGroup(groupID, 0, oldGroups);\n\t\t}\n\t\t\n\t\tthis.groups[\"0_\" + groupID].addRow(row);\n\t\t\n\t\treturn !newGroupNeeded;\n\t}\n\t\n\treassignRowToGroup(row){\n\t\tif(row.type === \"row\"){\n\t\t\tvar oldRowGroup = row.modules.group,\n\t\t\toldGroupPath = oldRowGroup.getPath(),\n\t\t\tnewGroupPath = this.getExpectedPath(row),\n\t\t\tsamePath;\n\t\t\t\n\t\t\t// figure out if new group path is the same as old group path\n\t\t\tsamePath = (oldGroupPath.length == newGroupPath.length) && oldGroupPath.every((element, index) => {\n\t\t\t\treturn element === newGroupPath[index];\n\t\t\t});\n\t\t\t\n\t\t\t// refresh if they new path and old path aren't the same (aka the row's groupings have changed)\n\t\t\tif(!samePath) {\n\t\t\t\toldRowGroup.removeRow(row);\n\t\t\t\tthis.assignRowToGroup(row, this.groups);\n\t\t\t\tthis.refreshData(true);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tgetExpectedPath(row) {\n\t\tvar groupPath = [], rowData = row.getData();\n\t\t\n\t\tthis.groupIDLookups.forEach((groupId) => {\n\t\t\tgroupPath.push(groupId.func(rowData));\n\t\t});\n\t\t\n\t\treturn groupPath;\n\t}\n\t\n\tupdateGroupRows(force){\n\t\tvar output = [];\n\n\t\tif(!this.blockRedraw){\n\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\toutput = output.concat(group.getHeadersAndRows());\n\t\t\t});\n\t\t\t\n\t\t\tif(force){\n\t\t\t\tthis.refreshData(true);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n\t\n\tscrollHeaders(left){\n\t\tif(this.table.options.groupBy){\n\t\t\tif(this.table.options.renderHorizontal === \"virtual\"){\n\t\t\t\tleft -= this.table.columnManager.renderer.vDomPadLeft;\n\t\t\t}\n\t\t\t\n\t\t\tleft = left + \"px\";\n\t\t\t\n\t\t\tthis.groupList.forEach((group) => {\n\t\t\t\tgroup.scrollHeader(left);\n\t\t\t});\n\t\t}\n\t}\n\t\n\tremoveGroup(group){\n\t\tvar groupKey = group.level + \"_\" + group.key,\n\t\tindex;\n\t\t\n\t\tif(this.groups[groupKey]){\n\t\t\tdelete this.groups[groupKey];\n\t\t\t\n\t\t\tindex = this.groupList.indexOf(group);\n\t\t\t\n\t\t\tif(index > -1){\n\t\t\t\tthis.groupList.splice(index, 1);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcheckBasicModeGroupHeaderWidth(){\n\t\tvar element = this.table.rowManager.tableElement,\n\t\tonlyGroupHeaders = true;\n\t\t\n\t\tthis.table.rowManager.getDisplayRows().forEach((row, index) =>{\n\t\t\tthis.table.rowManager.styleRow(row, index);\n\t\t\telement.appendChild(row.getElement());\n\t\t\trow.initialize(true);\n\t\t\t\n\t\t\tif(row.type !== \"group\"){\n\t\t\t\tonlyGroupHeaders = false;\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(onlyGroupHeaders){\n\t\t\telement.style.minWidth = this.table.columnManager.getWidth() + \"px\";\n\t\t}else{\n\t\t\telement.style.minWidth = \"\";\n\t\t}\n\t}\n\t\n}\n\nGroupRows.moduleName = \"groupRows\";\n\nexport default GroupRows;","export default {\n\tcellEdit: function(action){\n\t\taction.component.setValueProcessData(action.data.oldValue);\n\t\taction.component.cellRendered();\n\t},\n\n\trowAdd: function(action){\n\t\taction.component.deleteActual();\n\t},\n\n\trowDelete: function(action){\n\t\tvar newRow = this.table.rowManager.addRowActual(action.data.data, action.data.pos, action.data.index);\n\n\t\tif(this.table.options.groupBy && this.table.modExists(\"groupRows\")){\n\t\t\tthis.table.modules.groupRows.updateGroupRows(true);\n\t\t}\n\n\t\tthis._rebindRow(action.component, newRow);\n\t},\n\n\trowMove: function(action){\n\t\tthis.table.rowManager.moveRowActual(action.component, this.table.rowManager.rows[action.data.posFrom], !action.data.after);\n\t\tthis.table.rowManager.redraw();\n\t},\n};","import Module from '../../core/Module.js';\nimport Row from '../../core/row/Row.js';\nimport Cell from '../../core/cell/Cell.js';\n\nimport defaultUndoers from './defaults/undoers.js';\nimport defaultRedoers from './defaults/redoers.js';\n\nclass History extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.history = [];\n\t\tthis.index = -1;\n\n\t\tthis.registerTableOption(\"history\", false); //enable edit history\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.history){\n\t\t\tthis.subscribe(\"cell-value-updated\", this.cellUpdated.bind(this));\n\t\t\tthis.subscribe(\"cell-delete\", this.clearComponentHistory.bind(this));\n\t\t\tthis.subscribe(\"row-delete\", this.rowDeleted.bind(this));\n\t\t\tthis.subscribe(\"rows-wipe\", this.clear.bind(this));\n\t\t\tthis.subscribe(\"row-added\", this.rowAdded.bind(this));\n\t\t\tthis.subscribe(\"row-move\", this.rowMoved.bind(this));\n\t\t}\n\n\t\tthis.registerTableFunction(\"undo\", this.undo.bind(this));\n\t\tthis.registerTableFunction(\"redo\", this.redo.bind(this));\n\t\tthis.registerTableFunction(\"getHistoryUndoSize\", this.getHistoryUndoSize.bind(this));\n\t\tthis.registerTableFunction(\"getHistoryRedoSize\", this.getHistoryRedoSize.bind(this));\n\t\tthis.registerTableFunction(\"clearHistory\", this.clear.bind(this));\n\t}\n\n\trowMoved(from, to, after){\n\t\tthis.action(\"rowMove\", from, {posFrom:from.getPosition(), posTo:to.getPosition(), to:to, after:after});\n\t}\n\n\trowAdded(row, data, pos, index){\n\t\tthis.action(\"rowAdd\", row, {data:data, pos:pos, index:index});\n\t}\n\n\trowDeleted(row){\n\t\tvar index, rows;\n\n\t\tif(this.table.options.groupBy){\n\n\t\t\trows = row.getComponent().getGroup()._getSelf().rows;\n\t\t\tindex = rows.indexOf(row);\n\n\t\t\tif(index){\n\t\t\t\tindex = rows[index-1];\n\t\t\t}\n\t\t}else{\n\t\t\tindex = row.table.rowManager.getRowIndex(row);\n\n\t\t\tif(index){\n\t\t\t\tindex = row.table.rowManager.rows[index-1];\n\t\t\t}\n\t\t}\n\n\t\tthis.action(\"rowDelete\", row, {data:row.getData(), pos:!index, index:index});\n\t}\n\n\tcellUpdated(cell){\n\t\tthis.action(\"cellEdit\", cell, {oldValue:cell.oldValue, newValue:cell.value});\n\t}\n\n\tclear(){\n\t\tthis.history = [];\n\t\tthis.index = -1;\n\t}\n\n\taction(type, component, data){\n\t\tthis.history = this.history.slice(0, this.index + 1);\n\n\t\tthis.history.push({\n\t\t\ttype:type,\n\t\t\tcomponent:component,\n\t\t\tdata:data,\n\t\t});\n\n\t\tthis.index ++;\n\t}\n\n\tgetHistoryUndoSize(){\n\t\treturn this.index + 1;\n\t}\n\n\tgetHistoryRedoSize(){\n\t\treturn this.history.length - (this.index + 1);\n\t}\n\n\tclearComponentHistory(component){\n\t\tvar index = this.history.findIndex(function(item){\n\t\t\treturn item.component === component;\n\t\t});\n\n\t\tif(index > -1){\n\t\t\tthis.history.splice(index, 1);\n\t\t\tif(index <= this.index){\n\t\t\t\tthis.index--;\n\t\t\t}\n\n\t\t\tthis.clearComponentHistory(component);\n\t\t}\n\t}\n\n\tundo(){\n\t\tif(this.index > -1){\n\t\t\tlet action = this.history[this.index];\n\n\t\t\tHistory.undoers[action.type].call(this, action);\n\n\t\t\tthis.index--;\n\n\t\t\tthis.dispatchExternal(\"historyUndo\", action.type, action.component.getComponent(), action.data);\n\n\t\t\treturn true;\n\t\t}else{\n\t\t\tconsole.warn(\"History Undo Error - No more history to undo\");\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tredo(){\n\t\tif(this.history.length-1 > this.index){\n\n\t\t\tthis.index++;\n\n\t\t\tlet action = this.history[this.index];\n\n\t\t\tHistory.redoers[action.type].call(this, action);\n\n\t\t\tthis.dispatchExternal(\"historyRedo\", action.type, action.component.getComponent(), action.data);\n\n\t\t\treturn true;\n\t\t}else{\n\t\t\tconsole.warn(\"History Redo Error - No more history to redo\");\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//rebind rows to new element after deletion\n\t_rebindRow(oldRow, newRow){\n\t\tthis.history.forEach(function(action){\n\t\t\tif(action.component instanceof Row){\n\t\t\t\tif(action.component === oldRow){\n\t\t\t\t\taction.component = newRow;\n\t\t\t\t}\n\t\t\t}else if(action.component instanceof Cell){\n\t\t\t\tif(action.component.row === oldRow){\n\t\t\t\t\tvar field = action.component.column.getField();\n\n\t\t\t\t\tif(field){\n\t\t\t\t\t\taction.component = newRow.getCell(field);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\nHistory.moduleName = \"history\";\n\n//load defaults\nHistory.undoers = defaultUndoers;\nHistory.redoers = defaultRedoers;\n\nexport default History;","export default {\n\tcellEdit: function(action){\n\t\taction.component.setValueProcessData(action.data.newValue);\n\t\taction.component.cellRendered();\n\t},\n\n\trowAdd: function(action){\n\t\tvar newRow = this.table.rowManager.addRowActual(action.data.data, action.data.pos, action.data.index);\n\n\t\tif(this.table.options.groupBy && this.table.modExists(\"groupRows\")){\n\t\t\tthis.table.modules.groupRows.updateGroupRows(true);\n\t\t}\n\n\t\tthis._rebindRow(action.component, newRow);\n\t},\n\n\trowDelete:function(action){\n\t\taction.component.deleteActual();\n\t},\n\n\trowMove: function(action){\n\t\tthis.table.rowManager.moveRowActual(action.component, this.table.rowManager.rows[action.data.posTo], action.data.after);\n\t\tthis.table.rowManager.redraw();\n\t},\n};","import Module from '../../core/Module.js';\n\nclass HtmlTableImport extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.fieldIndex = [];\n\t\tthis.hasIndex = false;\n\t}\n\n\tinitialize(){\n\t\tthis.tableElementCheck();\n\t}\n\n\ttableElementCheck(){\n\t\tif(this.table.originalElement && this.table.originalElement.tagName === \"TABLE\"){\n\t\t\tif(this.table.originalElement.childNodes.length){\n\t\t\t\tthis.parseTable();\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Unable to parse data from empty table tag, Tabulator should be initialized on a div tag unless importing data from a table element.\");\n\t\t\t}\n\t\t}\n\t}\n\n\tparseTable(){\n\t\tvar element = this.table.originalElement,\n\t\toptions = this.table.options,\n\t\theaders = element.getElementsByTagName(\"th\"),\n\t\trows = element.getElementsByTagName(\"tbody\")[0],\n\t\tdata = [];\n\n\t\tthis.hasIndex = false;\n\n\t\tthis.dispatchExternal(\"htmlImporting\");\n\n\t\trows = rows ? rows.getElementsByTagName(\"tr\") : [];\n\n\t\t//check for Tabulator inline options\n\t\tthis._extractOptions(element, options);\n\n\t\tif(headers.length){\n\t\t\tthis._extractHeaders(headers, rows);\n\t\t}else{\n\t\t\tthis._generateBlankHeaders(headers, rows);\n\t\t}\n\n\t\t//iterate through table rows and build data set\n\t\tfor(var index = 0; index < rows.length; index++){\n\t\t\tvar row = rows[index],\n\t\t\tcells = row.getElementsByTagName(\"td\"),\n\t\t\titem = {};\n\n\t\t\t//create index if the don't exist in table\n\t\t\tif(!this.hasIndex){\n\t\t\t\titem[options.index] = index;\n\t\t\t}\n\n\t\t\tfor(var i = 0; i < cells.length; i++){\n\t\t\t\tvar cell = cells[i];\n\t\t\t\tif(typeof this.fieldIndex[i] !== \"undefined\"){\n\t\t\t\t\titem[this.fieldIndex[i]] = cell.innerHTML;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//add row data to item\n\t\t\tdata.push(item);\n\t\t}\n\n\t\toptions.data = data;\n\n\t\tthis.dispatchExternal(\"htmlImported\");\n\t}\n\n\t//extract tabulator attribute options\n\t_extractOptions(element, options, defaultOptions){\n\t\tvar attributes = element.attributes;\n\t\tvar optionsArr = defaultOptions ? Object.keys(defaultOptions) : Object.keys(options);\n\t\tvar optionsList = {};\n\n\t\toptionsArr.forEach((item) => {\n\t\t\toptionsList[item.toLowerCase()] = item;\n\t\t});\n\n\t\tfor(var index in attributes){\n\t\t\tvar attrib = attributes[index];\n\t\t\tvar name;\n\n\t\t\tif(attrib && typeof attrib == \"object\" && attrib.name && attrib.name.indexOf(\"tabulator-\") === 0){\n\t\t\t\tname = attrib.name.replace(\"tabulator-\", \"\");\n\n\t\t\t\tif(typeof optionsList[name] !== \"undefined\"){\n\t\t\t\t\toptions[optionsList[name]] = this._attribValue(attrib.value);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t//get value of attribute\n\t_attribValue(value){\n\t\tif(value === \"true\"){\n\t\t\treturn true;\n\t\t}\n\n\t\tif(value === \"false\"){\n\t\t\treturn false;\n\t\t}\n\n\t\treturn value;\n\t}\n\n\t//find column if it has already been defined\n\t_findCol(title){\n\t\tvar match = this.table.options.columns.find((column) => {\n\t\t\treturn column.title === title;\n\t\t});\n\n\t\treturn match || false;\n\t}\n\n\t//extract column from headers\n\t_extractHeaders(headers, rows){\n\t\tfor(var index = 0; index < headers.length; index++){\n\t\t\tvar header = headers[index],\n\t\t\texists = false,\n\t\t\tcol = this._findCol(header.textContent),\n\t\t\twidth;\n\n\t\t\tif(col){\n\t\t\t\texists = true;\n\t\t\t}else{\n\t\t\t\tcol = {title:header.textContent.trim()};\n\t\t\t}\n\n\t\t\tif(!col.field) {\n\t\t\t\tcol.field = header.textContent.trim().toLowerCase().replace(\" \", \"_\");\n\t\t\t}\n\n\t\t\twidth = header.getAttribute(\"width\");\n\n\t\t\tif(width && !col.width)\t{\n\t\t\t\tcol.width = width;\n\t\t\t}\n\n\t\t\t//check for Tabulator inline options\n\t\t\tthis._extractOptions(header, col, this.table.columnManager.optionsList.registeredDefaults);\n\n\t\t\tthis.fieldIndex[index] = col.field;\n\n\t\t\tif(col.field == this.table.options.index){\n\t\t\t\tthis.hasIndex = true;\n\t\t\t}\n\n\t\t\tif(!exists){\n\t\t\t\tthis.table.options.columns.push(col);\n\t\t\t}\n\n\t\t}\n\t}\n\n\t//generate blank headers\n\t_generateBlankHeaders(headers, rows){\n\t\tfor(var index = 0; index < headers.length; index++){\n\t\t\tvar header = headers[index],\n\t\t\tcol = {title:\"\", field:\"col\" + index};\n\n\t\t\tthis.fieldIndex[index] = col.field;\n\n\t\t\tvar width = header.getAttribute(\"width\");\n\n\t\t\tif(width){\n\t\t\t\tcol.width = width;\n\t\t\t}\n\n\t\t\tthis.table.options.columns.push(col);\n\t\t}\n\t}\n}\n\nHtmlTableImport.moduleName = \"htmlTableImport\";\n\nexport default HtmlTableImport;","import csv from './importers/csv.js';\nimport json from './importers/json.js';\nimport array from './importers/array.js';\n\nexport default {\n\tcsv:csv,\n\tjson:json,\n\tarray:array,\n};","function csvImporter(input){\n\tvar data = [],\n\trow = 0, \n\tcol = 0,\n\tinQuote = false;\n    \n\t//Iterate over each character\n\tfor (let index = 0; index < input.length; index++) {\n\t\tlet char = input[index], \n\t\tnextChar = input[index+1];      \n        \n\t\t//Initialize empty row\n\t\tif(!data[row]){\n\t\t\tdata[row] = [];\n\t\t}\n\n\t\t//Initialize empty column\n\t\tif(!data[row][col]){\n\t\t\tdata[row][col] = \"\";\n\t\t}\n        \n\t\t//Handle quotation mark inside string\n\t\tif (char == '\"' && inQuote && nextChar == '\"') { \n\t\t\tdata[row][col] += char; \n\t\t\tindex++;\n\t\t\tcontinue; \n\t\t}\n        \n\t\t//Begin / End Quote\n\t\tif (char == '\"') { \n\t\t\tinQuote = !inQuote;\n\t\t\tcontinue;\n\t\t}\n        \n\t\t//Next column (if not in quote)\n\t\tif (char == ',' && !inQuote) { \n\t\t\tcol++;\n\t\t\tcontinue; \n\t\t}\n        \n\t\t//New row if new line and not in quote (CRLF) \n\t\tif (char == '\\r' && nextChar == '\\n' && !inQuote) { \n\t\t\tcol = 0; \n\t\t\trow++; \n\t\t\tindex++; \n\t\t\tcontinue; \n\t\t}\n        \n\t\t//New row if new line and not in quote (CR or LF) \n\t\tif ((char == '\\r' || char == '\\n') && !inQuote) { \n\t\t\tcol = 0;\n\t\t\trow++;\n\t\t\tcontinue; \n\t\t}\n\n\t\t//Normal Character, append to column\n\t\tdata[row][col] += char;\n\t}\n\n\treturn data;\n}\n\nexport default csvImporter;","export default function(input){\n\ttry {\n\t\treturn JSON.parse(input);\n\t} catch(e) {\n\t\tconsole.warn(\"JSON Import Error - File contents is invalid JSON\", e);\n\t\treturn Promise.reject();\n\t}\n}","function arrayImporter(input){\n\treturn input;\n}\n\nexport default arrayImporter;","import Module from '../../core/Module.js';\n\nimport defaultImporters from './defaults/importers.js';\n\nclass Import extends Module{\n    \n\tconstructor(table){\n\t\tsuper(table);\n        \n\t\tthis.registerTableOption(\"importFormat\");\n\t\tthis.registerTableOption(\"importReader\", \"text\");\n\t}\n    \n\tinitialize(){\n\t\tthis.registerTableFunction(\"import\", this.importFromFile.bind(this));\n\n\t\tif(this.table.options.importFormat){\n\t\t\tthis.subscribe(\"data-loading\", this.loadDataCheck.bind(this), 10);\n\t\t\tthis.subscribe(\"data-load\", this.loadData.bind(this), 10);\n\t\t}\n\t}\n\n\tloadDataCheck(data){\n\t\treturn this.table.options.importFormat && (typeof data === \"string\" || (Array.isArray(data) && data.length && Array.isArray(data)));\n\t}\n\n\tloadData(data, params, config, silent, previousData){\n\t\treturn this.importData(this.lookupImporter(), data)\n\t\t\t.then(this.structureData.bind(this))\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.error(\"Import Error:\", err || \"Unable to import data\");\n\t\t\t\treturn Promise.reject(err);\n\t\t\t});\n\t}\n\n\tlookupImporter(importFormat){\n\t\tvar importer;\n        \n\t\tif(!importFormat){\n\t\t\timportFormat = this.table.options.importFormat;\n\t\t}\n        \n\t\tif(typeof importFormat === \"string\"){\n\t\t\timporter = Import.importers[importFormat];\n\t\t}else{\n\t\t\timporter = importFormat;\n\t\t}\n\n\t\tif(!importer){\n\t\t\tconsole.error(\"Import Error - Importer not found:\", importFormat);\n\t\t}\n        \n\t\treturn importer;\n\t}\n    \n\timportFromFile(importFormat, extension){\n\t\tvar importer = this.lookupImporter(importFormat);\n        \n\t\tif(importer){\n\t\t\treturn this.pickFile(extension)\n\t\t\t\t.then(this.importData.bind(this, importer))\n\t\t\t\t.then(this.structureData.bind(this))\n\t\t\t\t.then(this.setData.bind(this))\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tconsole.error(\"Import Error:\", err || \"Unable to import file\");\n\t\t\t\t\treturn Promise.reject(err);\n\t\t\t\t});\n\t\t}\n\t}\n    \n\tpickFile(extensions){\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tvar input = document.createElement(\"input\");\n\t\t\tinput.type = \"file\";\n\t\t\tinput.accept = extensions;\n            \n\t\t\tinput.addEventListener(\"change\", (e) => {\n\t\t\t\tvar file = input.files[0],\n\t\t\t\treader = new FileReader();\n                \n\t\t\t\tswitch(this.table.options.importReader){\n\t\t\t\t\tcase \"buffer\":\n\t\t\t\t\t\treader.readAsArrayBuffer(file);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"binary\":\n\t\t\t\t\t\treader.readAsBinaryString(file);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"url\":\n\t\t\t\t\t\treader.readAsDataURL(file);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"text\":\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treader.readAsText(file);\n\t\t\t\t}\n                  \n\t\t\t\treader.onload = (e) => {\n\t\t\t\t\tresolve(reader.result);\n\t\t\t\t};\n                \n\t\t\t\treader.onerror = (e) => {\n\t\t\t\t\tconsole.warn(\"File Load Error - Unable to read file\");\n\t\t\t\t\treject();\n\t\t\t\t};\n\t\t\t});\n            \n\t\t\tinput.click();\n\t\t});\n\t}\n    \n\timportData(importer, fileContents){\n\t\tvar data = importer.call(this.table, fileContents);\n        \n\t\tif(data instanceof Promise){\n\t\t\treturn data;\n\t\t}else{\n\t\t\treturn data ? Promise.resolve(data) : Promise.reject();\n\t\t}\n\t}\n\n\tstructureData(parsedData){\n\t\tvar data = [];\n        \n\t\tif(Array.isArray(parsedData) && parsedData.length && Array.isArray(parsedData[0])){\n\t\t\tif(this.table.options.autoColumns){\n\t\t\t\tdata = this.structureArrayToObject(parsedData);\n\t\t\t}else{\n\t\t\t\tdata = this.structureArrayToColumns(parsedData);\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}else{\n\t\t\treturn parsedData;\n\t\t}\n\t}\n\n\tstructureArrayToObject(parsedData){\n\t\tvar columns = parsedData.shift();\n\n\t\tvar data = parsedData.map((values) => {\n\t\t\tvar row = {};\n\n\t\t\tcolumns.forEach((key, i) => {\n\t\t\t\trow[key] = values[i];\n\t\t\t});\n\n\t\t\treturn row;\n\t\t});\n\n\t\treturn data;\n\t}\n\n\tstructureArrayToColumns(parsedData){\n\t\tvar data = [],\n\t\tcolumns = this.table.getColumns();\n\n\t\t//remove first row if it is the column names\n\t\tif(columns[0] && parsedData[0][0]){\n\t\t\tif(columns[0].getDefinition().title === parsedData[0][0]){\n\t\t\t\tparsedData.shift();\n\t\t\t}\n\t\t}\n        \n\t\t//convert row arrays to objects\n\t\tparsedData.forEach((rowData) => {\n\t\t\tvar row = {};\n\n\t\t\trowData.forEach((value, index) => {\n\t\t\t\tvar column = columns[index];\n\n\t\t\t\tif(column){\n\t\t\t\t\trow[column.getField()] = value;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tdata.push(row);\n\t\t});\n\n\t\treturn data;\n\t}\n    \n\tsetData(data){\n\t\treturn this.table.setData(data);\n\t}\n}\n\nImport.moduleName = \"import\";\n\n//load defaults\nImport.importers = defaultImporters;\n\nexport default Import;","import Module from '../../core/Module.js';\n\nimport Cell from '../../core/cell/Cell.js';\nimport Column from '../../core/column/Column.js';\n\nclass Interaction extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.eventMap = {\n\t\t\t//row events\n\t\t\trowClick:\"row-click\",\n\t\t\trowDblClick:\"row-dblclick\",\n\t\t\trowContext:\"row-contextmenu\",\n\t\t\trowMouseEnter:\"row-mouseenter\",\n\t\t\trowMouseLeave:\"row-mouseleave\",\n\t\t\trowMouseOver:\"row-mouseover\",\n\t\t\trowMouseOut:\"row-mouseout\",\n\t\t\trowMouseMove:\"row-mousemove\",\n\t\t\trowMouseDown:\"row-mousedown\",\n\t\t\trowMouseUp:\"row-mouseup\",\n\t\t\trowTap:\"row\",\n\t\t\trowDblTap:\"row\",\n\t\t\trowTapHold:\"row\",\n\n\t\t\t//cell events\n\t\t\tcellClick:\"cell-click\",\n\t\t\tcellDblClick:\"cell-dblclick\",\n\t\t\tcellContext:\"cell-contextmenu\",\n\t\t\tcellMouseEnter:\"cell-mouseenter\",\n\t\t\tcellMouseLeave:\"cell-mouseleave\",\n\t\t\tcellMouseOver:\"cell-mouseover\",\n\t\t\tcellMouseOut:\"cell-mouseout\",\n\t\t\tcellMouseMove:\"cell-mousemove\",\n\t\t\tcellMouseDown:\"cell-mousedown\",\n\t\t\tcellMouseUp:\"cell-mouseup\",\n\t\t\tcellTap:\"cell\",\n\t\t\tcellDblTap:\"cell\",\n\t\t\tcellTapHold:\"cell\",\n\n\t\t\t//column header events\n\t\t\theaderClick:\"column-click\",\n\t\t\theaderDblClick:\"column-dblclick\",\n\t\t\theaderContext:\"column-contextmenu\",\n\t\t\theaderMouseEnter:\"column-mouseenter\",\n\t\t\theaderMouseLeave:\"column-mouseleave\",\n\t\t\theaderMouseOver:\"column-mouseover\",\n\t\t\theaderMouseOut:\"column-mouseout\",\n\t\t\theaderMouseMove:\"column-mousemove\",\n\t\t\theaderMouseDown:\"column-mousedown\",\n\t\t\theaderMouseUp:\"column-mouseup\",\n\t\t\theaderTap:\"column\",\n\t\t\theaderDblTap:\"column\",\n\t\t\theaderTapHold:\"column\",\n\n\t\t\t//group header\n\t\t\tgroupClick:\"group-click\",\n\t\t\tgroupDblClick:\"group-dblclick\",\n\t\t\tgroupContext:\"group-contextmenu\",\n\t\t\tgroupMouseEnter:\"group-mouseenter\",\n\t\t\tgroupMouseLeave:\"group-mouseleave\",\n\t\t\tgroupMouseOver:\"group-mouseover\",\n\t\t\tgroupMouseOut:\"group-mouseout\",\n\t\t\tgroupMouseMove:\"group-mousemove\",\n\t\t\tgroupMouseDown:\"group-mousedown\",\n\t\t\tgroupMouseUp:\"group-mouseup\",\n\t\t\tgroupTap:\"group\",\n\t\t\tgroupDblTap:\"group\",\n\t\t\tgroupTapHold:\"group\",\n\t\t};\n\n\t\tthis.subscribers = {};\n\n\t\tthis.touchSubscribers = {};\n\n\t\tthis.columnSubscribers = {};\n\n\t\tthis.touchWatchers = {\n\t\t\trow:{\n\t\t\t\ttap:null,\n\t\t\t\ttapDbl:null,\n\t\t\t\ttapHold:null,\n\t\t\t},\n\t\t\tcell:{\n\t\t\t\ttap:null,\n\t\t\t\ttapDbl:null,\n\t\t\t\ttapHold:null,\n\t\t\t},\n\t\t\tcolumn:{\n\t\t\t\ttap:null,\n\t\t\t\ttapDbl:null,\n\t\t\t\ttapHold:null,\n\t\t\t},\n\t\t\tgroup:{\n\t\t\t\ttap:null,\n\t\t\t\ttapDbl:null,\n\t\t\t\ttapHold:null,\n\t\t\t}\n\t\t};\n\n\t\tthis.registerColumnOption(\"headerClick\");\n\t\tthis.registerColumnOption(\"headerDblClick\");\n\t\tthis.registerColumnOption(\"headerContext\");\n\t\tthis.registerColumnOption(\"headerMouseEnter\");\n\t\tthis.registerColumnOption(\"headerMouseLeave\");\n\t\tthis.registerColumnOption(\"headerMouseOver\");\n\t\tthis.registerColumnOption(\"headerMouseOut\");\n\t\tthis.registerColumnOption(\"headerMouseMove\");\n\t\tthis.registerColumnOption(\"headerMouseDown\");\n\t\tthis.registerColumnOption(\"headerMouseUp\");\n\t\tthis.registerColumnOption(\"headerTap\");\n\t\tthis.registerColumnOption(\"headerDblTap\");\n\t\tthis.registerColumnOption(\"headerTapHold\");\n\n\t\tthis.registerColumnOption(\"cellClick\");\n\t\tthis.registerColumnOption(\"cellDblClick\");\n\t\tthis.registerColumnOption(\"cellContext\");\n\t\tthis.registerColumnOption(\"cellMouseEnter\");\n\t\tthis.registerColumnOption(\"cellMouseLeave\");\n\t\tthis.registerColumnOption(\"cellMouseOver\");\n\t\tthis.registerColumnOption(\"cellMouseOut\");\n\t\tthis.registerColumnOption(\"cellMouseMove\");\n\t\tthis.registerColumnOption(\"cellMouseDown\");\n\t\tthis.registerColumnOption(\"cellMouseUp\");\n\t\tthis.registerColumnOption(\"cellTap\");\n\t\tthis.registerColumnOption(\"cellDblTap\");\n\t\tthis.registerColumnOption(\"cellTapHold\");\n\n\t}\n\n\tinitialize(){\n\t\tthis.initializeExternalEvents();\n\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"cell-dblclick\", this.cellContentsSelectionFixer.bind(this));\n\t}\n\n\tcellContentsSelectionFixer(e, cell){\n\t\tvar range;\n\n\t\tif(this.table.modExists(\"edit\")){\n\t\t\tif (this.table.modules.edit.currentCell === cell){\n\t\t\t\treturn; //prevent instant selection of editor content\n\t\t\t}\n\t\t}\n\n\t\te.preventDefault();\n\n\t\ttry{\n\t\t\tif (document.selection) { // IE\n\t\t\t\trange = document.body.createTextRange();\n\t\t\t\trange.moveToElementText(cell.getElement());\n\t\t\t\trange.select();\n\t\t\t} else if (window.getSelection) {\n\t\t\t\trange = document.createRange();\n\t\t\t\trange.selectNode(cell.getElement());\n\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\twindow.getSelection().addRange(range);\n\t\t\t}\n\t\t}catch(e){}\n\t}\n\n\tinitializeExternalEvents(){\n\t\tfor(let key in this.eventMap){\n\t\t\tthis.subscriptionChangeExternal(key, this.subscriptionChanged.bind(this, key));\n\t\t}\n\t}\n\n\tsubscriptionChanged(key, added){\n\t\tif(added){\n\t\t\tif(!this.subscribers[key]){\n\t\t\t\tif(this.eventMap[key].includes(\"-\")){\n\t\t\t\t\tthis.subscribers[key] = this.handle.bind(this, key);\n\t\t\t\t\tthis.subscribe(this.eventMap[key], this.subscribers[key]);\n\t\t\t\t}else{\n\t\t\t\t\tthis.subscribeTouchEvents(key);\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tif(this.eventMap[key].includes(\"-\")){\n\t\t\t\tif(this.subscribers[key] && !this.columnSubscribers[key]  && !this.subscribedExternal(key)){\n\t\t\t\t\tthis.unsubscribe(this.eventMap[key], this.subscribers[key]);\n\t\t\t\t\tdelete this.subscribers[key];\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.unsubscribeTouchEvents(key);\n\t\t\t}\n\t\t}\n\t}\n\n\n\tsubscribeTouchEvents(key){\n\t\tvar type = this.eventMap[key];\n\n\t\tif(!this.touchSubscribers[type + \"-touchstart\"]){\n\t\t\tthis.touchSubscribers[type + \"-touchstart\"] = this.handleTouch.bind(this, type, \"start\");\n\t\t\tthis.touchSubscribers[type + \"-touchend\"] = this.handleTouch.bind(this, type, \"end\");\n\n\t\t\tthis.subscribe(type + \"-touchstart\", this.touchSubscribers[type + \"-touchstart\"]);\n\t\t\tthis.subscribe(type + \"-touchend\", this.touchSubscribers[type + \"-touchend\"]);\n\t\t}\n\n\t\tthis.subscribers[key] = true;\n\t}\n\n\tunsubscribeTouchEvents(key){\n\t\tvar noTouch = true,\n\t\ttype = this.eventMap[key];\n\n\t\tif(this.subscribers[key] && !this.subscribedExternal(key)){\n\t\t\tdelete this.subscribers[key];\n\n\t\t\tfor(let i in this.eventMap){\n\t\t\t\tif(this.eventMap[i] === type){\n\t\t\t\t\tif(this.subscribers[i]){\n\t\t\t\t\t\tnoTouch = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(noTouch){\n\t\t\t\tthis.unsubscribe(type + \"-touchstart\", this.touchSubscribers[type + \"-touchstart\"]);\n\t\t\t\tthis.unsubscribe(type + \"-touchend\", this.touchSubscribers[type + \"-touchend\"]);\n\n\t\t\t\tdelete this.touchSubscribers[type + \"-touchstart\"];\n\t\t\t\tdelete this.touchSubscribers[type + \"-touchend\"];\n\t\t\t}\n\t\t}\n\t}\n\n\tinitializeColumn(column){\n\t\tvar def = column.definition;\n\n\t\tfor(let key in this.eventMap){\n\t\t\tif(def[key]){\n\t\t\t\tthis.subscriptionChanged(key, true);\n\n\t\t\t\tif(!this.columnSubscribers[key]){\n\t\t\t\t\tthis.columnSubscribers[key] = [];\n\t\t\t\t}\n\n\t\t\t\tthis.columnSubscribers[key].push(column);\n\t\t\t}\n\t\t}\n\t}\n\n\thandle(action, e, component){\n\t\tthis.dispatchEvent(action, e, component);\n\t}\n\n\thandleTouch(type, action, e, component){\n\t\tvar watchers = this.touchWatchers[type];\n\n\t\tif(type === \"column\"){\n\t\t\ttype = \"header\";\n\t\t}\n\n\t\tswitch(action){\n\t\t\tcase \"start\":\n\t\t\t\twatchers.tap = true;\n\n\t\t\t\tclearTimeout(watchers.tapHold);\n\n\t\t\t\twatchers.tapHold = setTimeout(() => {\n\t\t\t\t\tclearTimeout(watchers.tapHold);\n\t\t\t\t\twatchers.tapHold = null;\n\n\t\t\t\t\twatchers.tap = null;\n\t\t\t\t\tclearTimeout(watchers.tapDbl);\n\t\t\t\t\twatchers.tapDbl = null;\n\n\t\t\t\t\tthis.dispatchEvent(type + \"TapHold\", e,  component);\n\t\t\t\t}, 1000);\n\t\t\t\tbreak;\n\n\t\t\tcase \"end\":\n\t\t\t\tif(watchers.tap){\n\n\t\t\t\t\twatchers.tap = null;\n\t\t\t\t\tthis.dispatchEvent(type + \"Tap\", e,  component);\n\t\t\t\t}\n\n\t\t\t\tif(watchers.tapDbl){\n\t\t\t\t\tclearTimeout(watchers.tapDbl);\n\t\t\t\t\twatchers.tapDbl = null;\n\n\t\t\t\t\tthis.dispatchEvent(type + \"DblTap\", e,  component);\n\t\t\t\t}else{\n\t\t\t\t\twatchers.tapDbl = setTimeout(() => {\n\t\t\t\t\t\tclearTimeout(watchers.tapDbl);\n\t\t\t\t\t\twatchers.tapDbl = null;\n\t\t\t\t\t}, 300);\n\t\t\t\t}\n\n\t\t\t\tclearTimeout(watchers.tapHold);\n\t\t\t\twatchers.tapHold = null;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tdispatchEvent(action, e, component){\n\t\tvar componentObj = component.getComponent(),\n\t\tcallback;\n\n\t\tif(this.columnSubscribers[action]){\n\n\t\t\tif(component instanceof Cell){\n\t\t\t\tcallback = component.column.definition[action];\n\t\t\t}else if(component instanceof Column){\n\t\t\t\tcallback = component.definition[action];\n\t\t\t}\n\n\t\t\tif(callback){\n\t\t\t\tcallback(e, componentObj);\n\t\t\t}\n\t\t}\n\n\t\tthis.dispatchExternal(action, e, componentObj);\n\t}\n}\n\nInteraction.moduleName = \"interaction\";\n\nexport default Interaction;\n","export default {\n\tnavPrev:\"shift + 9\",\n\tnavNext:9,\n\tnavUp:38,\n\tnavDown:40,\n\tscrollPageUp:33,\n\tscrollPageDown:34,\n\tscrollToStart:36,\n\tscrollToEnd:35,\n\tundo:[\"ctrl + 90\", \"meta + 90\"],\n\tredo:[\"ctrl + 89\", \"meta + 89\"],\n\tcopyToClipboard:[\"ctrl + 67\", \"meta + 89\"],\n};","import Module from '../../core/Module.js';\n\nimport defaultBindings from './defaults/bindings.js';\nimport defaultActions from './defaults/actions.js';\n\nclass Keybindings extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.watchKeys = null;\n\t\tthis.pressedKeys = null;\n\t\tthis.keyupBinding = false;\n\t\tthis.keydownBinding = false;\n\n\t\tthis.registerTableOption(\"keybindings\", {}); //array for keybindings\n\t\tthis.registerTableOption(\"tabEndNewRow\", false); //create new row when tab to end of table\n\t}\n\n\tinitialize(){\n\t\tvar bindings = this.table.options.keybindings,\n\t\tmergedBindings = {};\n\n\t\tthis.watchKeys = {};\n\t\tthis.pressedKeys = [];\n\n\t\tif(bindings !== false){\n\t\t\tObject.assign(mergedBindings, Keybindings.bindings);\n\t\t\tObject.assign(mergedBindings, bindings);\n\n\t\t\tthis.mapBindings(mergedBindings);\n\t\t\tthis.bindEvents();\n\t\t}\n\n\t\tthis.subscribe(\"table-destroy\", this.clearBindings.bind(this));\n\t}\n\n\tmapBindings(bindings){\n\t\tfor(let key in bindings){\n\t\t\tif(Keybindings.actions[key]){\n\t\t\t\tif(bindings[key]){\n\t\t\t\t\tif(typeof bindings[key] !== \"object\"){\n\t\t\t\t\t\tbindings[key] = [bindings[key]];\n\t\t\t\t\t}\n\n\t\t\t\t\tbindings[key].forEach((binding) => {\n\t\t\t\t\t\tvar bindingList = Array.isArray(binding) ?  binding : [binding];\n\t\t\t\t\t\t\n\t\t\t\t\t\tbindingList.forEach((item) => {\n\t\t\t\t\t\t\tthis.mapBinding(key, item);\n\t\t\t\t\t\t});\t\t\t\t\t\t\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Key Binding Error - no such action:\", key);\n\t\t\t}\n\t\t}\n\t}\n\n\tmapBinding(action, symbolsList){\n\t\tvar binding = {\n\t\t\taction: Keybindings.actions[action],\n\t\t\tkeys: [],\n\t\t\tctrl: false,\n\t\t\tshift: false,\n\t\t\tmeta: false,\n\t\t};\n\n\t\tvar symbols = symbolsList.toString().toLowerCase().split(\" \").join(\"\").split(\"+\");\n\n\t\tsymbols.forEach((symbol) => {\n\t\t\tswitch(symbol){\n\t\t\t\tcase \"ctrl\":\n\t\t\t\t\tbinding.ctrl = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"shift\":\n\t\t\t\t\tbinding.shift = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"meta\":\n\t\t\t\t\tbinding.meta = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tsymbol = isNaN(symbol) ? symbol.toUpperCase().charCodeAt(0) : parseInt(symbol);\n\t\t\t\t\tbinding.keys.push(symbol);\n\n\t\t\t\t\tif(!this.watchKeys[symbol]){\n\t\t\t\t\t\tthis.watchKeys[symbol] = [];\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.watchKeys[symbol].push(binding);\n\t\t\t}\n\t\t});\n\t}\n\n\tbindEvents(){\n\t\tvar self = this;\n\n\t\tthis.keyupBinding = function(e){\n\t\t\tvar code = e.keyCode;\n\t\t\tvar bindings = self.watchKeys[code];\n\n\t\t\tif(bindings){\n\n\t\t\t\tself.pressedKeys.push(code);\n\n\t\t\t\tbindings.forEach(function(binding){\n\t\t\t\t\tself.checkBinding(e, binding);\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tthis.keydownBinding = function(e){\n\t\t\tvar code = e.keyCode;\n\t\t\tvar bindings = self.watchKeys[code];\n\n\t\t\tif(bindings){\n\n\t\t\t\tvar index = self.pressedKeys.indexOf(code);\n\n\t\t\t\tif(index > -1){\n\t\t\t\t\tself.pressedKeys.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tthis.table.element.addEventListener(\"keydown\", this.keyupBinding);\n\n\t\tthis.table.element.addEventListener(\"keyup\", this.keydownBinding);\n\t}\n\n\tclearBindings(){\n\t\tif(this.keyupBinding){\n\t\t\tthis.table.element.removeEventListener(\"keydown\", this.keyupBinding);\n\t\t}\n\n\t\tif(this.keydownBinding){\n\t\t\tthis.table.element.removeEventListener(\"keyup\", this.keydownBinding);\n\t\t}\n\t}\n\n\tcheckBinding(e, binding){\n\t\tvar match = true;\n\n\t\tif(e.ctrlKey == binding.ctrl && e.shiftKey == binding.shift && e.metaKey == binding.meta){\n\t\t\tbinding.keys.forEach((key) => {\n\t\t\t\tvar index = this.pressedKeys.indexOf(key);\n\n\t\t\t\tif(index == -1){\n\t\t\t\t\tmatch = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif(match){\n\t\t\t\tbinding.action.call(this, e);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n}\n\nKeybindings.moduleName = \"keybindings\";\n\n//load defaults\nKeybindings.bindings = defaultBindings;\nKeybindings.actions = defaultActions;\n\nexport default Keybindings;","export default {\n\tkeyBlock:function(e){\n\t\te.stopPropagation();\n\t\te.preventDefault();\n\t},\n\tscrollPageUp:function(e){\n\t\tvar rowManager = this.table.rowManager,\n\t\tnewPos = rowManager.scrollTop - rowManager.element.clientHeight;\n\n\t\te.preventDefault();\n\n\t\tif(rowManager.displayRowsCount){\n\t\t\tif(newPos >= 0){\n\t\t\t\trowManager.element.scrollTop = newPos;\n\t\t\t}else{\n\t\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[0]);\n\t\t\t}\n\t\t}\n\n\t\tthis.table.element.focus();\n\t},\n\tscrollPageDown:function(e){\n\t\tvar rowManager = this.table.rowManager,\n\t\tnewPos = rowManager.scrollTop + rowManager.element.clientHeight,\n\t\tscrollMax = rowManager.element.scrollHeight;\n\n\t\te.preventDefault();\n\n\t\tif(rowManager.displayRowsCount){\n\t\t\tif(newPos <= scrollMax){\n\t\t\t\trowManager.element.scrollTop = newPos;\n\t\t\t}else{\n\t\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[rowManager.displayRowsCount - 1]);\n\t\t\t}\n\t\t}\n\n\t\tthis.table.element.focus();\n\n\t},\n\tscrollToStart:function(e){\n\t\tvar rowManager = this.table.rowManager;\n\n\t\te.preventDefault();\n\n\t\tif(rowManager.displayRowsCount){\n\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[0]);\n\t\t}\n\n\t\tthis.table.element.focus();\n\t},\n\tscrollToEnd:function(e){\n\t\tvar rowManager = this.table.rowManager;\n\n\t\te.preventDefault();\n\n\t\tif(rowManager.displayRowsCount){\n\t\t\trowManager.scrollToRow(rowManager.getDisplayRows()[rowManager.displayRowsCount - 1]);\n\t\t}\n\n\t\tthis.table.element.focus();\n\t},\n\tnavPrev:function(e){\n\t\tthis.dispatch(\"keybinding-nav-prev\", e);\n\t},\n\n\tnavNext:function(e){\n\t\tthis.dispatch(\"keybinding-nav-next\", e);\n\t},\n\n\tnavLeft:function(e){\n\t\tthis.dispatch(\"keybinding-nav-left\", e);\n\t},\n\n\tnavRight:function(e){\n\t\tthis.dispatch(\"keybinding-nav-right\", e);\n\t},\n\n\tnavUp:function(e){\n\t\tthis.dispatch(\"keybinding-nav-up\", e);\n\t},\n\n\tnavDown:function(e){\n\t\tthis.dispatch(\"keybinding-nav-down\", e);\n\t},\n\n\tundo:function(e){\n\t\tvar cell = false;\n\t\tif(this.table.options.history && this.table.modExists(\"history\") && this.table.modExists(\"edit\")){\n\n\t\t\tcell = this.table.modules.edit.currentCell;\n\n\t\t\tif(!cell){\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.table.modules.history.undo();\n\t\t\t}\n\t\t}\n\t},\n\n\tredo:function(e){\n\t\tvar cell = false;\n\t\tif(this.table.options.history && this.table.modExists(\"history\") && this.table.modExists(\"edit\")){\n\n\t\t\tcell = this.table.modules.edit.currentCell;\n\n\t\t\tif(!cell){\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.table.modules.history.redo();\n\t\t\t}\n\t\t}\n\t},\n\n\tcopyToClipboard:function(e){\n\t\tif(!this.table.modules.edit.currentCell){\n\t\t\tif(this.table.modExists(\"clipboard\", true)){\n\t\t\t\tthis.table.modules.clipboard.copy(false, true);\n\t\t\t}\n\t\t}\n\t},\n};","import Module from '../../core/Module.js';\n\nclass Menu extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.menuContainer = null;\n\t\tthis.nestedMenuBlock = false;\n\t\t\n\t\tthis.currentComponent = null;\n\t\tthis.rootPopup = null;\n\t\t\n\t\tthis.columnSubscribers = {};\n\t\t\n\t\tthis.registerTableOption(\"menuContainer\", undefined); //deprecated\n\t\t\n\t\tthis.registerTableOption(\"rowContextMenu\", false);\n\t\tthis.registerTableOption(\"rowClickMenu\", false);\n\t\tthis.registerTableOption(\"rowDblClickMenu\", false);\n\t\tthis.registerTableOption(\"groupContextMenu\", false);\n\t\tthis.registerTableOption(\"groupClickMenu\", false);\n\t\tthis.registerTableOption(\"groupDblClickMenu\", false);\n\t\t\n\t\tthis.registerColumnOption(\"headerContextMenu\");\n\t\tthis.registerColumnOption(\"headerClickMenu\");\n\t\tthis.registerColumnOption(\"headerDblClickMenu\");\n\t\tthis.registerColumnOption(\"headerMenu\");\n\t\tthis.registerColumnOption(\"headerMenuIcon\");\n\t\tthis.registerColumnOption(\"contextMenu\");\n\t\tthis.registerColumnOption(\"clickMenu\");\n\t\tthis.registerColumnOption(\"dblClickMenu\");\n\t\t\n\t}\n\t\n\tinitialize(){\n\t\tthis.deprecatedOptionsCheck();\n\t\tthis.initializeRowWatchers();\n\t\tthis.initializeGroupWatchers();\n\t\t\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t}\n\t\n\tdeprecatedOptionsCheck(){\n\t\tif(!this.deprecationCheck(\"menuContainer\", \"popupContainer\")){\n\t\t\tthis.table.options.popupContainer = this.table.options.menuContainer;\n\t\t}\n\t}\t\n\t\n\tinitializeRowWatchers(){\n\t\tif(this.table.options.rowContextMenu){\n\t\t\tthis.subscribe(\"row-contextmenu\", this.loadMenuEvent.bind(this, this.table.options.rowContextMenu));\n\t\t\tthis.table.on(\"rowTapHold\", this.loadMenuEvent.bind(this, this.table.options.rowContextMenu));\n\t\t}\n\t\t\n\t\tif(this.table.options.rowClickMenu){\n\t\t\tthis.subscribe(\"row-click\", this.loadMenuEvent.bind(this, this.table.options.rowClickMenu));\n\t\t}\n\t\t\n\t\tif(this.table.options.rowDblClickMenu){\n\t\t\tthis.subscribe(\"row-dblclick\", this.loadMenuEvent.bind(this, this.table.options.rowDblClickMenu));\n\t\t}\n\t}\n\t\n\tinitializeGroupWatchers(){\n\t\tif(this.table.options.groupContextMenu){\n\t\t\tthis.subscribe(\"group-contextmenu\", this.loadMenuEvent.bind(this, this.table.options.groupContextMenu));\n\t\t\tthis.table.on(\"groupTapHold\", this.loadMenuEvent.bind(this, this.table.options.groupContextMenu));\n\t\t}\n\t\t\n\t\tif(this.table.options.groupClickMenu){\n\t\t\tthis.subscribe(\"group-click\", this.loadMenuEvent.bind(this, this.table.options.groupClickMenu));\n\t\t}\n\t\t\n\t\tif(this.table.options.groupDblClickMenu){\n\t\t\tthis.subscribe(\"group-dblclick\", this.loadMenuEvent.bind(this, this.table.options.groupDblClickMenu));\n\t\t}\n\t}\n\t\n\tinitializeColumn(column){\n\t\tvar\tdef = column.definition;\n\t\t\n\t\t//handle column events\n\t\tif(def.headerContextMenu && !this.columnSubscribers.headerContextMenu){\n\t\t\tthis.columnSubscribers.headerContextMenu = this.loadMenuTableColumnEvent.bind(this, \"headerContextMenu\");\n\t\t\tthis.subscribe(\"column-contextmenu\", this.columnSubscribers.headerContextMenu);\n\t\t\tthis.table.on(\"headerTapHold\", this.loadMenuTableColumnEvent.bind(this, \"headerContextMenu\"));\n\t\t}\n\t\t\n\t\tif(def.headerClickMenu && !this.columnSubscribers.headerClickMenu){\n\t\t\tthis.columnSubscribers.headerClickMenu = this.loadMenuTableColumnEvent.bind(this, \"headerClickMenu\");\n\t\t\tthis.subscribe(\"column-click\", this.columnSubscribers.headerClickMenu);\n\t\t}\n\t\t\n\t\tif(def.headerDblClickMenu && !this.columnSubscribers.headerDblClickMenu){\n\t\t\tthis.columnSubscribers.headerDblClickMenu = this.loadMenuTableColumnEvent.bind(this, \"headerDblClickMenu\");\n\t\t\tthis.subscribe(\"column-dblclick\", this.columnSubscribers.headerDblClickMenu);\n\t\t}\n\t\t\n\t\tif(def.headerMenu){\n\t\t\tthis.initializeColumnHeaderMenu(column);\n\t\t}\n\t\t\n\t\t//handle cell events\n\t\tif(def.contextMenu && !this.columnSubscribers.contextMenu){\n\t\t\tthis.columnSubscribers.contextMenu = this.loadMenuTableCellEvent.bind(this, \"contextMenu\");\n\t\t\tthis.subscribe(\"cell-contextmenu\", this.columnSubscribers.contextMenu);\n\t\t\tthis.table.on(\"cellTapHold\", this.loadMenuTableCellEvent.bind(this, \"contextMenu\"));\n\t\t}\n\t\t\n\t\tif(def.clickMenu && !this.columnSubscribers.clickMenu){\n\t\t\tthis.columnSubscribers.clickMenu = this.loadMenuTableCellEvent.bind(this, \"clickMenu\");\n\t\t\tthis.subscribe(\"cell-click\", this.columnSubscribers.clickMenu);\n\t\t}\n\t\t\n\t\tif(def.dblClickMenu && !this.columnSubscribers.dblClickMenu){\n\t\t\tthis.columnSubscribers.dblClickMenu = this.loadMenuTableCellEvent.bind(this, \"dblClickMenu\");\n\t\t\tthis.subscribe(\"cell-dblclick\", this.columnSubscribers.dblClickMenu);\n\t\t}\n\t}\n\t\n\tinitializeColumnHeaderMenu(column){\n\t\tvar icon = column.definition.headerMenuIcon,\n\t\theaderMenuEl;\n\t\t\n\t\theaderMenuEl = document.createElement(\"span\");\n\t\theaderMenuEl.classList.add(\"tabulator-header-popup-button\");\n\t\t\n\t\tif(icon){\n\t\t\tif(typeof icon === \"function\"){\n\t\t\t\ticon = icon(column.getComponent());\n\t\t\t}\n\t\t\t\n\t\t\tif(icon instanceof HTMLElement){\n\t\t\t\theaderMenuEl.appendChild(icon);\n\t\t\t}else{\n\t\t\t\theaderMenuEl.innerHTML = icon;\n\t\t\t}\n\t\t}else{\n\t\t\theaderMenuEl.innerHTML = \"&vellip;\";\n\t\t}\n\t\t\n\t\theaderMenuEl.addEventListener(\"click\", (e) => {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tthis.loadMenuEvent(column.definition.headerMenu, e, column);\n\t\t});\n\t\t\n\t\tcolumn.titleElement.insertBefore(headerMenuEl, column.titleElement.firstChild);\n\t}\n\t\n\tloadMenuTableCellEvent(option, e, cell){\n\t\tif(cell._cell){\n\t\t\tcell = cell._cell;\n\t\t}\n\t\t\n\t\tif(cell.column.definition[option]){\n\t\t\tthis.loadMenuEvent(cell.column.definition[option], e, cell);\n\t\t}\n\t}\n\t\n\tloadMenuTableColumnEvent(option, e, column){\n\t\tif(column._column){\n\t\t\tcolumn = column._column;\n\t\t}\n\t\t\n\t\tif(column.definition[option]){\n\t\t\tthis.loadMenuEvent(column.definition[option], e, column);\n\t\t}\n\t}\n\t\n\tloadMenuEvent(menu, e, component){\n\t\tif(component._group){\n\t\t\tcomponent = component._group;\n\t\t}else if(component._row){\n\t\t\tcomponent = component._row;\n\t\t}\n\t\t\n\t\tmenu = typeof menu == \"function\" ? menu.call(this.table, e, component.getComponent()) : menu;\n\t\t\n\t\tthis.loadMenu(e, component, menu);\n\t}\n\t\n\tloadMenu(e, component, menu, parentEl, parentPopup){\n\t\tvar touch = !(e instanceof MouseEvent),\t\t\n\t\tmenuEl = document.createElement(\"div\"),\n\t\tpopup;\n\t\t\n\t\tmenuEl.classList.add(\"tabulator-menu\");\n\t\t\n\t\tif(!touch){\n\t\t\te.preventDefault();\n\t\t}\n\t\t\n\t\t//abort if no menu set\n\t\tif(!menu || !menu.length){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif(!parentEl){\n\t\t\tif(this.nestedMenuBlock){\n\t\t\t\t//abort if child menu already open\n\t\t\t\tif(this.rootPopup){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.nestedMenuBlock = setTimeout(() => {\n\t\t\t\t\tthis.nestedMenuBlock = false;\n\t\t\t\t}, 100);\n\t\t\t}\n\t\t\t\n\t\t\tif(this.rootPopup){\n\t\t\t\tthis.rootPopup.hide();\t\n\t\t\t}\n\t\t\t\n\t\t\tthis.rootPopup = popup = this.popup(menuEl);\n\t\t\t\n\t\t}else{\n\t\t\tpopup = parentPopup.child(menuEl);\n\t\t}\n\t\t\n\t\tmenu.forEach((item) => {\n\t\t\tvar itemEl = document.createElement(\"div\"),\n\t\t\tlabel = item.label,\n\t\t\tdisabled = item.disabled;\n\t\t\t\n\t\t\tif(item.separator){\n\t\t\t\titemEl.classList.add(\"tabulator-menu-separator\");\n\t\t\t}else{\n\t\t\t\titemEl.classList.add(\"tabulator-menu-item\");\n\t\t\t\t\n\t\t\t\tif(typeof label == \"function\"){\n\t\t\t\t\tlabel = label.call(this.table, component.getComponent());\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(label instanceof Node){\n\t\t\t\t\titemEl.appendChild(label);\n\t\t\t\t}else{\n\t\t\t\t\titemEl.innerHTML = label;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(typeof disabled == \"function\"){\n\t\t\t\t\tdisabled = disabled.call(this.table, component.getComponent());\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(disabled){\n\t\t\t\t\titemEl.classList.add(\"tabulator-menu-item-disabled\");\n\t\t\t\t\titemEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tif(item.menu && item.menu.length){\n\t\t\t\t\t\titemEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\tthis.loadMenu(e, component, item.menu, itemEl, popup);\n\t\t\t\t\t\t});\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(item.action){\n\t\t\t\t\t\t\titemEl.addEventListener(\"click\", (e) => {\n\t\t\t\t\t\t\t\titem.action(e, component.getComponent());\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(item.menu && item.menu.length){\n\t\t\t\t\titemEl.classList.add(\"tabulator-menu-item-submenu\");\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tmenuEl.appendChild(itemEl);\n\t\t});\n\t\t\n\t\tmenuEl.addEventListener(\"click\", (e) => {\n\t\t\tif(this.rootPopup){\n\t\t\t\tthis.rootPopup.hide();\n\t\t\t}\n\t\t});\n\t\t\n\t\tpopup.show(parentEl || e);\n\t\t\n\t\tif(popup === this.rootPopup){\n\t\t\tthis.rootPopup.hideOnBlur(() => {\n\t\t\t\tthis.rootPopup = null;\n\t\t\t\t\n\t\t\t\tif(this.currentComponent){\n\t\t\t\t\tthis.dispatchExternal(\"menuClosed\", this.currentComponent.getComponent());\n\t\t\t\t\tthis.currentComponent = null;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tthis.currentComponent = component;\n\t\t\t\n\t\t\tthis.dispatchExternal(\"menuOpened\", component.getComponent());\n\t\t}\n\t}\n}\n\nMenu.moduleName = \"menu\";\n\nexport default Menu;\n","import Module from '../../core/Module.js';\nimport Helpers from '../../core/tools/Helpers.js';\n\nclass MoveColumns extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.placeholderElement = this.createPlaceholderElement();\n\t\tthis.hoverElement = false; //floating column header element\n\t\tthis.checkTimeout = false; //click check timeout holder\n\t\tthis.checkPeriod = 250; //period to wait on mousedown to consider this a move and not a click\n\t\tthis.moving = false; //currently moving column\n\t\tthis.toCol = false; //destination column\n\t\tthis.toColAfter = false; //position of moving column relative to the destination column\n\t\tthis.startX = 0; //starting position within header element\n\t\tthis.autoScrollMargin = 40; //auto scroll on edge when within margin\n\t\tthis.autoScrollStep = 5; //auto scroll distance in pixels\n\t\tthis.autoScrollTimeout = false; //auto scroll timeout\n\t\tthis.touchMove = false;\n\t\t\n\t\tthis.moveHover = this.moveHover.bind(this);\n\t\tthis.endMove = this.endMove.bind(this);\n\t\t\n\t\tthis.registerTableOption(\"movableColumns\", false); //enable movable columns\n\t}\n\t\n\tcreatePlaceholderElement(){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-col\");\n\t\tel.classList.add(\"tabulator-col-placeholder\");\n\t\t\n\t\treturn el;\n\t}\n\t\n\tinitialize(){\n\t\tif(this.table.options.movableColumns){\n\t\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\t}\n\t}\n\t\n\tinitializeColumn(column){\n\t\tvar self = this,\n\t\tconfig = {},\n\t\tcolEl;\n\t\t\n\t\tif(!column.modules.frozen && !column.isGroup){\n\t\t\tcolEl = column.getElement();\n\t\t\t\n\t\t\tconfig.mousemove = function(e){\n\t\t\t\tif(column.parent === self.moving.parent){\n\t\t\t\t\tif((((self.touchMove ? e.touches[0].pageX : e.pageX) - Helpers.elOffset(colEl).left) + self.table.columnManager.contentsElement.scrollLeft) > (column.getWidth() / 2)){\n\t\t\t\t\t\tif(self.toCol !== column || !self.toColAfter){\n\t\t\t\t\t\t\tcolEl.parentNode.insertBefore(self.placeholderElement, colEl.nextSibling);\n\t\t\t\t\t\t\tself.moveColumn(column, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(self.toCol !== column || self.toColAfter){\n\t\t\t\t\t\t\tcolEl.parentNode.insertBefore(self.placeholderElement, colEl);\n\t\t\t\t\t\t\tself.moveColumn(column, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}.bind(self);\n\t\t\t\n\t\t\tcolEl.addEventListener(\"mousedown\", function(e){\n\t\t\t\tself.touchMove = false;\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tself.checkTimeout = setTimeout(function(){\n\t\t\t\t\t\tself.startMove(e, column);\n\t\t\t\t\t}, self.checkPeriod);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tcolEl.addEventListener(\"mouseup\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tif(self.checkTimeout){\n\t\t\t\t\t\tclearTimeout(self.checkTimeout);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tself.bindTouchEvents(column);\n\t\t}\n\t\t\n\t\tcolumn.modules.moveColumn = config;\n\t}\n\t\n\tbindTouchEvents(column){\n\t\tvar colEl = column.getElement(),\n\t\tstartXMove = false, //shifting center position of the cell\n\t\tnextCol, prevCol, nextColWidth, prevColWidth, nextColWidthLast, prevColWidthLast;\n\t\t\n\t\tcolEl.addEventListener(\"touchstart\", (e) => {\n\t\t\tthis.checkTimeout = setTimeout(() => {\n\t\t\t\tthis.touchMove = true;\n\t\t\t\tnextCol = column.nextColumn();\n\t\t\t\tnextColWidth = nextCol ? nextCol.getWidth()/2 : 0;\n\t\t\t\tprevCol = column.prevColumn();\n\t\t\t\tprevColWidth = prevCol ? prevCol.getWidth()/2 : 0;\n\t\t\t\tnextColWidthLast = 0;\n\t\t\t\tprevColWidthLast = 0;\n\t\t\t\tstartXMove = false;\n\t\t\t\t\n\t\t\t\tthis.startMove(e, column);\n\t\t\t}, this.checkPeriod);\n\t\t}, {passive: true});\n\t\t\n\t\tcolEl.addEventListener(\"touchmove\", (e) => {\n\t\t\tvar diff, moveToCol;\n\t\t\t\n\t\t\tif(this.moving){\n\t\t\t\tthis.moveHover(e);\n\t\t\t\t\n\t\t\t\tif(!startXMove){\n\t\t\t\t\tstartXMove = e.touches[0].pageX;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tdiff = e.touches[0].pageX - startXMove;\n\t\t\t\t\n\t\t\t\tif(diff > 0){\n\t\t\t\t\tif(nextCol && diff - nextColWidthLast > nextColWidth){\n\t\t\t\t\t\tmoveToCol = nextCol;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(moveToCol !== column){\n\t\t\t\t\t\t\tstartXMove = e.touches[0].pageX;\n\t\t\t\t\t\t\tmoveToCol.getElement().parentNode.insertBefore(this.placeholderElement, moveToCol.getElement().nextSibling);\n\t\t\t\t\t\t\tthis.moveColumn(moveToCol, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(prevCol && -diff - prevColWidthLast >  prevColWidth){\n\t\t\t\t\t\tmoveToCol = prevCol;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(moveToCol !== column){\n\t\t\t\t\t\t\tstartXMove = e.touches[0].pageX;\n\t\t\t\t\t\t\tmoveToCol.getElement().parentNode.insertBefore(this.placeholderElement, moveToCol.getElement());\n\t\t\t\t\t\t\tthis.moveColumn(moveToCol, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(moveToCol){\n\t\t\t\t\tnextCol = moveToCol.nextColumn();\n\t\t\t\t\tnextColWidthLast = nextColWidth;\n\t\t\t\t\tnextColWidth = nextCol ? nextCol.getWidth() / 2 : 0;\n\t\t\t\t\tprevCol = moveToCol.prevColumn();\n\t\t\t\t\tprevColWidthLast = prevColWidth;\n\t\t\t\t\tprevColWidth = prevCol ? prevCol.getWidth() / 2 : 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}, {passive: true});\n\t\t\n\t\tcolEl.addEventListener(\"touchend\", (e) => {\n\t\t\tif(this.checkTimeout){\n\t\t\t\tclearTimeout(this.checkTimeout);\n\t\t\t}\n\t\t\tif(this.moving){\n\t\t\t\tthis.endMove(e);\n\t\t\t}\n\t\t});\n\t}\n\t\n\tstartMove(e, column){\n\t\tvar element = column.getElement(),\n\t\theaderElement = this.table.columnManager.getContentsElement(),\n\t\theadersElement = this.table.columnManager.getHeadersElement();\n\t\t\n\t\tthis.moving = column;\n\t\tthis.startX = (this.touchMove ? e.touches[0].pageX : e.pageX) - Helpers.elOffset(element).left;\n\t\t\n\t\tthis.table.element.classList.add(\"tabulator-block-select\");\n\t\t\n\t\t//create placeholder\n\t\tthis.placeholderElement.style.width = column.getWidth() + \"px\";\n\t\tthis.placeholderElement.style.height = column.getHeight() + \"px\";\n\t\t\n\t\telement.parentNode.insertBefore(this.placeholderElement, element);\n\t\telement.parentNode.removeChild(element);\n\t\t\n\t\t//create hover element\n\t\tthis.hoverElement = element.cloneNode(true);\n\t\tthis.hoverElement.classList.add(\"tabulator-moving\");\n\t\t\n\t\theaderElement.appendChild(this.hoverElement);\n\t\t\n\t\tthis.hoverElement.style.left = \"0\";\n\t\tthis.hoverElement.style.bottom = (headerElement.clientHeight - headersElement.offsetHeight) + \"px\";\n\t\t\n\t\tif(!this.touchMove){\n\t\t\tthis._bindMouseMove();\n\t\t\t\n\t\t\tdocument.body.addEventListener(\"mousemove\", this.moveHover);\n\t\t\tdocument.body.addEventListener(\"mouseup\", this.endMove);\n\t\t}\n\t\t\n\t\tthis.moveHover(e);\n\t}\n\t\n\t_bindMouseMove(){\n\t\tthis.table.columnManager.columnsByIndex.forEach(function(column){\n\t\t\tif(column.modules.moveColumn.mousemove){\n\t\t\t\tcolumn.getElement().addEventListener(\"mousemove\", column.modules.moveColumn.mousemove);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t_unbindMouseMove(){\n\t\tthis.table.columnManager.columnsByIndex.forEach(function(column){\n\t\t\tif(column.modules.moveColumn.mousemove){\n\t\t\t\tcolumn.getElement().removeEventListener(\"mousemove\", column.modules.moveColumn.mousemove);\n\t\t\t}\n\t\t});\n\t}\n\t\n\tmoveColumn(column, after){\n\t\tvar movingCells = this.moving.getCells();\n\t\t\n\t\tthis.toCol = column;\n\t\tthis.toColAfter = after;\n\t\t\n\t\tif(after){\n\t\t\tcolumn.getCells().forEach(function(cell, i){\n\t\t\t\tvar cellEl = cell.getElement(true);\n\t\t\t\t\n\t\t\t\tif(cellEl.parentNode && movingCells[i]){\n\t\t\t\t\tcellEl.parentNode.insertBefore(movingCells[i].getElement(), cellEl.nextSibling);\n\t\t\t\t}\n\t\t\t});\n\t\t}else{\n\t\t\tcolumn.getCells().forEach(function(cell, i){\n\t\t\t\tvar cellEl = cell.getElement(true);\n\t\t\t\t\n\t\t\t\tif(cellEl.parentNode && movingCells[i]){\n\t\t\t\t\tcellEl.parentNode.insertBefore(movingCells[i].getElement(), cellEl);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\t\n\tendMove(e){\n\t\tif(e.which === 1 || this.touchMove){\n\t\t\tthis._unbindMouseMove();\n\t\t\t\n\t\t\tthis.placeholderElement.parentNode.insertBefore(this.moving.getElement(), this.placeholderElement.nextSibling);\n\t\t\tthis.placeholderElement.parentNode.removeChild(this.placeholderElement);\n\t\t\tthis.hoverElement.parentNode.removeChild(this.hoverElement);\n\t\t\t\n\t\t\tthis.table.element.classList.remove(\"tabulator-block-select\");\n\t\t\t\n\t\t\tif(this.toCol){\n\t\t\t\tthis.table.columnManager.moveColumnActual(this.moving, this.toCol, this.toColAfter);\n\t\t\t}\n\t\t\t\n\t\t\tthis.moving = false;\n\t\t\tthis.toCol = false;\n\t\t\tthis.toColAfter = false;\n\t\t\t\n\t\t\tif(!this.touchMove){\n\t\t\t\tdocument.body.removeEventListener(\"mousemove\", this.moveHover);\n\t\t\t\tdocument.body.removeEventListener(\"mouseup\", this.endMove);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tmoveHover(e){\n\t\tvar columnHolder = this.table.columnManager.getContentsElement(),\n\t\tscrollLeft = columnHolder.scrollLeft,\n\t\txPos = ((this.touchMove ? e.touches[0].pageX : e.pageX) - Helpers.elOffset(columnHolder).left) + scrollLeft,\n\t\tscrollPos;\n\t\t\n\t\tthis.hoverElement.style.left = (xPos - this.startX) + \"px\";\n\t\t\n\t\tif(xPos - scrollLeft < this.autoScrollMargin){\n\t\t\tif(!this.autoScrollTimeout){\n\t\t\t\tthis.autoScrollTimeout = setTimeout(() => {\n\t\t\t\t\tscrollPos = Math.max(0,scrollLeft-5);\n\t\t\t\t\tthis.table.rowManager.getElement().scrollLeft = scrollPos;\n\t\t\t\t\tthis.autoScrollTimeout = false;\n\t\t\t\t}, 1);\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(scrollLeft + columnHolder.clientWidth - xPos < this.autoScrollMargin){\n\t\t\tif(!this.autoScrollTimeout){\n\t\t\t\tthis.autoScrollTimeout = setTimeout(() => {\n\t\t\t\t\tscrollPos = Math.min(columnHolder.clientWidth, scrollLeft+5);\n\t\t\t\t\tthis.table.rowManager.getElement().scrollLeft = scrollPos;\n\t\t\t\t\tthis.autoScrollTimeout = false;\n\t\t\t\t}, 1);\n\t\t\t}\n\t\t}\n\t}\n}\n\nMoveColumns.moduleName = \"moveColumn\";\n\nexport default MoveColumns;\n","import Module from '../../core/Module.js';\nimport Helpers from '../../core/tools/Helpers.js';\n\nclass MoveRows extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.placeholderElement = this.createPlaceholderElement();\n\t\tthis.hoverElement = false; //floating row header element\n\t\tthis.checkTimeout = false; //click check timeout holder\n\t\tthis.checkPeriod = 150; //period to wait on mousedown to consider this a move and not a click\n\t\tthis.moving = false; //currently moving row\n\t\tthis.toRow = false; //destination row\n\t\tthis.toRowAfter = false; //position of moving row relative to the destination row\n\t\tthis.hasHandle = false; //row has handle instead of fully movable row\n\t\tthis.startY = 0; //starting Y position within header element\n\t\tthis.startX = 0; //starting X position within header element\n\n\t\tthis.moveHover = this.moveHover.bind(this);\n\t\tthis.endMove = this.endMove.bind(this);\n\t\tthis.tableRowDropEvent = false;\n\n\t\tthis.touchMove = false;\n\n\t\tthis.connection = false;\n\t\tthis.connectionSelectorsTables = false;\n\t\tthis.connectionSelectorsElements = false;\n\t\tthis.connectionElements = [];\n\t\tthis.connections = [];\n\n\t\tthis.connectedTable = false;\n\t\tthis.connectedRow = false;\n\n\t\tthis.registerTableOption(\"movableRows\", false); //enable movable rows\n\t\tthis.registerTableOption(\"movableRowsConnectedTables\", false); //tables for movable rows to be connected to\n\t\tthis.registerTableOption(\"movableRowsConnectedElements\", false); //other elements for movable rows to be connected to\n\t\tthis.registerTableOption(\"movableRowsSender\", false);\n\t\tthis.registerTableOption(\"movableRowsReceiver\", \"insert\");\n\n\t\tthis.registerColumnOption(\"rowHandle\");\n\t}\n\n\tcreatePlaceholderElement(){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-row\");\n\t\tel.classList.add(\"tabulator-row-placeholder\");\n\n\t\treturn el;\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.movableRows){\n\t\t\tthis.connectionSelectorsTables = this.table.options.movableRowsConnectedTables;\n\t\t\tthis.connectionSelectorsElements = this.table.options.movableRowsConnectedElements;\n\n\t\t\tthis.connection = this.connectionSelectorsTables || this.connectionSelectorsElements;\n\n\t\t\tthis.subscribe(\"cell-init\", this.initializeCell.bind(this));\n\t\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\t\tthis.subscribe(\"row-init\", this.initializeRow.bind(this));\n\t\t}\n\t}\n\n\tinitializeGroupHeader(group){\n\t\tvar self = this,\n\t\tconfig = {};\n\n\t\t//inter table drag drop\n\t\tconfig.mouseup = function(e){\n\t\t\tself.tableRowDrop(e, group);\n\t\t}.bind(self);\n\n\t\t//same table drag drop\n\t\tconfig.mousemove = function(e){\n\t\t\tvar rowEl;\n\n\t\t\tif(((e.pageY - Helpers.elOffset(group.element).top) + self.table.rowManager.element.scrollTop) > (group.getHeight() / 2)){\n\t\t\t\tif(self.toRow !== group || !self.toRowAfter){\n\t\t\t\t\trowEl = group.getElement();\n\t\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl.nextSibling);\n\t\t\t\t\tself.moveRow(group, true);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(self.toRow !== group || self.toRowAfter){\n\t\t\t\t\trowEl = group.getElement();\n\t\t\t\t\tif(rowEl.previousSibling){\n\t\t\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl);\n\t\t\t\t\t\tself.moveRow(group, false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}.bind(self);\n\n\t\tgroup.modules.moveRow = config;\n\t}\n\n\tinitializeRow(row){\n\t\tvar self = this,\n\t\tconfig = {},\n\t\trowEl;\n\n\t\t//inter table drag drop\n\t\tconfig.mouseup = function(e){\n\t\t\tself.tableRowDrop(e, row);\n\t\t}.bind(self);\n\n\t\t//same table drag drop\n\t\tconfig.mousemove = function(e){\n\t\t\tvar rowEl = row.getElement();\n\n\t\t\tif(((e.pageY - Helpers.elOffset(rowEl).top) + self.table.rowManager.element.scrollTop) > (row.getHeight() / 2)){\n\t\t\t\tif(self.toRow !== row || !self.toRowAfter){\n\t\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl.nextSibling);\n\t\t\t\t\tself.moveRow(row, true);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(self.toRow !== row || self.toRowAfter){\n\t\t\t\t\trowEl.parentNode.insertBefore(self.placeholderElement, rowEl);\n\t\t\t\t\tself.moveRow(row, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}.bind(self);\n\n\n\t\tif(!this.hasHandle){\n\n\t\t\trowEl = row.getElement();\n\n\t\t\trowEl.addEventListener(\"mousedown\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tself.checkTimeout = setTimeout(function(){\n\t\t\t\t\t\tself.startMove(e, row);\n\t\t\t\t\t}, self.checkPeriod);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\trowEl.addEventListener(\"mouseup\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tif(self.checkTimeout){\n\t\t\t\t\t\tclearTimeout(self.checkTimeout);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.bindTouchEvents(row, row.getElement());\n\t\t}\n\n\t\trow.modules.moveRow = config;\n\t}\n\n\tinitializeColumn(column){\n\t\tif(column.definition.rowHandle && this.table.options.movableRows !== false){\n\t\t\tthis.hasHandle = true;\n\t\t}\n\t}\n\n\tinitializeCell(cell){\n\t\tif(cell.column.definition.rowHandle && this.table.options.movableRows !== false){\n\t\t\tvar self = this,\n\t\t\tcellEl = cell.getElement(true);\n\n\t\t\tcellEl.addEventListener(\"mousedown\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tself.checkTimeout = setTimeout(function(){\n\t\t\t\t\t\tself.startMove(e, cell.row);\n\t\t\t\t\t}, self.checkPeriod);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tcellEl.addEventListener(\"mouseup\", function(e){\n\t\t\t\tif(e.which === 1){\n\t\t\t\t\tif(self.checkTimeout){\n\t\t\t\t\t\tclearTimeout(self.checkTimeout);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.bindTouchEvents(cell.row, cellEl);\n\t\t}\n\t}\n\n\tbindTouchEvents(row, element){\n\t\tvar startYMove = false, //shifting center position of the cell\n\t\tnextRow, prevRow, nextRowHeight, prevRowHeight, nextRowHeightLast, prevRowHeightLast;\n\n\t\telement.addEventListener(\"touchstart\", (e) => {\n\t\t\tthis.checkTimeout = setTimeout(() => {\n\t\t\t\tthis.touchMove = true;\n\t\t\t\tnextRow = row.nextRow();\n\t\t\t\tnextRowHeight = nextRow ? nextRow.getHeight()/2 : 0;\n\t\t\t\tprevRow = row.prevRow();\n\t\t\t\tprevRowHeight = prevRow ? prevRow.getHeight()/2 : 0;\n\t\t\t\tnextRowHeightLast = 0;\n\t\t\t\tprevRowHeightLast = 0;\n\t\t\t\tstartYMove = false;\n\n\t\t\t\tthis.startMove(e, row);\n\t\t\t}, this.checkPeriod);\n\t\t}, {passive: true});\n\t\tthis.moving, this.toRow, this.toRowAfter;\n\t\telement.addEventListener(\"touchmove\", (e) => {\n\n\t\t\tvar diff, moveToRow;\n\n\t\t\tif(this.moving){\n\t\t\t\te.preventDefault();\n\n\t\t\t\tthis.moveHover(e);\n\n\t\t\t\tif(!startYMove){\n\t\t\t\t\tstartYMove = e.touches[0].pageY;\n\t\t\t\t}\n\n\t\t\t\tdiff = e.touches[0].pageY - startYMove;\n\n\t\t\t\tif(diff > 0){\n\t\t\t\t\tif(nextRow && diff - nextRowHeightLast > nextRowHeight){\n\t\t\t\t\t\tmoveToRow = nextRow;\n\n\t\t\t\t\t\tif(moveToRow !== row){\n\t\t\t\t\t\t\tstartYMove = e.touches[0].pageY;\n\t\t\t\t\t\t\tmoveToRow.getElement().parentNode.insertBefore(this.placeholderElement, moveToRow.getElement().nextSibling);\n\t\t\t\t\t\t\tthis.moveRow(moveToRow, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tif(prevRow && -diff - prevRowHeightLast >  prevRowHeight){\n\t\t\t\t\t\tmoveToRow = prevRow;\n\n\t\t\t\t\t\tif(moveToRow !== row){\n\t\t\t\t\t\t\tstartYMove = e.touches[0].pageY;\n\t\t\t\t\t\t\tmoveToRow.getElement().parentNode.insertBefore(this.placeholderElement, moveToRow.getElement());\n\t\t\t\t\t\t\tthis.moveRow(moveToRow, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(moveToRow){\n\t\t\t\t\tnextRow = moveToRow.nextRow();\n\t\t\t\t\tnextRowHeightLast = nextRowHeight;\n\t\t\t\t\tnextRowHeight = nextRow ? nextRow.getHeight() / 2 : 0;\n\t\t\t\t\tprevRow = moveToRow.prevRow();\n\t\t\t\t\tprevRowHeightLast = prevRowHeight;\n\t\t\t\t\tprevRowHeight = prevRow ? prevRow.getHeight() / 2 : 0;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\telement.addEventListener(\"touchend\", (e) => {\n\t\t\tif(this.checkTimeout){\n\t\t\t\tclearTimeout(this.checkTimeout);\n\t\t\t}\n\t\t\tif(this.moving){\n\t\t\t\tthis.endMove(e);\n\t\t\t\tthis.touchMove = false;\n\t\t\t}\n\t\t});\n\t}\n\n\t_bindMouseMove(){\n\t\tthis.table.rowManager.getDisplayRows().forEach((row) => {\n\t\t\tif((row.type === \"row\" || row.type === \"group\") && row.modules.moveRow && row.modules.moveRow.mousemove){\n\t\t\t\trow.getElement().addEventListener(\"mousemove\", row.modules.moveRow.mousemove);\n\t\t\t}\n\t\t});\n\t}\n\n\t_unbindMouseMove(){\n\t\tthis.table.rowManager.getDisplayRows().forEach((row) => {\n\t\t\tif((row.type === \"row\" || row.type === \"group\") && row.modules.moveRow && row.modules.moveRow.mousemove){\n\t\t\t\trow.getElement().removeEventListener(\"mousemove\", row.modules.moveRow.mousemove);\n\t\t\t}\n\t\t});\n\t}\n\n\tstartMove(e, row){\n\t\tvar element = row.getElement();\n\n\t\tthis.setStartPosition(e, row);\n\n\t\tthis.moving = row;\n\n\t\tthis.table.element.classList.add(\"tabulator-block-select\");\n\n\t\t//create placeholder\n\t\tthis.placeholderElement.style.width = row.getWidth() + \"px\";\n\t\tthis.placeholderElement.style.height = row.getHeight() + \"px\";\n\n\t\tif(!this.connection){\n\t\t\telement.parentNode.insertBefore(this.placeholderElement, element);\n\t\t\telement.parentNode.removeChild(element);\n\t\t}else{\n\t\t\tthis.table.element.classList.add(\"tabulator-movingrow-sending\");\n\t\t\tthis.connectToTables(row);\n\t\t}\n\n\t\t//create hover element\n\t\tthis.hoverElement = element.cloneNode(true);\n\t\tthis.hoverElement.classList.add(\"tabulator-moving\");\n\n\t\tif(this.connection){\n\t\t\tdocument.body.appendChild(this.hoverElement);\n\t\t\tthis.hoverElement.style.left = \"0\";\n\t\t\tthis.hoverElement.style.top = \"0\";\n\t\t\tthis.hoverElement.style.width = this.table.element.clientWidth + \"px\";\n\t\t\tthis.hoverElement.style.whiteSpace = \"nowrap\";\n\t\t\tthis.hoverElement.style.overflow = \"hidden\";\n\t\t\tthis.hoverElement.style.pointerEvents = \"none\";\n\t\t}else{\n\t\t\tthis.table.rowManager.getTableElement().appendChild(this.hoverElement);\n\n\t\t\tthis.hoverElement.style.left = \"0\";\n\t\t\tthis.hoverElement.style.top = \"0\";\n\n\t\t\tthis._bindMouseMove();\n\t\t}\n\n\t\tdocument.body.addEventListener(\"mousemove\", this.moveHover);\n\t\tdocument.body.addEventListener(\"mouseup\", this.endMove);\n\n\t\tthis.dispatchExternal(\"rowMoving\", row.getComponent());\n\n\t\tthis.moveHover(e);\n\t}\n\n\tsetStartPosition(e, row){\n\t\tvar pageX = this.touchMove ? e.touches[0].pageX : e.pageX,\n\t\tpageY = this.touchMove ? e.touches[0].pageY : e.pageY,\n\t\telement, position;\n\n\t\telement = row.getElement();\n\t\tif(this.connection){\n\t\t\tposition = element.getBoundingClientRect();\n\n\t\t\tthis.startX = position.left - pageX + window.pageXOffset;\n\t\t\tthis.startY = position.top - pageY + window.pageYOffset;\n\t\t}else{\n\t\t\tthis.startY = (pageY - element.getBoundingClientRect().top);\n\t\t}\n\t}\n\n\tendMove(e){\n\t\tif(!e || e.which === 1 || this.touchMove){\n\t\t\tthis._unbindMouseMove();\n\n\t\t\tif(!this.connection){\n\t\t\t\tthis.placeholderElement.parentNode.insertBefore(this.moving.getElement(), this.placeholderElement.nextSibling);\n\t\t\t\tthis.placeholderElement.parentNode.removeChild(this.placeholderElement);\n\t\t\t}\n\n\t\t\tthis.hoverElement.parentNode.removeChild(this.hoverElement);\n\n\t\t\tthis.table.element.classList.remove(\"tabulator-block-select\");\n\n\t\t\tif(this.toRow){\n\t\t\t\tthis.table.rowManager.moveRow(this.moving, this.toRow, this.toRowAfter);\n\t\t\t}else{\n\t\t\t\tthis.dispatchExternal(\"rowMoveCancelled\", this.moving.getComponent());\n\t\t\t}\n\n\t\t\tthis.moving = false;\n\t\t\tthis.toRow = false;\n\t\t\tthis.toRowAfter = false;\n\n\t\t\tdocument.body.removeEventListener(\"mousemove\", this.moveHover);\n\t\t\tdocument.body.removeEventListener(\"mouseup\", this.endMove);\n\n\t\t\tif(this.connection){\n\t\t\t\tthis.table.element.classList.remove(\"tabulator-movingrow-sending\");\n\t\t\t\tthis.disconnectFromTables();\n\t\t\t}\n\t\t}\n\t}\n\n\tmoveRow(row, after){\n\t\tthis.toRow = row;\n\t\tthis.toRowAfter = after;\n\t}\n\n\tmoveHover(e){\n\t\tif(this.connection){\n\t\t\tthis.moveHoverConnections.call(this, e);\n\t\t}else{\n\t\t\tthis.moveHoverTable.call(this, e);\n\t\t}\n\t}\n\n\tmoveHoverTable(e){\n\t\tvar rowHolder = this.table.rowManager.getElement(),\n\t\tscrollTop = rowHolder.scrollTop,\n\t\tyPos = ((this.touchMove ? e.touches[0].pageY : e.pageY) - rowHolder.getBoundingClientRect().top) + scrollTop;\n\t\t\n\t\tthis.hoverElement.style.top = Math.min(yPos - this.startY, this.table.rowManager.element.scrollHeight - this.hoverElement.offsetHeight) + \"px\";\n\t}\n\n\tmoveHoverConnections(e){\n\t\tthis.hoverElement.style.left = (this.startX + (this.touchMove ? e.touches[0].pageX : e.pageX)) + \"px\";\n\t\tthis.hoverElement.style.top = (this.startY + (this.touchMove ? e.touches[0].pageY : e.pageY)) + \"px\";\n\t}\n\n\telementRowDrop(e, element, row){\n\t\tthis.dispatchExternal(\"movableRowsElementDrop\", e, element, row ? row.getComponent() : false);\n\t}\n\n\t//establish connection with other tables\n\tconnectToTables(row){\n\t\tvar connectionTables;\n\n\t\tif(this.connectionSelectorsTables){\n\t\t\tconnectionTables = this.commsConnections(this.connectionSelectorsTables);\n\n\t\t\tthis.dispatchExternal(\"movableRowsSendingStart\", connectionTables);\n\n\t\t\tthis.commsSend(this.connectionSelectorsTables, \"moveRow\", \"connect\", {\n\t\t\t\trow:row,\n\t\t\t});\n\t\t}\n\n\t\tif(this.connectionSelectorsElements){\n\n\t\t\tthis.connectionElements = [];\n\n\t\t\tif(!Array.isArray(this.connectionSelectorsElements)){\n\t\t\t\tthis.connectionSelectorsElements = [this.connectionSelectorsElements];\n\t\t\t}\n\n\t\t\tthis.connectionSelectorsElements.forEach((query) => {\n\t\t\t\tif(typeof query === \"string\"){\n\t\t\t\t\tthis.connectionElements = this.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(query)));\n\t\t\t\t}else{\n\t\t\t\t\tthis.connectionElements.push(query);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.connectionElements.forEach((element) => {\n\t\t\t\tvar dropEvent = (e) => {\n\t\t\t\t\tthis.elementRowDrop(e, element, this.moving);\n\t\t\t\t};\n\n\t\t\t\telement.addEventListener(\"mouseup\", dropEvent);\n\t\t\t\telement.tabulatorElementDropEvent = dropEvent;\n\n\t\t\t\telement.classList.add(\"tabulator-movingrow-receiving\");\n\t\t\t});\n\t\t}\n\t}\n\n\t//disconnect from other tables\n\tdisconnectFromTables(){\n\t\tvar connectionTables;\n\n\t\tif(this.connectionSelectorsTables){\n\t\t\tconnectionTables = this.commsConnections(this.connectionSelectorsTables);\n\n\t\t\tthis.dispatchExternal(\"movableRowsSendingStop\", connectionTables);\n\n\t\t\tthis.commsSend(this.connectionSelectorsTables, \"moveRow\", \"disconnect\");\n\t\t}\n\n\t\tthis.connectionElements.forEach((element) => {\n\t\t\telement.classList.remove(\"tabulator-movingrow-receiving\");\n\t\t\telement.removeEventListener(\"mouseup\", element.tabulatorElementDropEvent);\n\t\t\tdelete element.tabulatorElementDropEvent;\n\t\t});\n\t}\n\n\t//accept incomming connection\n\tconnect(table, row){\n\t\tif(!this.connectedTable){\n\t\t\tthis.connectedTable = table;\n\t\t\tthis.connectedRow = row;\n\n\t\t\tthis.table.element.classList.add(\"tabulator-movingrow-receiving\");\n\n\t\t\tthis.table.rowManager.getDisplayRows().forEach((row) => {\n\t\t\t\tif(row.type === \"row\" && row.modules.moveRow && row.modules.moveRow.mouseup){\n\t\t\t\t\trow.getElement().addEventListener(\"mouseup\", row.modules.moveRow.mouseup);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.tableRowDropEvent = this.tableRowDrop.bind(this);\n\n\t\t\tthis.table.element.addEventListener(\"mouseup\", this.tableRowDropEvent);\n\n\t\t\tthis.dispatchExternal(\"movableRowsReceivingStart\", row, table);\n\n\t\t\treturn true;\n\t\t}else{\n\t\t\tconsole.warn(\"Move Row Error - Table cannot accept connection, already connected to table:\", this.connectedTable);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//close incoming connection\n\tdisconnect(table){\n\t\tif(table === this.connectedTable){\n\t\t\tthis.connectedTable = false;\n\t\t\tthis.connectedRow = false;\n\n\t\t\tthis.table.element.classList.remove(\"tabulator-movingrow-receiving\");\n\n\t\t\tthis.table.rowManager.getDisplayRows().forEach((row) =>{\n\t\t\t\tif(row.type === \"row\" && row.modules.moveRow && row.modules.moveRow.mouseup){\n\t\t\t\t\trow.getElement().removeEventListener(\"mouseup\", row.modules.moveRow.mouseup);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.table.element.removeEventListener(\"mouseup\", this.tableRowDropEvent);\n\n\t\t\tthis.dispatchExternal(\"movableRowsReceivingStop\", table);\n\t\t}else{\n\t\t\tconsole.warn(\"Move Row Error - trying to disconnect from non connected table\");\n\t\t}\n\t}\n\n\tdropComplete(table, row, success){\n\t\tvar sender = false;\n\n\t\tif(success){\n\n\t\t\tswitch(typeof this.table.options.movableRowsSender){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tsender = this.senders[this.table.options.movableRowsSender];\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"function\":\n\t\t\t\t\tsender = this.table.options.movableRowsSender;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif(sender){\n\t\t\t\tsender.call(this, this.moving ? this.moving.getComponent() : undefined, row ? row.getComponent() : undefined, table);\n\t\t\t}else{\n\t\t\t\tif(this.table.options.movableRowsSender){\n\t\t\t\t\tconsole.warn(\"Mover Row Error - no matching sender found:\", this.table.options.movableRowsSender);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.dispatchExternal(\"movableRowsSent\", this.moving.getComponent(), row ? row.getComponent() : undefined, table);\n\t\t}else{\n\t\t\tthis.dispatchExternal(\"movableRowsSentFailed\", this.moving.getComponent(), row ? row.getComponent() : undefined, table);\n\t\t}\n\n\t\tthis.endMove();\n\t}\n\n\ttableRowDrop(e, row){\n\t\tvar receiver = false,\n\t\tsuccess = false;\n\n\t\te.stopImmediatePropagation();\n\n\t\tswitch(typeof this.table.options.movableRowsReceiver){\n\t\t\tcase \"string\":\n\t\t\t\treceiver = this.receivers[this.table.options.movableRowsReceiver];\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\treceiver = this.table.options.movableRowsReceiver;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif(receiver){\n\t\t\tsuccess = receiver.call(this, this.connectedRow.getComponent(), row ? row.getComponent() : undefined, this.connectedTable);\n\t\t}else{\n\t\t\tconsole.warn(\"Mover Row Error - no matching receiver found:\", this.table.options.movableRowsReceiver);\n\t\t}\n\n\t\tif(success){\n\t\t\tthis.dispatchExternal(\"movableRowsReceived\", this.connectedRow.getComponent(), row ? row.getComponent() : undefined, this.connectedTable);\n\t\t}else{\n\t\t\tthis.dispatchExternal(\"movableRowsReceivedFailed\", this.connectedRow.getComponent(), row ? row.getComponent() : undefined, this.connectedTable);\n\t\t}\n\n\t\tthis.commsSend(this.connectedTable, \"moveRow\", \"dropcomplete\", {\n\t\t\trow:row,\n\t\t\tsuccess:success,\n\t\t});\n\t}\n\n\tcommsReceived(table, action, data){\n\t\tswitch(action){\n\t\t\tcase \"connect\":\n\t\t\t\treturn this.connect(table, data.row);\n\n\t\t\tcase \"disconnect\":\n\t\t\t\treturn this.disconnect(table);\n\n\t\t\tcase \"dropcomplete\":\n\t\t\t\treturn this.dropComplete(table, data.row, data.success);\n\t\t}\n\t}\n}\n\nMoveRows.prototype.receivers = {\n\tinsert:function(fromRow, toRow, fromTable){\n\t\tthis.table.addRow(fromRow.getData(), undefined, toRow);\n\t\treturn true;\n\t},\n\n\tadd:function(fromRow, toRow, fromTable){\n\t\tthis.table.addRow(fromRow.getData());\n\t\treturn true;\n\t},\n\n\tupdate:function(fromRow, toRow, fromTable){\n\t\tif(toRow){\n\t\t\ttoRow.update(fromRow.getData());\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\treplace:function(fromRow, toRow, fromTable){\n\t\tif(toRow){\n\t\t\tthis.table.addRow(fromRow.getData(), undefined, toRow);\n\t\t\ttoRow.delete();\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n};\n\nMoveRows.prototype.senders = {\n\tdelete:function(fromRow, toRow, toTable){\n\t\tfromRow.delete();\n\t}\n};\n\nMoveRows.moduleName = \"moveRow\";\n\nexport default MoveRows;","export default {};","import Module from '../../core/Module.js';\n\nimport defaultMutators from './defaults/mutators.js';\n\nclass Mutator extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.allowedTypes = [\"\", \"data\", \"edit\", \"clipboard\"]; //list of mutation types\n\t\tthis.enabled = true;\n\n\t\tthis.registerColumnOption(\"mutator\");\n\t\tthis.registerColumnOption(\"mutatorParams\");\n\t\tthis.registerColumnOption(\"mutatorData\");\n\t\tthis.registerColumnOption(\"mutatorDataParams\");\n\t\tthis.registerColumnOption(\"mutatorEdit\");\n\t\tthis.registerColumnOption(\"mutatorEditParams\");\n\t\tthis.registerColumnOption(\"mutatorClipboard\");\n\t\tthis.registerColumnOption(\"mutatorClipboardParams\");\n\t\tthis.registerColumnOption(\"mutateLink\");\n\t}\n\n\tinitialize(){\n\t\tthis.subscribe(\"cell-value-changing\", this.transformCell.bind(this));\n\t\tthis.subscribe(\"cell-value-changed\", this.mutateLink.bind(this));\n\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"row-data-init-before\", this.rowDataChanged.bind(this));\n\t\tthis.subscribe(\"row-data-changing\", this.rowDataChanged.bind(this));\n\t}\n\n\trowDataChanged(row, tempData, updatedData){\n\t\treturn this.transformRow(tempData, \"data\", updatedData);\n\t}\n\n\t//initialize column mutator\n\tinitializeColumn(column){\n\t\tvar match = false,\n\t\tconfig = {};\n\n\t\tthis.allowedTypes.forEach((type) => {\n\t\t\tvar key = \"mutator\" + (type.charAt(0).toUpperCase() + type.slice(1)),\n\t\t\tmutator;\n\n\t\t\tif(column.definition[key]){\n\t\t\t\tmutator = this.lookupMutator(column.definition[key]);\n\n\t\t\t\tif(mutator){\n\t\t\t\t\tmatch = true;\n\n\t\t\t\t\tconfig[key] = {\n\t\t\t\t\t\tmutator:mutator,\n\t\t\t\t\t\tparams: column.definition[key + \"Params\"] || {},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif(match){\n\t\t\tcolumn.modules.mutate = config;\n\t\t}\n\t}\n\n\tlookupMutator(value){\n\t\tvar mutator = false;\n\n\t\t//set column mutator\n\t\tswitch(typeof value){\n\t\t\tcase \"string\":\n\t\t\t\tif(Mutator.mutators[value]){\n\t\t\t\t\tmutator = Mutator.mutators[value];\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Mutator Error - No such mutator found, ignoring: \", value);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\tmutator = value;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn mutator;\n\t}\n\n\t//apply mutator to row\n\ttransformRow(data, type, updatedData){\n\t\tvar key = \"mutator\" + (type.charAt(0).toUpperCase() + type.slice(1)),\n\t\tvalue;\n\n\t\tif(this.enabled){\n\n\t\t\tthis.table.columnManager.traverse((column) => {\n\t\t\t\tvar mutator, params, component;\n\n\t\t\t\tif(column.modules.mutate){\n\t\t\t\t\tmutator = column.modules.mutate[key] || column.modules.mutate.mutator || false;\n\n\t\t\t\t\tif(mutator){\n\t\t\t\t\t\tvalue = column.getFieldValue(typeof updatedData !== \"undefined\" ? updatedData : data);\n\n\t\t\t\t\t\tif((type == \"data\" && !updatedData)|| typeof value !== \"undefined\"){\n\t\t\t\t\t\t\tcomponent = column.getComponent();\n\t\t\t\t\t\t\tparams = typeof mutator.params === \"function\" ? mutator.params(value, data, type, component) : mutator.params;\n\t\t\t\t\t\t\tcolumn.setFieldValue(data, mutator.mutator(value, data, type, params, component));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn data;\n\t}\n\n\t//apply mutator to new cell value\n\ttransformCell(cell, value){\n\t\tif(cell.column.modules.mutate){\n\t\t\tvar mutator = cell.column.modules.mutate.mutatorEdit || cell.column.modules.mutate.mutator || false,\n\t\t\ttempData = {};\n\n\t\t\tif(mutator){\n\t\t\t\ttempData = Object.assign(tempData, cell.row.getData());\n\t\t\t\tcell.column.setFieldValue(tempData, value);\n\t\t\t\treturn mutator.mutator(value, tempData, \"edit\", mutator.params, cell.getComponent());\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t}\n\n\tmutateLink(cell){\n\t\tvar links = cell.column.definition.mutateLink;\n\n\t\tif(links){\n\t\t\tif(!Array.isArray(links)){\n\t\t\t\tlinks = [links];\n\t\t\t}\n\n\t\t\tlinks.forEach((link) => {\n\t\t\t\tvar linkCell = cell.row.getCell(link);\n\n\t\t\t\tif(linkCell){\n\t\t\t\t\tlinkCell.setValue(linkCell.getValue(), true, true);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tenable(){\n\t\tthis.enabled = true;\n\t}\n\n\tdisable(){\n\t\tthis.enabled = false;\n\t}\n}\n\nMutator.moduleName = \"mutator\";\n\n//load defaults\nMutator.mutators = defaultMutators;\n\nexport default Mutator;","import rows from './pageCounters/rows.js';\nimport pages from './pageCounters/pages.js';\n\n\nexport default {\n\trows:rows,\n\tpages:pages,\n};","export default function(pageSize, currentRow, currentPage, totalRows, totalPages){\n\tvar el = document.createElement(\"span\"),\n\tshowingEl = document.createElement(\"span\"),\n\tvalueEl = document.createElement(\"span\"),\n\tofEl = document.createElement(\"span\"),\n\ttotalEl = document.createElement(\"span\"),\n\trowsEl = document.createElement(\"span\");\n\n\tthis.table.modules.localize.langBind(\"pagination|counter|showing\", (value) => {\n\t\tshowingEl.innerHTML = value;\n\t});\n\n\tthis.table.modules.localize.langBind(\"pagination|counter|of\", (value) => {\n\t\tofEl.innerHTML = value;\n\t});\n\n\tthis.table.modules.localize.langBind(\"pagination|counter|rows\", (value) => {\n\t\trowsEl.innerHTML = value;\n\t});\n\n\tif(totalRows){\n\t\tvalueEl.innerHTML = \" \" + currentRow + \"-\" + Math.min((currentRow + pageSize - 1), totalRows) + \" \";\n\t\t\n\t\ttotalEl.innerHTML = \" \" + totalRows + \" \";\n\t\t\n\t\tel.appendChild(showingEl);\n\t\tel.appendChild(valueEl);\n\t\tel.appendChild(ofEl);\n\t\tel.appendChild(totalEl);\n\t\tel.appendChild(rowsEl);\n\t}else{\n\t\tvalueEl.innerHTML = \" 0 \";\n\n\t\tel.appendChild(showingEl);\n\t\tel.appendChild(valueEl);\n\t\tel.appendChild(rowsEl);\n\t}\n\t\n\treturn el;\n}","export default function(pageSize, currentRow, currentPage, totalRows, totalPages){\n\n\tvar el = document.createElement(\"span\"),\n\tshowingEl = document.createElement(\"span\"),\n\tvalueEl = document.createElement(\"span\"),\n\tofEl = document.createElement(\"span\"),\n\ttotalEl = document.createElement(\"span\"),\n\trowsEl = document.createElement(\"span\");\n\t\n\tthis.table.modules.localize.langBind(\"pagination|counter|showing\", (value) => {\n\t\tshowingEl.innerHTML = value;\n\t});\n\t\n\tvalueEl.innerHTML = \" \" + currentPage + \" \";\n\t\n\tthis.table.modules.localize.langBind(\"pagination|counter|of\", (value) => {\n\t\tofEl.innerHTML = value;\n\t});\n\t\n\ttotalEl.innerHTML = \" \" + totalPages + \" \";\n\t\n\tthis.table.modules.localize.langBind(\"pagination|counter|pages\", (value) => {\n\t\trowsEl.innerHTML = value;\n\t});\n\t\n\tel.appendChild(showingEl);\n\tel.appendChild(valueEl);\n\tel.appendChild(ofEl);\n\tel.appendChild(totalEl);\n\tel.appendChild(rowsEl);\n\t\n\treturn el;\n}","import Module from '../../core/Module.js';\n\nimport defaultPageCounters from './defaults/pageCounters.js';\n\nclass Page extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.mode = \"local\";\n\t\tthis.progressiveLoad = false;\n\t\t\n\t\tthis.element = null;\n\t\tthis.pageCounterElement = null;\n\t\tthis.pageCounter = null;\n\t\t\n\t\tthis.size = 0;\n\t\tthis.page = 1;\n\t\tthis.count = 5;\n\t\tthis.max = 1;\n\n\t\tthis.remoteRowCountEstimate = null;\n\t\t\n\t\tthis.initialLoad = true;\n\t\tthis.dataChanging = false; //flag to check if data is being changed by this module\n\t\t\n\t\tthis.pageSizes = [];\n\t\t\n\t\tthis.registerTableOption(\"pagination\", false); //set pagination type\n\t\tthis.registerTableOption(\"paginationMode\", \"local\"); //local or remote pagination\n\t\tthis.registerTableOption(\"paginationSize\", false); //set number of rows to a page\n\t\tthis.registerTableOption(\"paginationInitialPage\", 1); //initial page to show on load\n\t\tthis.registerTableOption(\"paginationCounter\", false);  // set pagination counter\n\t\tthis.registerTableOption(\"paginationCounterElement\", false);  // set pagination counter\n\t\tthis.registerTableOption(\"paginationButtonCount\", 5);  // set count of page button\n\t\tthis.registerTableOption(\"paginationSizeSelector\", false); //add pagination size selector element\n\t\tthis.registerTableOption(\"paginationElement\", false); //element to hold pagination numbers\n\t\t// this.registerTableOption(\"paginationDataSent\", {}); //pagination data sent to the server\n\t\t// this.registerTableOption(\"paginationDataReceived\", {}); //pagination data received from the server\n\t\tthis.registerTableOption(\"paginationAddRow\", \"page\"); //add rows on table or page\n\t\t\n\t\tthis.registerTableOption(\"progressiveLoad\", false); //progressive loading\n\t\tthis.registerTableOption(\"progressiveLoadDelay\", 0); //delay between requests\n\t\tthis.registerTableOption(\"progressiveLoadScrollMargin\", 0); //margin before scroll begins\n\t\t\n\t\tthis.registerTableFunction(\"setMaxPage\", this.setMaxPage.bind(this));\n\t\tthis.registerTableFunction(\"setPage\", this.setPage.bind(this));\n\t\tthis.registerTableFunction(\"setPageToRow\", this.userSetPageToRow.bind(this));\n\t\tthis.registerTableFunction(\"setPageSize\", this.userSetPageSize.bind(this));\n\t\tthis.registerTableFunction(\"getPageSize\", this.getPageSize.bind(this));\n\t\tthis.registerTableFunction(\"previousPage\", this.previousPage.bind(this));\n\t\tthis.registerTableFunction(\"nextPage\", this.nextPage.bind(this));\n\t\tthis.registerTableFunction(\"getPage\", this.getPage.bind(this));\n\t\tthis.registerTableFunction(\"getPageMax\", this.getPageMax.bind(this));\n\t\t\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"pageTo\", this.setPageToRow.bind(this));\n\t}\n\t\n\tinitialize(){\n\t\tif(this.table.options.pagination){\n\t\t\tthis.subscribe(\"row-deleted\", this.rowsUpdated.bind(this));\n\t\t\tthis.subscribe(\"row-added\", this.rowsUpdated.bind(this));\n\t\t\tthis.subscribe(\"data-processed\", this.initialLoadComplete.bind(this));\n\t\t\tthis.subscribe(\"table-built\", this.calculatePageSizes.bind(this));\n\t\t\tthis.subscribe(\"footer-redraw\", this.footerRedraw.bind(this));\n\n\t\t\tif(this.table.options.paginationAddRow == \"page\"){\n\t\t\t\tthis.subscribe(\"row-adding-position\", this.rowAddingPosition.bind(this));\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.options.paginationMode === \"remote\"){\n\t\t\t\tthis.subscribe(\"data-params\", this.remotePageParams.bind(this));\n\t\t\t\tthis.subscribe(\"data-loaded\", this._parseRemoteData.bind(this));\n\t\t\t}\n\t\t\t\n\t\t\tif(this.table.options.progressiveLoad){\n\t\t\t\tconsole.error(\"Progressive Load Error - Pagination and progressive load cannot be used at the same time\");\n\t\t\t}\n\t\t\t\n\t\t\tthis.registerDisplayHandler(this.restOnRenderBefore.bind(this), 40);\n\t\t\tthis.registerDisplayHandler(this.getRows.bind(this), 50);\n\t\t\t\n\t\t\tthis.createElements();\n\t\t\tthis.initializePageCounter();\n\t\t\tthis.initializePaginator();\n\t\t}else if(this.table.options.progressiveLoad){\n\t\t\tthis.subscribe(\"data-params\", this.remotePageParams.bind(this));\n\t\t\tthis.subscribe(\"data-loaded\", this._parseRemoteData.bind(this));\n\t\t\tthis.subscribe(\"table-built\", this.calculatePageSizes.bind(this));\n\t\t\tthis.subscribe(\"data-processed\", this.initialLoadComplete.bind(this));\n\t\t\t\n\t\t\tthis.initializeProgressive(this.table.options.progressiveLoad);\n\t\t\t\n\t\t\tif(this.table.options.progressiveLoad === \"scroll\"){\n\t\t\t\tthis.subscribe(\"scroll-vertical\", this.scrollVertical.bind(this));\n\t\t\t}\n\t\t}\n\t}\n\t\n\trowAddingPosition(row, top){\n\t\tvar rowManager = this.table.rowManager,\n\t\tdisplayRows = rowManager.getDisplayRows(),\n\t\tindex;\n\t\t\n\t\tif(top){\n\t\t\tif(displayRows.length){\n\t\t\t\tindex = displayRows[0];\n\t\t\t}else{\n\t\t\t\tif(rowManager.activeRows.length){\n\t\t\t\t\tindex = rowManager.activeRows[rowManager.activeRows.length-1];\n\t\t\t\t\ttop = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tif(displayRows.length){\n\t\t\t\tindex = displayRows[displayRows.length - 1];\n\t\t\t\ttop = displayRows.length < this.size ? false : true;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn {index, top};\n\t}\n\t\n\tcalculatePageSizes(){\n\t\tvar testElRow, testElCell;\n\t\t\n\t\tif(this.table.options.paginationSize){\n\t\t\tthis.size = this.table.options.paginationSize;\n\t\t}else{\n\t\t\ttestElRow = document.createElement(\"div\");\n\t\t\ttestElRow.classList.add(\"tabulator-row\");\n\t\t\ttestElRow.style.visibility = \"hidden\";\n\t\t\t\n\t\t\ttestElCell = document.createElement(\"div\");\n\t\t\ttestElCell.classList.add(\"tabulator-cell\");\n\t\t\ttestElCell.innerHTML = \"Page Row Test\";\n\t\t\t\n\t\t\ttestElRow.appendChild(testElCell);\n\t\t\t\n\t\t\tthis.table.rowManager.getTableElement().appendChild(testElRow);\n\t\t\t\n\t\t\tthis.size = Math.floor(this.table.rowManager.getElement().clientHeight / testElRow.offsetHeight);\n\t\t\t\n\t\t\tthis.table.rowManager.getTableElement().removeChild(testElRow);\n\t\t}\n\n\t\tthis.dispatchExternal(\"pageSizeChanged\", this.size);\n\t\t\n\t\tthis.generatePageSizeSelectList();\n\t}\n\t\n\tinitialLoadComplete(){\n\t\tthis.initialLoad = false;\n\t}\n\t\n\tremotePageParams(data, config, silent, params){\n\t\tif(!this.initialLoad){\n\t\t\tif((this.progressiveLoad && !silent) || (!this.progressiveLoad && !this.dataChanging)){\n\t\t\t\tthis.reset(true);\n\t\t\t}\n\t\t}\n\t\t\n\t\t//configure request params\n\t\tparams.page = this.page;\n\t\t\n\t\t//set page size if defined\n\t\tif(this.size){\n\t\t\tparams.size = this.size;\n\t\t}\n\t\t\n\t\treturn params;\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\t\n\tuserSetPageToRow(row){\n\t\tif(this.table.options.pagination){\n\t\t\trow = this.rowManager.findRow(row);\n\t\t\t\n\t\t\tif(row){\n\t\t\t\treturn this.setPageToRow(row);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn Promise.reject();\n\t}\n\t\n\tuserSetPageSize(size){\n\t\tif(this.table.options.pagination){\n\t\t\tthis.setPageSize(size);\n\t\t\treturn this.setPage(1);\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\t}\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\tscrollVertical(top, dir){\n\t\tvar element, diff, margin;\n\t\tif(!dir && !this.table.dataLoader.loading){\n\t\t\telement = this.table.rowManager.getElement();\n\t\t\tdiff = element.scrollHeight - element.clientHeight - top;\n\t\t\tmargin = this.table.options.progressiveLoadScrollMargin || (element.clientHeight * 2);\n\t\t\t\n\t\t\tif(diff < margin){\n\t\t\t\tthis.nextPage()\n\t\t\t\t\t.catch(() => {}); //consume the exception thrown when on the last page\n\t\t\t}\n\t\t}\n\t}\n\t\n\trestOnRenderBefore(rows, renderInPosition){\n\t\tif(!renderInPosition){\n\t\t\tif(this.mode === \"local\"){\n\t\t\t\tthis.reset();\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn rows;\n\t}\n\t\n\trowsUpdated(){\n\t\tthis.refreshData(true, \"all\");\n\t}\n\t\n\tcreateElements(){\n\t\tvar button;\n\t\t\n\t\tthis.element = document.createElement(\"span\");\n\t\tthis.element.classList.add(\"tabulator-paginator\");\n\t\t\n\t\tthis.pagesElement = document.createElement(\"span\");\n\t\tthis.pagesElement.classList.add(\"tabulator-pages\");\n\t\t\n\t\tbutton = document.createElement(\"button\");\n\t\tbutton.classList.add(\"tabulator-page\");\n\t\tbutton.setAttribute(\"type\", \"button\");\n\t\tbutton.setAttribute(\"role\", \"button\");\n\t\tbutton.setAttribute(\"aria-label\", \"\");\n\t\tbutton.setAttribute(\"title\", \"\");\n\t\t\n\t\tthis.firstBut = button.cloneNode(true);\n\t\tthis.firstBut.setAttribute(\"data-page\", \"first\");\n\t\t\n\t\tthis.prevBut = button.cloneNode(true);\n\t\tthis.prevBut.setAttribute(\"data-page\", \"prev\");\n\t\t\n\t\tthis.nextBut = button.cloneNode(true);\n\t\tthis.nextBut.setAttribute(\"data-page\", \"next\");\n\t\t\n\t\tthis.lastBut = button.cloneNode(true);\n\t\tthis.lastBut.setAttribute(\"data-page\", \"last\");\n\t\t\n\t\tif(this.table.options.paginationSizeSelector){\n\t\t\tthis.pageSizeSelect = document.createElement(\"select\");\n\t\t\tthis.pageSizeSelect.classList.add(\"tabulator-page-size\");\n\t\t}\n\t}\n\t\n\tgeneratePageSizeSelectList(){\n\t\tvar pageSizes = [];\n\t\t\n\t\tif(this.pageSizeSelect){\n\t\t\t\n\t\t\tif(Array.isArray(this.table.options.paginationSizeSelector)){\n\t\t\t\tpageSizes = this.table.options.paginationSizeSelector;\n\t\t\t\tthis.pageSizes = pageSizes;\n\t\t\t\t\n\t\t\t\tif(this.pageSizes.indexOf(this.size) == -1){\n\t\t\t\t\tpageSizes.unshift(this.size);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\t\n\t\t\t\tif(this.pageSizes.indexOf(this.size) == -1){\n\t\t\t\t\tpageSizes = [];\n\t\t\t\t\t\n\t\t\t\t\tfor (let i = 1; i < 5; i++){\n\t\t\t\t\t\tpageSizes.push(this.size * i);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.pageSizes = pageSizes;\n\t\t\t\t}else{\n\t\t\t\t\tpageSizes = this.pageSizes;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\twhile(this.pageSizeSelect.firstChild) this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);\n\t\t\t\n\t\t\tpageSizes.forEach((item) => {\n\t\t\t\tvar itemEl = document.createElement(\"option\");\n\t\t\t\titemEl.value = item;\n\t\t\t\t\n\t\t\t\tif(item === true){\n\t\t\t\t\tthis.langBind(\"pagination|all\", function(value){\n\t\t\t\t\t\titemEl.innerHTML = value;\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\titemEl.innerHTML = item;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tthis.pageSizeSelect.appendChild(itemEl);\n\t\t\t});\n\t\t\t\n\t\t\tthis.pageSizeSelect.value = this.size;\n\t\t}\n\t}\n\t\n\tinitializePageCounter(){\n\t\tvar counter = this.table.options.paginationCounter,\n\t\tpageCounter = null;\n\t\t\n\t\tif(counter){\n\t\t\tif(typeof counter === \"function\"){\n\t\t\t\tpageCounter = counter;\n\t\t\t}else{\n\t\t\t\tpageCounter = Page.pageCounters[counter];\n\t\t\t}\n\t\t\t\n\t\t\tif(pageCounter){\n\t\t\t\tthis.pageCounter = pageCounter;\n\t\t\t\t\n\t\t\t\tthis.pageCounterElement = document.createElement(\"span\");\n\t\t\t\tthis.pageCounterElement.classList.add(\"tabulator-page-counter\");\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Pagination Error - No such page counter found: \", counter);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//setup pagination\n\tinitializePaginator(hidden){\n\t\tvar pageSelectLabel, paginationCounterHolder;\n\t\t\n\t\tif(!hidden){\n\t\t\t//build pagination element\n\t\t\t\n\t\t\t//bind localizations\n\t\t\tthis.langBind(\"pagination|first\", (value) => {\n\t\t\t\tthis.firstBut.innerHTML = value;\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|first_title\", (value) => {\n\t\t\t\tthis.firstBut.setAttribute(\"aria-label\", value);\n\t\t\t\tthis.firstBut.setAttribute(\"title\", value);\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|prev\", (value) => {\n\t\t\t\tthis.prevBut.innerHTML = value;\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|prev_title\", (value) => {\n\t\t\t\tthis.prevBut.setAttribute(\"aria-label\", value);\n\t\t\t\tthis.prevBut.setAttribute(\"title\", value);\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|next\", (value) => {\n\t\t\t\tthis.nextBut.innerHTML = value;\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|next_title\", (value) => {\n\t\t\t\tthis.nextBut.setAttribute(\"aria-label\", value);\n\t\t\t\tthis.nextBut.setAttribute(\"title\", value);\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|last\", (value) => {\n\t\t\t\tthis.lastBut.innerHTML = value;\n\t\t\t});\n\t\t\t\n\t\t\tthis.langBind(\"pagination|last_title\", (value) => {\n\t\t\t\tthis.lastBut.setAttribute(\"aria-label\", value);\n\t\t\t\tthis.lastBut.setAttribute(\"title\", value);\n\t\t\t});\n\t\t\t\n\t\t\t//click bindings\n\t\t\tthis.firstBut.addEventListener(\"click\", () => {\n\t\t\t\tthis.setPage(1);\n\t\t\t});\n\t\t\t\n\t\t\tthis.prevBut.addEventListener(\"click\", () => {\n\t\t\t\tthis.previousPage();\n\t\t\t});\n\t\t\t\n\t\t\tthis.nextBut.addEventListener(\"click\", () => {\n\t\t\t\tthis.nextPage();\n\t\t\t});\n\t\t\t\n\t\t\tthis.lastBut.addEventListener(\"click\", () => {\n\t\t\t\tthis.setPage(this.max);\n\t\t\t});\n\t\t\t\n\t\t\tif(this.table.options.paginationElement){\n\t\t\t\tthis.element = this.table.options.paginationElement;\n\t\t\t}\n\t\t\t\n\t\t\tif(this.pageSizeSelect){\n\t\t\t\tpageSelectLabel = document.createElement(\"label\");\n\t\t\t\t\n\t\t\t\tthis.langBind(\"pagination|page_size\", (value) => {\n\t\t\t\t\tthis.pageSizeSelect.setAttribute(\"aria-label\", value);\n\t\t\t\t\tthis.pageSizeSelect.setAttribute(\"title\", value);\n\t\t\t\t\tpageSelectLabel.innerHTML = value;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.element.appendChild(pageSelectLabel);\n\t\t\t\tthis.element.appendChild(this.pageSizeSelect);\n\t\t\t\t\n\t\t\t\tthis.pageSizeSelect.addEventListener(\"change\", (e) => {\n\t\t\t\t\tthis.setPageSize(this.pageSizeSelect.value == \"true\" ? true : this.pageSizeSelect.value);\n\t\t\t\t\tthis.setPage(1);\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\t//append to DOM\n\t\t\tthis.element.appendChild(this.firstBut);\n\t\t\tthis.element.appendChild(this.prevBut);\n\t\t\tthis.element.appendChild(this.pagesElement);\n\t\t\tthis.element.appendChild(this.nextBut);\n\t\t\tthis.element.appendChild(this.lastBut);\n\t\t\t\n\t\t\tif(!this.table.options.paginationElement){\n\t\t\t\tif(this.table.options.paginationCounter){\n\n\t\t\t\t\tpaginationCounterHolder; \n\n\t\t\t\t\tif(this.table.options.paginationCounterElement){\n\t\t\t\t\t\tif(this.table.options.paginationCounterElement instanceof HTMLElement){\n\t\t\t\t\t\t\tthis.table.options.paginationCounterElement.appendChild(this.pageCounterElement);\n\t\t\t\t\t\t}else if(typeof this.table.options.paginationCounterElement === \"string\"){\n\t\t\t\t\t\t\tpaginationCounterHolder = document.querySelector(this.table.options.paginationCounterElement);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(paginationCounterHolder){\n\t\t\t\t\t\t\t\tpaginationCounterHolder.appendChild(this.pageCounterElement);\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tconsole.warn(\"Pagination Error - Unable to find element matching paginationCounterElement selector:\", this.table.options.paginationCounterElement);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.footerAppend(this.pageCounterElement);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.footerAppend(this.element);\n\t\t\t}\n\t\t\t\n\t\t\tthis.page = this.table.options.paginationInitialPage;\n\t\t\tthis.count = this.table.options.paginationButtonCount;\n\t\t}\n\t\t\n\t\t//set default values\n\t\tthis.mode = this.table.options.paginationMode;\n\t}\n\t\n\tinitializeProgressive(mode){\n\t\tthis.initializePaginator(true);\n\t\tthis.mode = \"progressive_\" + mode;\n\t\tthis.progressiveLoad = true;\n\t}\n\t\n\ttrackChanges(){\n\t\tthis.dispatch(\"page-changed\");\n\t}\n\t\n\t//calculate maximum page from number of rows\n\tsetMaxRows(rowCount){\n\t\tif(!rowCount){\n\t\t\tthis.max = 1;\n\t\t}else{\n\t\t\tthis.max = this.size === true ?  1 : Math.ceil(rowCount/this.size);\n\t\t}\n\t\t\n\t\tif(this.page > this.max){\n\t\t\tthis.page = this.max;\n\t\t}\n\t}\n\t\n\t//reset to first page without triggering action\n\treset(force){\n\t\tif(!this.initialLoad){\n\t\t\tif(this.mode == \"local\" || force){\n\t\t\t\tthis.page = 1;\n\t\t\t\tthis.trackChanges();\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//set the maximum page\n\tsetMaxPage(max){\n\t\t\n\t\tmax = parseInt(max);\n\t\t\n\t\tthis.max = max || 1;\n\t\t\n\t\tif(this.page > this.max){\n\t\t\tthis.page = this.max;\n\t\t\tthis.trigger();\n\t\t}\n\t}\n\t\n\t//set current page number\n\tsetPage(page){\n\t\tswitch(page){\n\t\t\tcase \"first\":\n\t\t\t\treturn this.setPage(1);\n\t\n\t\t\tcase \"prev\":\n\t\t\t\treturn this.previousPage();\n\t\t\t\n\t\t\tcase \"next\":\n\t\t\t\treturn this.nextPage();\n\t\t\t\n\t\t\tcase \"last\":\n\t\t\t\treturn this.setPage(this.max);\n\t\t}\n\t\t\n\t\tpage = parseInt(page);\n\t\t\n\t\tif((page > 0 && page <= this.max) || this.mode !== \"local\"){\n\t\t\tthis.page = page;\n\t\t\t\n\t\t\tthis.trackChanges();\n\t\t\t\n\t\t\treturn this.trigger();\n\t\t}else{\n\t\t\tconsole.warn(\"Pagination Error - Requested page is out of range of 1 - \" + this.max + \":\", page);\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\tsetPageToRow(row){\n\t\tvar rows = this.displayRows(-1);\n\t\tvar index = rows.indexOf(row);\n\t\n\t\tif(index > -1){\n\t\t\tvar page = this.size === true ? 1 : Math.ceil((index + 1) / this.size);\n\t\t\t\n\t\t\treturn this.setPage(page);\n\t\t}else{\n\t\t\tconsole.warn(\"Pagination Error - Requested row is not visible\");\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\tsetPageSize(size){\n\t\tif(size !== true){\n\t\t\tsize = parseInt(size);\n\t\t}\n\n\t\tif(size > 0){\n\t\t\tthis.size = size;\n\t\t\tthis.dispatchExternal(\"pageSizeChanged\", size);\n\t\t}\n\t\t\n\t\tif(this.pageSizeSelect){\n\t\t\t// this.pageSizeSelect.value = size;\n\t\t\tthis.generatePageSizeSelectList();\n\t\t}\n\t\t\n\t\tthis.trackChanges();\n\t}\n\t\n\t_setPageCounter(totalRows, size, currentRow){\n\t\tvar content;\n\t\t\n\t\tif(this.pageCounter){\n\n\t\t\tif(this.mode === \"remote\"){\n\t\t\t\tsize = this.size;\n\t\t\t\tcurrentRow = ((this.page - 1) * this.size) + 1;\n\t\t\t\ttotalRows = this.remoteRowCountEstimate;\n\t\t\t}\n\n\t\t\tcontent = this.pageCounter.call(this, size, currentRow, this.page, totalRows, this.max);\n\t\t\t\n\t\t\tswitch(typeof content){\n\t\t\t\tcase \"object\":\n\t\t\t\t\tif(content instanceof Node){\n\t\t\t\t\t\n\t\t\t\t\t\t//clear previous cell contents\n\t\t\t\t\t\twhile(this.pageCounterElement.firstChild) this.pageCounterElement.removeChild(this.pageCounterElement.firstChild);\n\t\t\t\t\t\n\t\t\t\t\t\tthis.pageCounterElement.appendChild(content);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.pageCounterElement.innerHTML = \"\";\n\t\t\t\t\t\n\t\t\t\t\t\tif(content != null){\n\t\t\t\t\t\t\tconsole.warn(\"Page Counter Error - Page Counter has returned a type of object, the only valid page counter object return is an instance of Node, the page counter returned:\", content);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"undefined\":\n\t\t\t\t\tthis.pageCounterElement.innerHTML = \"\";\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.pageCounterElement.innerHTML = content;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//setup the pagination buttons\n\t_setPageButtons(){\n\t\tlet leftSize = Math.floor((this.count-1) / 2);\n\t\tlet rightSize = Math.ceil((this.count-1) / 2);\n\t\tlet min = this.max - this.page + leftSize + 1 < this.count ? this.max-this.count+1: Math.max(this.page-leftSize,1);\n\t\tlet max = this.page <= rightSize? Math.min(this.count, this.max) :Math.min(this.page+rightSize, this.max);\n\t\t\n\t\twhile(this.pagesElement.firstChild) this.pagesElement.removeChild(this.pagesElement.firstChild);\n\t\t\n\t\tif(this.page == 1){\n\t\t\tthis.firstBut.disabled = true;\n\t\t\tthis.prevBut.disabled = true;\n\t\t}else{\n\t\t\tthis.firstBut.disabled = false;\n\t\t\tthis.prevBut.disabled = false;\n\t\t}\n\t\t\n\t\tif(this.page == this.max){\n\t\t\tthis.lastBut.disabled = true;\n\t\t\tthis.nextBut.disabled = true;\n\t\t}else{\n\t\t\tthis.lastBut.disabled = false;\n\t\t\tthis.nextBut.disabled = false;\n\t\t}\n\t\t\n\t\tfor(let i = min; i <= max; i++){\n\t\t\tif(i>0 && i <= this.max){\n\t\t\t\tthis.pagesElement.appendChild(this._generatePageButton(i));\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.footerRedraw();\n\t}\n\t\n\t_generatePageButton(page){\n\t\tvar button = document.createElement(\"button\");\n\t\t\n\t\tbutton.classList.add(\"tabulator-page\");\n\t\tif(page == this.page){\n\t\t\tbutton.classList.add(\"active\");\n\t\t}\n\t\t\n\t\tbutton.setAttribute(\"type\", \"button\");\n\t\tbutton.setAttribute(\"role\", \"button\");\n\t\t\n\t\tthis.langBind(\"pagination|page_title\", (value) => {\n\t\t\tbutton.setAttribute(\"aria-label\", value + \" \" + page);\n\t\t\tbutton.setAttribute(\"title\", value + \" \" + page);\n\t\t});\n\t\t\n\t\tbutton.setAttribute(\"data-page\", page);\n\t\tbutton.textContent = page;\n\t\t\n\t\tbutton.addEventListener(\"click\", (e) => {\n\t\t\tthis.setPage(page);\n\t\t});\n\t\t\n\t\treturn button;\n\t}\n\t\n\t//previous page\n\tpreviousPage(){\n\t\tif(this.page > 1){\n\t\t\tthis.page--;\n\t\t\t\n\t\t\tthis.trackChanges();\n\t\t\t\n\t\t\treturn this.trigger();\n\t\t\t\n\t\t}else{\n\t\t\tconsole.warn(\"Pagination Error - Previous page would be less than page 1:\", 0);\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\t//next page\n\tnextPage(){\n\t\tif(this.page < this.max){\n\t\t\tthis.page++;\n\t\t\t\n\t\t\tthis.trackChanges();\n\t\t\t\n\t\t\treturn this.trigger();\n\t\t\t\n\t\t}else{\n\t\t\tif(!this.progressiveLoad){\n\t\t\t\tconsole.warn(\"Pagination Error - Next page would be greater than maximum page of \" + this.max + \":\", this.max + 1);\n\t\t\t}\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\t//return current page number\n\tgetPage(){\n\t\treturn this.page;\n\t}\n\t\n\t//return max page number\n\tgetPageMax(){\n\t\treturn this.max;\n\t}\n\t\n\tgetPageSize(size){\n\t\treturn this.size;\n\t}\n\t\n\tgetMode(){\n\t\treturn this.mode;\n\t}\n\t\n\t//return appropriate rows for current page\n\tgetRows(data){\n\t\tvar actualRowPageSize = 0,\n\t\toutput, start, end, actualStartRow;\n\n\t\tvar actualRows = data.filter((row) => {\n\t\t\treturn row.type === \"row\";\n\t\t});\n\t\t\n\t\tif(this.mode == \"local\"){\n\t\t\toutput = [];\n\t\t\t\n\t\t\tthis.setMaxRows(data.length);\n\t\t\t\n\t\t\tif(this.size === true){\n\t\t\t\tstart = 0;\n\t\t\t\tend = data.length;\n\t\t\t}else{\n\t\t\t\tstart = this.size * (this.page - 1);\n\t\t\t\tend = start + parseInt(this.size);\n\t\t\t}\n\t\t\t\n\t\t\tthis._setPageButtons();\n\t\t\t\n\t\t\tfor(let i = start; i < end; i++){\n\t\t\t\tlet row = data[i];\n\n\t\t\t\tif(row){\n\t\t\t\t\toutput.push(row);\n\n\t\t\t\t\tif(row.type === \"row\"){\n\t\t\t\t\t\tif(!actualStartRow){\n\t\t\t\t\t\t\tactualStartRow = row;\n\t\t\t\t\t\t}\t\n\n\t\t\t\t\t\tactualRowPageSize++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tthis._setPageCounter(actualRows.length, actualRowPageSize, actualStartRow ? (actualRows.indexOf(actualStartRow) + 1) : 0);\n\t\t\t\n\t\t\treturn output;\n\t\t}else{\n\t\t\tthis._setPageButtons();\n\t\t\tthis._setPageCounter(actualRows.length);\n\t\t\t\n\t\t\treturn data.slice(0);\n\t\t}\n\t}\n\t\n\ttrigger(){\n\t\tvar left;\n\t\t\n\t\tswitch(this.mode){\n\t\t\tcase \"local\":\n\t\t\t\tleft = this.table.rowManager.scrollLeft;\n\t\t\t\n\t\t\t\tthis.refreshData();\n\t\t\t\tthis.table.rowManager.scrollHorizontal(left);\n\t\t\t\n\t\t\t\tthis.dispatchExternal(\"pageLoaded\", this.getPage());\n\t\t\t\n\t\t\t\treturn Promise.resolve();\n\t\t\t\n\t\t\tcase \"remote\":\n\t\t\t\tthis.dataChanging = true;\n\t\t\t\treturn this.reloadData(null)\n\t\t\t\t\t.finally(() => {\n\t\t\t\t\t\tthis.dataChanging = false;\n\t\t\t\t\t});\n\t\t\t\n\t\t\tcase \"progressive_load\":\n\t\t\tcase \"progressive_scroll\":\n\t\t\t\treturn this.reloadData(null, true);\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tconsole.warn(\"Pagination Error - no such pagination mode:\", this.mode);\n\t\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\t_parseRemoteData(data){\n\t\tvar margin;\n\t\t\n\t\tif(typeof data.last_page === \"undefined\"){\n\t\t\tconsole.warn(\"Remote Pagination Error - Server response missing '\" + (this.options(\"dataReceiveParams\").last_page || \"last_page\") + \"' property\");\n\t\t}\n\t\t\n\t\tif(data.data){\n\t\t\tthis.max = parseInt(data.last_page) || 1;\n\n\t\t\tthis.remoteRowCountEstimate = typeof data.last_row !== \"undefined\" ? data.last_row : (data.last_page * this.size - (this.page == data.last_page ? (this.size - data.data.length) : 0));\n\t\t\t\n\t\t\tif(this.progressiveLoad){\n\t\t\t\tswitch(this.mode){\n\t\t\t\t\tcase \"progressive_load\":\n\t\t\t\t\t\n\t\t\t\t\t\tif(this.page == 1){\n\t\t\t\t\t\t\tthis.table.rowManager.setData(data.data, false, this.page == 1);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.table.rowManager.addRows(data.data);\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\tif(this.page < this.max){\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tthis.nextPage();\n\t\t\t\t\t\t\t}, this.table.options.progressiveLoadDelay);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"progressive_scroll\":\n\t\t\t\t\t\tdata = this.page === 1 ? data.data : this.table.rowManager.getData().concat(data.data);\n\t\t\t\t\t\n\t\t\t\t\t\tthis.table.rowManager.setData(data, this.page !== 1, this.page == 1);\n\t\t\t\t\t\n\t\t\t\t\t\tmargin = this.table.options.progressiveLoadScrollMargin || (this.table.rowManager.element.clientHeight * 2);\n\t\t\t\t\t\n\t\t\t\t\t\tif(this.table.rowManager.element.scrollHeight <= (this.table.rowManager.element.clientHeight + margin)){\n\t\t\t\t\t\t\tif(this.page < this.max){\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\tthis.nextPage();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn false;\n\t\t\t}else{\n\t\t\t\t// left = this.table.rowManager.scrollLeft;\n\t\t\t\tthis.dispatchExternal(\"pageLoaded\",  this.getPage());\n\t\t\t\t// this.table.rowManager.scrollHorizontal(left);\n\t\t\t\t// this.table.columnManager.scrollHorizontal(left);\n\t\t\t}\n\t\t\t\n\t\t}else{\n\t\t\tconsole.warn(\"Remote Pagination Error - Server response missing '\" + (this.options(\"dataReceiveParams\").data || \"data\") + \"' property\");\n\t\t}\n\t\t\n\t\treturn data.data;\n\t}\n\t\n\t//handle the footer element being redrawn\n\tfooterRedraw(){\n\t\tvar footer = this.table.footerManager.containerElement;\n\n\t\tif((Math.ceil(footer.clientWidth) - footer.scrollWidth) < 0){\n\t\t\tthis.pagesElement.style.display = 'none';\n\t\t}else{\n\t\t\tthis.pagesElement.style.display = '';\n\t\t\t\n\t\t\tif((Math.ceil(footer.clientWidth) - footer.scrollWidth) < 0){\n\t\t\t\tthis.pagesElement.style.display = 'none';\n\t\t\t}\n\t\t}\n\t}\n}\n\nPage.moduleName = \"page\";\n\n//load defaults\nPage.pageCounters = defaultPageCounters;\n\nexport default Page;\n","// read persistance information from storage\nexport default {\n\tlocal:function(id, type){\n\t\tvar data = localStorage.getItem(id + \"-\" + type);\n\n\t\treturn data ? JSON.parse(data) : false;\n\t},\n\tcookie:function(id, type){\n\t\tvar cookie = document.cookie,\n\t\tkey = id + \"-\" + type,\n\t\tcookiePos = cookie.indexOf(key + \"=\"),\n\t\tend, data;\n\n\t\t//if cookie exists, decode and load column data into tabulator\n\t\tif(cookiePos > -1){\n\t\t\tcookie = cookie.slice(cookiePos);\n\n\t\t\tend = cookie.indexOf(\";\");\n\n\t\t\tif(end > -1){\n\t\t\t\tcookie = cookie.slice(0, end);\n\t\t\t}\n\n\t\t\tdata = cookie.replace(key + \"=\", \"\");\n\t\t}\n\n\t\treturn data ? JSON.parse(data) : false;\n\t}\n};\n","//write persistence information to storage\nexport default {\n\tlocal:function(id, type, data){\n\t\tlocalStorage.setItem(id + \"-\" + type, JSON.stringify(data));\n\t},\n\tcookie:function(id, type, data){\n\t\tvar expireDate = new Date();\n\n\t\texpireDate.setDate(expireDate.getDate() + 10000);\n\n\t\tdocument.cookie = id + \"-\" + type + \"=\" + JSON.stringify(data) + \"; expires=\" + expireDate.toUTCString();\n\t}\n};","import Module from '../../core/Module.js';\n\nimport defaultReaders from './defaults/readers.js';\nimport defaultWriters from './defaults/writers.js';\n\nclass Persistence extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.mode = \"\";\n\t\tthis.id = \"\";\n\t\t// this.persistProps = [\"field\", \"width\", \"visible\"];\n\t\tthis.defWatcherBlock = false;\n\t\tthis.config = {};\n\t\tthis.readFunc = false;\n\t\tthis.writeFunc = false;\n\n\t\tthis.registerTableOption(\"persistence\", false);\n\t\tthis.registerTableOption(\"persistenceID\", \"\"); //key for persistent storage\n\t\tthis.registerTableOption(\"persistenceMode\", true); //mode for storing persistence information\n\t\tthis.registerTableOption(\"persistenceReaderFunc\", false); //function for handling persistence data reading\n\t\tthis.registerTableOption(\"persistenceWriterFunc\", false); //function for handling persistence data writing\n\t}\n\n\t// Test for whether localStorage is available for use.\n\tlocalStorageTest() {\n\t\tvar  testKey =  \"_tabulator_test\";\n\n\t\ttry {\n\t\t\twindow.localStorage.setItem( testKey, testKey);\n\t\t\twindow.localStorage.removeItem( testKey );\n\t\t\treturn true;\n\t\t} catch(e) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t//setup parameters\n\tinitialize(){\n\t\tif(this.table.options.persistence){\n\t\t\t//determine persistent layout storage type\n\t\t\tvar mode = this.table.options.persistenceMode,\n\t\t\tid = this.table.options.persistenceID,\n\t\t\tretrievedData;\n\n\t\t\tthis.mode = mode !== true ?  mode : (this.localStorageTest() ? \"local\" : \"cookie\");\n\n\t\t\tif(this.table.options.persistenceReaderFunc){\n\t\t\t\tif(typeof this.table.options.persistenceReaderFunc === \"function\"){\n\t\t\t\t\tthis.readFunc = this.table.options.persistenceReaderFunc;\n\t\t\t\t}else{\n\t\t\t\t\tif(Persistence.readers[this.table.options.persistenceReaderFunc]){\n\t\t\t\t\t\tthis.readFunc = Persistence.readers[this.table.options.persistenceReaderFunc];\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.warn(\"Persistence Read Error - invalid reader set\", this.table.options.persistenceReaderFunc);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(Persistence.readers[this.mode]){\n\t\t\t\t\tthis.readFunc = Persistence.readers[this.mode];\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Persistence Read Error - invalid reader set\", this.mode);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(this.table.options.persistenceWriterFunc){\n\t\t\t\tif(typeof this.table.options.persistenceWriterFunc === \"function\"){\n\t\t\t\t\tthis.writeFunc = this.table.options.persistenceWriterFunc;\n\t\t\t\t}else{\n\t\t\t\t\tif(Persistence.writers[this.table.options.persistenceWriterFunc]){\n\t\t\t\t\t\tthis.writeFunc = Persistence.writers[this.table.options.persistenceWriterFunc];\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.warn(\"Persistence Write Error - invalid reader set\", this.table.options.persistenceWriterFunc);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(Persistence.writers[this.mode]){\n\t\t\t\t\tthis.writeFunc = Persistence.writers[this.mode];\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Persistence Write Error - invalid writer set\", this.mode);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//set storage tag\n\t\t\tthis.id = \"tabulator-\" + (id || (this.table.element.getAttribute(\"id\") || \"\"));\n\n\t\t\tthis.config = {\n\t\t\t\tsort:this.table.options.persistence === true || this.table.options.persistence.sort,\n\t\t\t\tfilter:this.table.options.persistence === true || this.table.options.persistence.filter,\n\t\t\t\tgroup:this.table.options.persistence === true || this.table.options.persistence.group,\n\t\t\t\tpage:this.table.options.persistence === true || this.table.options.persistence.page,\n\t\t\t\tcolumns:this.table.options.persistence === true ? [\"title\", \"width\", \"visible\"] : this.table.options.persistence.columns,\n\t\t\t};\n\n\t\t\t//load pagination data if needed\n\t\t\tif(this.config.page){\n\t\t\t\tretrievedData = this.retrieveData(\"page\");\n\n\t\t\t\tif(retrievedData){\n\t\t\t\t\tif(typeof retrievedData.paginationSize !== \"undefined\" && (this.config.page === true || this.config.page.size)){\n\t\t\t\t\t\tthis.table.options.paginationSize = retrievedData.paginationSize;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(typeof retrievedData.paginationInitialPage !== \"undefined\" && (this.config.page === true || this.config.page.page)){\n\t\t\t\t\t\tthis.table.options.paginationInitialPage = retrievedData.paginationInitialPage;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//load group data if needed\n\t\t\tif(this.config.group){\n\t\t\t\tretrievedData = this.retrieveData(\"group\");\n\n\t\t\t\tif(retrievedData){\n\t\t\t\t\tif(typeof retrievedData.groupBy !== \"undefined\" && (this.config.group === true || this.config.group.groupBy)){\n\t\t\t\t\t\tthis.table.options.groupBy = retrievedData.groupBy;\n\t\t\t\t\t}\n\t\t\t\t\tif(typeof retrievedData.groupStartOpen !== \"undefined\" && (this.config.group === true || this.config.group.groupStartOpen)){\n\t\t\t\t\t\tthis.table.options.groupStartOpen = retrievedData.groupStartOpen;\n\t\t\t\t\t}\n\t\t\t\t\tif(typeof retrievedData.groupHeader !== \"undefined\" && (this.config.group === true || this.config.group.groupHeader)){\n\t\t\t\t\t\tthis.table.options.groupHeader = retrievedData.groupHeader;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(this.config.columns){\n\t\t\t\tthis.table.options.columns = this.load(\"columns\", this.table.options.columns);\n\t\t\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t\t\t\tthis.subscribe(\"column-show\", this.save.bind(this, \"columns\"));\n\t\t\t\tthis.subscribe(\"column-hide\", this.save.bind(this, \"columns\"));\n\t\t\t\tthis.subscribe(\"column-moved\", this.save.bind(this, \"columns\"));\n\t\t\t}\n\n\t\t\tthis.subscribe(\"table-built\", this.tableBuilt.bind(this), 0);\n\n\t\t\tthis.subscribe(\"table-redraw\", this.tableRedraw.bind(this));\n\n\t\t\tthis.subscribe(\"filter-changed\", this.eventSave.bind(this, \"filter\"));\n\t\t\tthis.subscribe(\"sort-changed\", this.eventSave.bind(this, \"sort\"));\n\t\t\tthis.subscribe(\"group-changed\", this.eventSave.bind(this, \"group\"));\n\t\t\tthis.subscribe(\"page-changed\", this.eventSave.bind(this, \"page\"));\n\t\t\tthis.subscribe(\"column-resized\", this.eventSave.bind(this, \"columns\"));\n\t\t\tthis.subscribe(\"column-width\", this.eventSave.bind(this, \"columns\"));\n\t\t\tthis.subscribe(\"layout-refreshed\", this.eventSave.bind(this, \"columns\"));\n\t\t}\n\n\t\tthis.registerTableFunction(\"getColumnLayout\", this.getColumnLayout.bind(this));\n\t\tthis.registerTableFunction(\"setColumnLayout\", this.setColumnLayout.bind(this));\n\t}\n\n\teventSave(type){\n\t\tif(this.config[type]){\n\t\t\tthis.save(type);\n\t\t}\n\t}\n\n\ttableBuilt(){\n\t\tvar sorters, filters;\n\n\t\tif(this.config.sort){\n\t\t\tsorters = this.load(\"sort\");\n\n\t\t\tif(!sorters === false){\n\t\t\t\tthis.table.options.initialSort = sorters;\n\t\t\t}\n\t\t}\n\n\t\tif(this.config.filter){\n\t\t\tfilters = this.load(\"filter\");\n\n\t\t\tif(!filters === false){\n\t\t\t\tthis.table.options.initialFilter = filters;\n\t\t\t}\n\t\t}\n\t}\n\n\ttableRedraw(force){\n\t\tif(force && this.config.columns){\n\t\t\tthis.save(\"columns\");\n\t\t}\n\t}\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\tgetColumnLayout(){\n\t\treturn this.parseColumns(this.table.columnManager.getColumns());\n\t}\n\n\tsetColumnLayout(layout){\n\t\tthis.table.columnManager.setColumns(this.mergeDefinition(this.table.options.columns, layout));\n\t\treturn true;\n\t}\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\tinitializeColumn(column){\n\t\tvar def, keys;\n\n\t\tif(this.config.columns){\n\t\t\tthis.defWatcherBlock = true;\n\n\t\t\tdef = column.getDefinition();\n\n\t\t\tkeys = this.config.columns === true ? Object.keys(def) : this.config.columns;\n\n\t\t\tkeys.forEach((key)=>{\n\t\t\t\tvar props = Object.getOwnPropertyDescriptor(def, key);\n\t\t\t\tvar value = def[key];\n\n\t\t\t\tif(props){\n\t\t\t\t\tObject.defineProperty(def, key, {\n\t\t\t\t\t\tset: (newValue) => {\n\t\t\t\t\t\t\tvalue = newValue;\n\n\t\t\t\t\t\t\tif(!this.defWatcherBlock){\n\t\t\t\t\t\t\t\tthis.save(\"columns\");\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif(props.set){\n\t\t\t\t\t\t\t\tprops.set(newValue);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tget:() => {\n\t\t\t\t\t\t\tif(props.get){\n\t\t\t\t\t\t\t\tprops.get();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.defWatcherBlock = false;\n\t\t}\n\t}\n\n\t//load saved definitions\n\tload(type, current){\n\t\tvar data = this.retrieveData(type);\n\n\t\tif(current){\n\t\t\tdata = data ? this.mergeDefinition(current, data) : current;\n\t\t}\n\n\t\treturn data;\n\t}\n\n\t//retrieve data from memory\n\tretrieveData(type){\n\t\treturn this.readFunc ? this.readFunc(this.id, type) : false;\n\t}\n\n\t//merge old and new column definitions\n\tmergeDefinition(oldCols, newCols){\n\t\tvar output = [];\n\n\t\tnewCols = newCols || [];\n\n\t\tnewCols.forEach((column, to) => {\n\t\t\tvar from = this._findColumn(oldCols, column),\n\t\t\tkeys;\n\n\t\t\tif(from){\n\t\t\t\tif(this.config.columns === true || this.config.columns == undefined){\n\t\t\t\t\tkeys =  Object.keys(from);\n\t\t\t\t\tkeys.push(\"width\");\n\t\t\t\t}else{\n\t\t\t\t\tkeys = this.config.columns;\n\t\t\t\t}\n\n\t\t\t\tkeys.forEach((key)=>{\n\t\t\t\t\tif(key !== \"columns\" && typeof column[key] !== \"undefined\"){\n\t\t\t\t\t\tfrom[key] = column[key];\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(from.columns){\n\t\t\t\t\tfrom.columns = this.mergeDefinition(from.columns, column.columns);\n\t\t\t\t}\n\n\t\t\t\toutput.push(from);\n\t\t\t}\n\t\t});\n\n\t\toldCols.forEach((column, i) => {\n\t\t\tvar from = this._findColumn(newCols, column);\n\n\t\t\tif (!from) {\n\t\t\t\tif(output.length>i){\n\t\t\t\t\toutput.splice(i, 0, column);\n\t\t\t\t}else{\n\t\t\t\t\toutput.push(column);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\t//find matching columns\n\t_findColumn(columns, subject){\n\t\tvar type = subject.columns ? \"group\" : (subject.field ? \"field\" : \"object\");\n\n\t\treturn columns.find(function(col){\n\t\t\tswitch(type){\n\t\t\t\tcase \"group\":\n\t\t\t\t\treturn col.title === subject.title && col.columns.length === subject.columns.length;\n\n\t\t\t\tcase \"field\":\n\t\t\t\t\treturn col.field === subject.field;\n\n\t\t\t\tcase \"object\":\n\t\t\t\t\treturn col === subject;\n\t\t\t}\n\t\t});\n\t}\n\n\t//save data\n\tsave(type){\n\t\tvar data = {};\n\n\t\tswitch(type){\n\t\t\tcase \"columns\":\n\t\t\t\tdata = this.parseColumns(this.table.columnManager.getColumns());\n\t\t\t\tbreak;\n\n\t\t\tcase \"filter\":\n\t\t\t\tdata = this.table.modules.filter.getFilters();\n\t\t\t\tbreak;\n\n\t\t\tcase \"sort\":\n\t\t\t\tdata = this.validateSorters(this.table.modules.sort.getSort());\n\t\t\t\tbreak;\n\n\t\t\tcase \"group\":\n\t\t\t\tdata = this.getGroupConfig();\n\t\t\t\tbreak;\n\n\t\t\tcase \"page\":\n\t\t\t\tdata = this.getPageConfig();\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif(this.writeFunc){\n\t\t\tthis.writeFunc(this.id, type, data);\n\t\t}\n\n\t}\n\n\t//ensure sorters contain no function data\n\tvalidateSorters(data){\n\t\tdata.forEach(function(item){\n\t\t\titem.column = item.field;\n\t\t\tdelete item.field;\n\t\t});\n\n\t\treturn data;\n\t}\n\n\tgetGroupConfig(){\n\t\tvar data = {};\n\n\t\tif(this.config.group){\n\t\t\tif(this.config.group === true || this.config.group.groupBy){\n\t\t\t\tdata.groupBy = this.table.options.groupBy;\n\t\t\t}\n\n\t\t\tif(this.config.group === true || this.config.group.groupStartOpen){\n\t\t\t\tdata.groupStartOpen = this.table.options.groupStartOpen;\n\t\t\t}\n\n\t\t\tif(this.config.group === true || this.config.group.groupHeader){\n\t\t\t\tdata.groupHeader = this.table.options.groupHeader;\n\t\t\t}\n\t\t}\n\n\t\treturn data;\n\t}\n\n\tgetPageConfig(){\n\t\tvar data = {};\n\n\t\tif(this.config.page){\n\t\t\tif(this.config.page === true || this.config.page.size){\n\t\t\t\tdata.paginationSize = this.table.modules.page.getPageSize();\n\t\t\t}\n\n\t\t\tif(this.config.page === true || this.config.page.page){\n\t\t\t\tdata.paginationInitialPage = this.table.modules.page.getPage();\n\t\t\t}\n\t\t}\n\n\t\treturn data;\n\t}\n\n\n\t//parse columns for data to store\n\tparseColumns(columns){\n\t\tvar definitions = [],\n\t\texcludedKeys = [\"headerContextMenu\", \"headerMenu\", \"contextMenu\", \"clickMenu\"];\n\n\t\tcolumns.forEach((column) => {\n\t\t\tvar defStore = {},\n\t\t\tcolDef = column.getDefinition(),\n\t\t\tkeys;\n\n\t\t\tif(column.isGroup){\n\t\t\t\tdefStore.title = colDef.title;\n\t\t\t\tdefStore.columns = this.parseColumns(column.getColumns());\n\t\t\t}else{\n\t\t\t\tdefStore.field = column.getField();\n\n\t\t\t\tif(this.config.columns === true || this.config.columns == undefined){\n\t\t\t\t\tkeys =  Object.keys(colDef);\n\t\t\t\t\tkeys.push(\"width\");\n\t\t\t\t\tkeys.push(\"visible\");\n\t\t\t\t}else{\n\t\t\t\t\tkeys = this.config.columns;\n\t\t\t\t}\n\n\t\t\t\tkeys.forEach((key)=>{\n\t\t\t\t\tswitch(key){\n\t\t\t\t\t\tcase \"width\":\n\t\t\t\t\t\t\tdefStore.width = column.getWidth();\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"visible\":\n\t\t\t\t\t\t\tdefStore.visible = column.visible;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tif(typeof colDef[key] !== \"function\" && excludedKeys.indexOf(key) === -1){\n\t\t\t\t\t\t\t\tdefStore[key] = colDef[key];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tdefinitions.push(defStore);\n\t\t});\n\n\t\treturn definitions;\n\t}\n}\n\nPersistence.moduleName = \"persistence\";\n\nPersistence.moduleInitOrder = -10;\n\n//load defaults\nPersistence.readers = defaultReaders;\nPersistence.writers = defaultWriters;\n\nexport default Persistence;","import Module from '../../core/Module.js';\n\nclass Popup extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.columnSubscribers = {};\n\t\t\n\t\tthis.registerTableOption(\"rowContextPopup\", false);\n\t\tthis.registerTableOption(\"rowClickPopup\", false);\n\t\tthis.registerTableOption(\"rowDblClickPopup\", false);\n\t\tthis.registerTableOption(\"groupContextPopup\", false);\n\t\tthis.registerTableOption(\"groupClickPopup\", false);\n\t\tthis.registerTableOption(\"groupDblClickPopup\", false);\n\t\t\n\t\tthis.registerColumnOption(\"headerContextPopup\");\n\t\tthis.registerColumnOption(\"headerClickPopup\");\n\t\tthis.registerColumnOption(\"headerDblClickPopup\");\n\t\tthis.registerColumnOption(\"headerPopup\");\n\t\tthis.registerColumnOption(\"headerPopupIcon\");\n\t\tthis.registerColumnOption(\"contextPopup\");\n\t\tthis.registerColumnOption(\"clickPopup\");\n\t\tthis.registerColumnOption(\"dblClickPopup\");\n\n\t\tthis.registerComponentFunction(\"cell\", \"popup\", this._componentPopupCall.bind(this));\n\t\tthis.registerComponentFunction(\"column\", \"popup\", this._componentPopupCall.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"popup\", this._componentPopupCall.bind(this));\n\t\tthis.registerComponentFunction(\"group\", \"popup\", this._componentPopupCall.bind(this));\n\t\t\n\t}\n\t\n\tinitialize(){\n\t\tthis.initializeRowWatchers();\n\t\tthis.initializeGroupWatchers();\n\t\t\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t}\n\n\t_componentPopupCall(component, contents, position){\n\t\tthis.loadPopupEvent(contents, null, component, position);\n\t}\n\t\n\tinitializeRowWatchers(){\n\t\tif(this.table.options.rowContextPopup){\n\t\t\tthis.subscribe(\"row-contextmenu\", this.loadPopupEvent.bind(this, this.table.options.rowContextPopup));\n\t\t\tthis.table.on(\"rowTapHold\", this.loadPopupEvent.bind(this, this.table.options.rowContextPopup));\n\t\t}\n\t\t\n\t\tif(this.table.options.rowClickPopup){\n\t\t\tthis.subscribe(\"row-click\", this.loadPopupEvent.bind(this, this.table.options.rowClickPopup));\n\t\t}\n\n\t\tif(this.table.options.rowDblClickPopup){\n\t\t\tthis.subscribe(\"row-dblclick\", this.loadPopupEvent.bind(this, this.table.options.rowDblClickPopup));\n\t\t}\n\t}\n\t\n\tinitializeGroupWatchers(){\n\t\tif(this.table.options.groupContextPopup){\n\t\t\tthis.subscribe(\"group-contextmenu\", this.loadPopupEvent.bind(this, this.table.options.groupContextPopup));\n\t\t\tthis.table.on(\"groupTapHold\", this.loadPopupEvent.bind(this, this.table.options.groupContextPopup));\n\t\t}\n\t\t\n\t\tif(this.table.options.groupClickPopup){\n\t\t\tthis.subscribe(\"group-click\", this.loadPopupEvent.bind(this, this.table.options.groupClickPopup));\n\t\t}\n\n\t\tif(this.table.options.groupDblClickPopup){\n\t\t\tthis.subscribe(\"group-dblclick\", this.loadPopupEvent.bind(this, this.table.options.groupDblClickPopup));\n\t\t}\n\t}\n\t\n\tinitializeColumn(column){\n\t\tvar def = column.definition;\n\t\t\n\t\t//handle column events\n\t\tif(def.headerContextPopup && !this.columnSubscribers.headerContextPopup){\n\t\t\tthis.columnSubscribers.headerContextPopup = this.loadPopupTableColumnEvent.bind(this, \"headerContextPopup\");\n\t\t\tthis.subscribe(\"column-contextmenu\", this.columnSubscribers.headerContextPopup);\n\t\t\tthis.table.on(\"headerTapHold\", this.loadPopupTableColumnEvent.bind(this, \"headerContextPopup\"));\n\t\t}\n\t\t\n\t\tif(def.headerClickPopup && !this.columnSubscribers.headerClickPopup){\n\t\t\tthis.columnSubscribers.headerClickPopup = this.loadPopupTableColumnEvent.bind(this, \"headerClickPopup\");\n\t\t\tthis.subscribe(\"column-click\", this.columnSubscribers.headerClickPopup);\n\t\t\n\t\t\n\t\t}if(def.headerDblClickPopup && !this.columnSubscribers.headerDblClickPopup){\n\t\t\tthis.columnSubscribers.headerDblClickPopup = this.loadPopupTableColumnEvent.bind(this, \"headerDblClickPopup\");\n\t\t\tthis.subscribe(\"column-dblclick\", this.columnSubscribers.headerDblClickPopup);\n\t\t}\n\t\t\n\t\tif(def.headerPopup){\n\t\t\tthis.initializeColumnHeaderPopup(column);\n\t\t}\n\t\t\n\t\t//handle cell events\n\t\tif(def.contextPopup && !this.columnSubscribers.contextPopup){\n\t\t\tthis.columnSubscribers.contextPopup = this.loadPopupTableCellEvent.bind(this, \"contextPopup\");\n\t\t\tthis.subscribe(\"cell-contextmenu\", this.columnSubscribers.contextPopup);\n\t\t\tthis.table.on(\"cellTapHold\", this.loadPopupTableCellEvent.bind(this, \"contextPopup\"));\n\t\t}\n\t\t\n\t\tif(def.clickPopup && !this.columnSubscribers.clickPopup){\n\t\t\tthis.columnSubscribers.clickPopup = this.loadPopupTableCellEvent.bind(this, \"clickPopup\");\n\t\t\tthis.subscribe(\"cell-click\", this.columnSubscribers.clickPopup);\n\t\t}\n\n\t\tif(def.dblClickPopup && !this.columnSubscribers.dblClickPopup){\n\t\t\tthis.columnSubscribers.dblClickPopup = this.loadPopupTableCellEvent.bind(this, \"dblClickPopup\");\n\t\t\tthis.subscribe(\"cell-click\", this.columnSubscribers.dblClickPopup);\n\t\t}\n\t}\n\t\n\tinitializeColumnHeaderPopup(column){\n\t\tvar icon = column.definition.headerPopupIcon,\n\t\theaderPopupEl;\n\t\t\n\t\theaderPopupEl = document.createElement(\"span\");\n\t\theaderPopupEl.classList.add(\"tabulator-header-popup-button\");\n\n\t\tif(icon){\n\t\t\tif(typeof icon === \"function\"){\n\t\t\t\ticon = icon(column.getComponent());\n\t\t\t}\n\n\t\t\tif(icon instanceof HTMLElement){\n\t\t\t\theaderPopupEl.appendChild(icon);\n\t\t\t}else{\n\t\t\t\theaderPopupEl.innerHTML = icon;\n\t\t\t}\n\t\t}else{\n\t\t\theaderPopupEl.innerHTML = \"&vellip;\";\n\t\t}\n\t\t\n\t\theaderPopupEl.addEventListener(\"click\", (e) => {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tthis.loadPopupEvent(column.definition.headerPopup, e, column);\n\t\t});\n\t\t\n\t\tcolumn.titleElement.insertBefore(headerPopupEl, column.titleElement.firstChild);\n\t}\n\t\n\tloadPopupTableCellEvent(option, e, cell){\n\t\tif(cell._cell){\n\t\t\tcell = cell._cell;\n\t\t}\n\t\t\n\t\tif(cell.column.definition[option]){\n\t\t\tthis.loadPopupEvent(cell.column.definition[option], e, cell);\n\t\t}\n\t}\n\t\n\tloadPopupTableColumnEvent(option, e, column){\n\t\tif(column._column){\n\t\t\tcolumn = column._column;\n\t\t}\n\t\t\n\t\tif(column.definition[option]){\n\t\t\tthis.loadPopupEvent(column.definition[option], e, column);\n\t\t}\n\t}\n\t\n\tloadPopupEvent(contents, e, component, position){\n\t\tvar renderedCallback;\n\n\t\tfunction onRendered(callback){\n\t\t\trenderedCallback = callback;\n\t\t}\n\t\t\n\t\tif(component._group){\n\t\t\tcomponent = component._group;\n\t\t}else if(component._row){\n\t\t\tcomponent = component._row;\n\t\t}\n\t\t\n\t\tcontents = typeof contents == \"function\" ? contents.call(this.table, e, component.getComponent(),  onRendered) : contents;\n\t\t\n\t\tthis.loadPopup(e, component, contents, renderedCallback, position);\n\t}\n\t\n\tloadPopup(e, component, contents, renderedCallback, position){\n\t\tvar touch = !(e instanceof MouseEvent),\n\t\tcontentsEl, popup;\n\t\t\n\t\tif(contents instanceof HTMLElement){\n\t\t\tcontentsEl = contents;\n\t\t}else{\n\t\t\tcontentsEl = document.createElement(\"div\");\n\t\t\tcontentsEl.innerHTML = contents;\n\t\t}\n\t\t\n\t\tcontentsEl.classList.add(\"tabulator-popup\");\n\n\t\tcontentsEl.addEventListener(\"click\", (e) =>{\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tif(!touch){\n\t\t\te.preventDefault();\n\t\t}\n\t\t\n\t\tpopup = this.popup(contentsEl);\n\n\t\tif(typeof renderedCallback === \"function\"){\n\t\t\tpopup.renderCallback(renderedCallback);\n\t\t}\n\n\t\tif(e){\n\t\t\tpopup.show(e);\n\t\t}else{\n\t\t\tpopup.show(component.getElement(), position || \"center\");\n\t\t}\n\n\t\t\n\t\tpopup.hideOnBlur(() => {\n\t\t\tthis.dispatchExternal(\"popupClosed\", component.getComponent());\n\t\t});\n\n\n\n\t\tthis.dispatchExternal(\"popupOpened\", component.getComponent());\n\t}\n}\n\nPopup.moduleName = \"popup\";\n\nexport default Popup;\n","import Module from '../../core/Module.js';\n\nclass Print extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.element = false;\n\t\tthis.manualBlock = false;\n\t\tthis.beforeprintEventHandler = null;\n\t\tthis.afterprintEventHandler = null;\n\n\t\tthis.registerTableOption(\"printAsHtml\", false); //enable print as html\n\t\tthis.registerTableOption(\"printFormatter\", false); //printing page formatter\n\t\tthis.registerTableOption(\"printHeader\", false); //page header contents\n\t\tthis.registerTableOption(\"printFooter\", false); //page footer contents\n\t\tthis.registerTableOption(\"printStyled\", true); //enable print as html styling\n\t\tthis.registerTableOption(\"printRowRange\", \"visible\"); //restrict print to visible rows only\n\t\tthis.registerTableOption(\"printConfig\", {}); //print config options\n\n\t\tthis.registerColumnOption(\"print\");\n\t\tthis.registerColumnOption(\"titlePrint\");\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.printAsHtml){\n\t\t\tthis.beforeprintEventHandler = this.replaceTable.bind(this);\n\t\t\tthis.afterprintEventHandler = this.cleanup.bind(this);\n\n\t\t\twindow.addEventListener(\"beforeprint\", this.beforeprintEventHandler );\n\t\t\twindow.addEventListener(\"afterprint\", this.afterprintEventHandler);\n\t\t\tthis.subscribe(\"table-destroy\", this.destroy.bind(this));\n\t\t}\n\n\t\tthis.registerTableFunction(\"print\", this.printFullscreen.bind(this));\n\t}\n\n\tdestroy(){\n\t\tif(this.table.options.printAsHtml){\n\t\t\twindow.removeEventListener( \"beforeprint\", this.beforeprintEventHandler );\n\t\t\twindow.removeEventListener( \"afterprint\", this.afterprintEventHandler );\n\t\t}\n\t}\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\treplaceTable(){\n\t\tif(!this.manualBlock){\n\t\t\tthis.element = document.createElement(\"div\");\n\t\t\tthis.element.classList.add(\"tabulator-print-table\");\n\n\t\t\tthis.element.appendChild(this.table.modules.export.generateTable(this.table.options.printConfig, this.table.options.printStyled, this.table.options.printRowRange, \"print\"));\n\n\t\t\tthis.table.element.style.display = \"none\";\n\n\t\t\tthis.table.element.parentNode.insertBefore(this.element, this.table.element);\n\t\t}\n\t}\n\n\tcleanup(){\n\t\tdocument.body.classList.remove(\"tabulator-print-fullscreen-hide\");\n\n\t\tif(this.element && this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\tthis.table.element.style.display = \"\";\n\t\t}\n\t}\n\n\tprintFullscreen(visible, style, config){\n\t\tvar scrollX = window.scrollX,\n\t\tscrollY = window.scrollY,\n\t\theaderEl = document.createElement(\"div\"),\n\t\tfooterEl = document.createElement(\"div\"),\n\t\ttableEl = this.table.modules.export.generateTable(typeof config != \"undefined\" ? config : this.table.options.printConfig, typeof style != \"undefined\" ? style : this.table.options.printStyled, visible || this.table.options.printRowRange, \"print\"),\n\t\theaderContent, footerContent;\n\n\t\tthis.manualBlock = true;\n\n\t\tthis.element = document.createElement(\"div\");\n\t\tthis.element.classList.add(\"tabulator-print-fullscreen\");\n\n\t\tif(this.table.options.printHeader){\n\t\t\theaderEl.classList.add(\"tabulator-print-header\");\n\n\t\t\theaderContent = typeof this.table.options.printHeader == \"function\" ? this.table.options.printHeader.call(this.table) : this.table.options.printHeader;\n\n\t\t\tif(typeof headerContent == \"string\"){\n\t\t\t\theaderEl.innerHTML = headerContent;\n\t\t\t}else{\n\t\t\t\theaderEl.appendChild(headerContent);\n\t\t\t}\n\n\t\t\tthis.element.appendChild(headerEl);\n\t\t}\n\n\t\tthis.element.appendChild(tableEl);\n\n\t\tif(this.table.options.printFooter){\n\t\t\tfooterEl.classList.add(\"tabulator-print-footer\");\n\n\t\t\tfooterContent = typeof this.table.options.printFooter == \"function\" ? this.table.options.printFooter.call(this.table) : this.table.options.printFooter;\n\n\n\t\t\tif(typeof footerContent == \"string\"){\n\t\t\t\tfooterEl.innerHTML = footerContent;\n\t\t\t}else{\n\t\t\t\tfooterEl.appendChild(footerContent);\n\t\t\t}\n\n\t\t\tthis.element.appendChild(footerEl);\n\t\t}\n\n\t\tdocument.body.classList.add(\"tabulator-print-fullscreen-hide\");\n\t\tdocument.body.appendChild(this.element);\n\n\t\tif(this.table.options.printFormatter){\n\t\t\tthis.table.options.printFormatter(this.element, tableEl);\n\t\t}\n\n\t\twindow.print();\n\n\t\tthis.cleanup();\n\n\t\twindow.scrollTo(scrollX, scrollY);\n\n\t\tthis.manualBlock = false;\n\t}\n}\n\nPrint.moduleName = \"print\";\n\nexport default Print;","import Module from '../../core/Module.js';\n\nclass ReactiveData extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.data = false;\n\t\tthis.blocked = false; //block reactivity while performing update\n\t\tthis.origFuncs = {}; // hold original data array functions to allow replacement after data is done with\n\t\tthis.currentVersion = 0;\n\t\t\n\t\tthis.registerTableOption(\"reactiveData\", false); //enable data reactivity\n\t}\n\t\n\tinitialize(){\n\t\tif(this.table.options.reactiveData){\n\t\t\tthis.subscribe(\"cell-value-save-before\", this.block.bind(this, \"cellsave\"));\n\t\t\tthis.subscribe(\"cell-value-save-after\", this.unblock.bind(this, \"cellsave\"));\n\t\t\tthis.subscribe(\"row-data-save-before\", this.block.bind(this, \"rowsave\"));\n\t\t\tthis.subscribe(\"row-data-save-after\", this.unblock.bind(this, \"rowsave\"));\n\t\t\tthis.subscribe(\"row-data-init-after\", this.watchRow.bind(this));\n\t\t\tthis.subscribe(\"data-processing\", this.watchData.bind(this));\n\t\t\tthis.subscribe(\"table-destroy\", this.unwatchData.bind(this));\n\t\t}\n\t}\n\t\n\twatchData(data){\n\t\tvar self = this,\n\t\tversion;\n\t\t\n\t\tthis.currentVersion ++;\n\t\t\n\t\tversion = this.currentVersion;\n\t\t\n\t\tthis.unwatchData();\n\t\t\n\t\tthis.data = data;\n\t\t\n\t\t//override array push function\n\t\tthis.origFuncs.push = data.push;\n\t\t\n\t\tObject.defineProperty(this.data, \"push\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar args = Array.from(arguments),\n\t\t\t\tresult;\n\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\t\n\t\t\t\t\tself.block(\"data-push\");\n\n\t\t\t\t\targs.forEach((arg) => {\n\t\t\t\t\t\tself.table.rowManager.addRowActual(arg, false);\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tresult = self.origFuncs.push.apply(data, arguments);\n\t\t\t\t\t\n\t\t\t\t\tself.unblock(\"data-push\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t});\n\t\t\n\t\t//override array unshift function\n\t\tthis.origFuncs.unshift = data.unshift;\n\t\t\n\t\tObject.defineProperty(this.data, \"unshift\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar args = Array.from(arguments),\n\t\t\t\tresult;\n\t\t\t\t\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\tself.block(\"data-unshift\");\n\t\t\t\t\t\n\t\t\t\t\targs.forEach((arg) => {\n\t\t\t\t\t\tself.table.rowManager.addRowActual(arg, true);\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tresult = self.origFuncs.unshift.apply(data, arguments);\n\t\t\t\t\t\n\t\t\t\t\tself.unblock(\"data-unshift\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t});\n\t\t\n\t\t\n\t\t//override array shift function\n\t\tthis.origFuncs.shift = data.shift;\n\t\t\n\t\tObject.defineProperty(this.data, \"shift\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar row, result;\n\t\t\t\t\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\tself.block(\"data-shift\");\n\t\t\t\t\t\n\t\t\t\t\tif(self.data.length){\n\t\t\t\t\t\trow = self.table.rowManager.getRowFromDataObject(self.data[0]);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(row){\n\t\t\t\t\t\t\trow.deleteActual();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tresult = self.origFuncs.shift.call(data);\n\n\t\t\t\t\tself.unblock(\"data-shift\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\t});\n\t\t\n\t\t//override array pop function\n\t\tthis.origFuncs.pop = data.pop;\n\t\t\n\t\tObject.defineProperty(this.data, \"pop\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar row, result;\n\t\t\t\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\tself.block(\"data-pop\");\n\t\t\t\t\t\n\t\t\t\t\tif(self.data.length){\n\t\t\t\t\t\trow = self.table.rowManager.getRowFromDataObject(self.data[self.data.length - 1]);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(row){\n\t\t\t\t\t\t\trow.deleteActual();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tresult = self.origFuncs.pop.call(data);\n\t\t\t\t\t\n\t\t\t\t\tself.unblock(\"data-pop\");\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t}\n\t\t});\n\t\t\n\t\t\n\t\t//override array splice function\n\t\tthis.origFuncs.splice = data.splice;\n\t\t\n\t\tObject.defineProperty(this.data, \"splice\", {\n\t\t\tenumerable: false,\n\t\t\tconfigurable: true,\n\t\t\tvalue: function(){\n\t\t\t\tvar args = Array.from(arguments),\n\t\t\t\tstart = args[0] < 0 ? data.length + args[0] : args[0],\n\t\t\t\tend = args[1],\n\t\t\t\tnewRows = args[2] ? args.slice(2) : false,\n\t\t\t\tstartRow, result;\n\t\t\t\t\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\tself.block(\"data-splice\");\n\t\t\t\t\t//add new rows\n\t\t\t\t\tif(newRows){\n\t\t\t\t\t\tstartRow = data[start] ? self.table.rowManager.getRowFromDataObject(data[start]) : false;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(startRow){\n\t\t\t\t\t\t\tnewRows.forEach((rowData) => {\n\t\t\t\t\t\t\t\tself.table.rowManager.addRowActual(rowData, true, startRow, true);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tnewRows = newRows.slice().reverse();\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tnewRows.forEach((rowData) => {\n\t\t\t\t\t\t\t\tself.table.rowManager.addRowActual(rowData, true, false, true);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t//delete removed rows\n\t\t\t\t\tif(end !== 0){\n\t\t\t\t\t\tvar oldRows = data.slice(start, typeof args[1] === \"undefined\" ? args[1] : start + end);\n\t\t\t\t\t\t\n\t\t\t\t\t\toldRows.forEach((rowData, i) => {\n\t\t\t\t\t\t\tvar row = self.table.rowManager.getRowFromDataObject(rowData);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(row){\n\t\t\t\t\t\t\t\trow.deleteActual(i !== oldRows.length - 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(newRows || end !== 0){\n\t\t\t\t\t\tself.table.rowManager.reRenderInPosition();\n\t\t\t\t\t}\n\n\t\t\t\t\tresult = self.origFuncs.splice.apply(data, arguments);\n\t\t\t\t\t\n\t\t\t\t\tself.unblock(\"data-splice\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn result ;\n\t\t\t}\n\t\t});\n\t}\n\t\n\tunwatchData(){\n\t\tif(this.data !== false){\n\t\t\tfor(var key in this.origFuncs){\n\t\t\t\tObject.defineProperty(this.data, key, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable:true,\n\t\t\t\t\twritable:true,\n\t\t\t\t\tvalue: this.origFuncs.key,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\t\n\twatchRow(row){\n\t\tvar data = row.getData();\n\t\t\n\t\tfor(var key in data){\n\t\t\tthis.watchKey(row, data, key);\n\t\t}\n\t\t\n\t\tif(this.table.options.dataTree){\n\t\t\tthis.watchTreeChildren(row);\n\t\t}\n\t}\n\t\n\twatchTreeChildren (row){\n\t\tvar self = this,\n\t\tchildField = row.getData()[this.table.options.dataTreeChildField],\n\t\torigFuncs = {};\n\t\t\n\t\tif(childField){\n\t\t\t\n\t\t\torigFuncs.push = childField.push;\n\t\t\t\n\t\t\tObject.defineProperty(childField, \"push\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tif(!self.blocked){\n\t\t\t\t\t\tself.block(\"tree-push\");\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar result = origFuncs.push.apply(childField, arguments);\n\t\t\t\t\t\tthis.rebuildTree(row);\n\t\t\t\t\t\t\n\t\t\t\t\t\tself.unblock(\"tree-push\");\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\torigFuncs.unshift = childField.unshift;\n\t\t\t\n\t\t\tObject.defineProperty(childField, \"unshift\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tif(!self.blocked){\n\t\t\t\t\t\tself.block(\"tree-unshift\");\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar result =  origFuncs.unshift.apply(childField, arguments);\n\t\t\t\t\t\tthis.rebuildTree(row);\n\t\t\t\t\t\t\n\t\t\t\t\t\tself.unblock(\"tree-unshift\");\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\torigFuncs.shift = childField.shift;\n\t\t\t\n\t\t\tObject.defineProperty(childField, \"shift\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tif(!self.blocked){\n\t\t\t\t\t\tself.block(\"tree-shift\");\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar result =  origFuncs.shift.call(childField);\n\t\t\t\t\t\tthis.rebuildTree(row);\n\t\t\t\t\t\t\n\t\t\t\t\t\tself.unblock(\"tree-shift\");\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\torigFuncs.pop = childField.pop;\n\t\t\t\n\t\t\tObject.defineProperty(childField, \"pop\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tif(!self.blocked){\n\t\t\t\t\t\tself.block(\"tree-pop\");\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar result =  origFuncs.pop.call(childField);\n\t\t\t\t\t\tthis.rebuildTree(row);\n\t\t\t\t\t\t\n\t\t\t\t\t\tself.unblock(\"tree-pop\");\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\torigFuncs.splice = childField.splice;\n\t\t\t\n\t\t\tObject.defineProperty(childField, \"splice\", {\n\t\t\t\tenumerable: false,\n\t\t\t\tconfigurable: true,\n\t\t\t\tvalue: () => {\n\t\t\t\t\tif(!self.blocked){\n\t\t\t\t\t\tself.block(\"tree-splice\");\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar result =  origFuncs.splice.apply(childField, arguments);\n\t\t\t\t\t\tthis.rebuildTree(row);\n\t\t\t\t\t\t\n\t\t\t\t\t\tself.unblock(\"tree-splice\");\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\t\n\trebuildTree(row){\n\t\tthis.table.modules.dataTree.initializeRow(row);\n\t\tthis.table.modules.dataTree.layoutRow(row);\n\t\tthis.table.rowManager.refreshActiveData(\"tree\", false, true);\n\t}\n\t\n\twatchKey(row, data, key){\n\t\tvar self = this,\n\t\tprops = Object.getOwnPropertyDescriptor(data, key),\n\t\tvalue = data[key],\n\t\tversion = this.currentVersion;\n\t\t\n\t\tObject.defineProperty(data, key, {\n\t\t\tset: (newValue) => {\n\t\t\t\tvalue = newValue;\n\t\t\t\tif(!self.blocked && version === self.currentVersion){\n\t\t\t\t\tself.block(\"key\");\n\t\t\t\t\t\n\t\t\t\t\tvar update = {};\n\t\t\t\t\tupdate[key] = newValue;\n\t\t\t\t\trow.updateData(update);\n\t\t\t\t\t\n\t\t\t\t\tself.unblock(\"key\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(props.set){\n\t\t\t\t\tprops.set(newValue);\n\t\t\t\t}\n\t\t\t},\n\t\t\tget:() => {\n\t\t\t\t\n\t\t\t\tif(props.get){\n\t\t\t\t\tprops.get();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn value;\n\t\t\t}\n\t\t});\n\t}\n\t\n\tunwatchRow(row){\n\t\tvar data = row.getData();\n\t\t\n\t\tfor(var key in data){\n\t\t\tObject.defineProperty(data, key, {\n\t\t\t\tvalue:data[key],\n\t\t\t});\n\t\t}\n\t}\n\t\n\tblock(key){\n\t\tif(!this.blocked){\n\t\t\tthis.blocked = key;\n\t\t}\n\t}\n\t\n\tunblock(key){\n\t\tif(this.blocked === key){\n\t\t\tthis.blocked = false;\n\t\t}\n\t}\n}\n\nReactiveData.moduleName = \"reactiveData\";\n\nexport default ReactiveData;\n\n\n\n","import Module from '../../core/Module.js';\n\nclass ResizeColumns extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.startColumn = false;\n\t\tthis.startX = false;\n\t\tthis.startWidth = false;\n\t\tthis.latestX = false;\n\t\tthis.handle = null;\n\t\tthis.initialNextColumn = null;\n\t\tthis.nextColumn = null;\n\t\t\n\t\tthis.initialized = false;\n\t\tthis.registerColumnOption(\"resizable\", true);\n\t\tthis.registerTableOption(\"resizableColumnFit\", false);\n\t}\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"column-rendered\", this.layoutColumnHeader.bind(this));\n\t}\n\t\n\tinitializeEventWatchers(){\n\t\tif(!this.initialized){\n\t\t\t\n\t\t\tthis.subscribe(\"cell-rendered\", this.layoutCellHandles.bind(this));\n\t\t\tthis.subscribe(\"cell-delete\", this.deInitializeComponent.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"cell-height\", this.resizeHandle.bind(this));\n\t\t\tthis.subscribe(\"column-moved\", this.columnLayoutUpdated.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"column-hide\", this.deInitializeColumn.bind(this));\n\t\t\tthis.subscribe(\"column-show\", this.columnLayoutUpdated.bind(this));\n\t\t\tthis.subscribe(\"column-width\", this.columnWidthUpdated.bind(this));\n\t\t\t\n\t\t\tthis.subscribe(\"column-delete\", this.deInitializeComponent.bind(this));\n\t\t\tthis.subscribe(\"column-height\", this.resizeHandle.bind(this));\n\t\t\t\n\t\t\tthis.initialized = true;\n\t\t}\n\t}\n\t\n\t\n\tlayoutCellHandles(cell){\n\t\tif(cell.row.type === \"row\"){\n\t\t\tthis.deInitializeComponent(cell);\n\t\t\tthis.initializeColumn(\"cell\", cell, cell.column, cell.element);\n\t\t}\n\t}\n\t\n\tlayoutColumnHeader(column){\n\t\tif(column.definition.resizable){\n\t\t\tthis.initializeEventWatchers();\n\t\t\tthis.deInitializeComponent(column);\n\t\t\tthis.initializeColumn(\"header\", column, column, column.element);\n\t\t}\n\t}\n\t\n\tcolumnLayoutUpdated(column){\n\t\tvar prev = column.prevColumn();\n\t\t\n\t\tthis.reinitializeColumn(column);\n\t\t\n\t\tif(prev){\n\t\t\tthis.reinitializeColumn(prev);\n\t\t}\n\t}\n\t\n\tcolumnWidthUpdated(column){\n\t\tif(column.modules.frozen){\n\t\t\tif(this.table.modules.frozenColumns.leftColumns.includes(column)){\n\t\t\t\tthis.table.modules.frozenColumns.leftColumns.forEach((col) => {\n\t\t\t\t\tthis.reinitializeColumn(col);\n\t\t\t\t});\n\t\t\t}else if(this.table.modules.frozenColumns.rightColumns.includes(column)){\n\t\t\t\tthis.table.modules.frozenColumns.rightColumns.forEach((col) => {\n\t\t\t\t\tthis.reinitializeColumn(col);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tfrozenColumnOffset(column){\n\t\tvar offset = false;\n\n\t\tif(column.modules.frozen){\n\t\t\toffset = column.modules.frozen.marginValue; \n\n\t\t\tif(column.modules.frozen.position === \"left\"){\n\t\t\t\toffset += column.getWidth() - 3;\n\t\t\t}else{\n\t\t\t\tif(offset){\n\t\t\t\t\toffset -= 3;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn offset !== false ? offset + \"px\" : false;\n\t}\n\t\n\treinitializeColumn(column){\n\t\tvar frozenOffset = this.frozenColumnOffset(column);\n\t\t\n\t\tcolumn.cells.forEach((cell) => {\n\t\t\tif(cell.modules.resize && cell.modules.resize.handleEl){\n\t\t\t\tif(frozenOffset){\n\t\t\t\t\tcell.modules.resize.handleEl.style[column.modules.frozen.position] = frozenOffset;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tcell.element.after(cell.modules.resize.handleEl);\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(column.modules.resize && column.modules.resize.handleEl){\n\t\t\tif(frozenOffset){\n\t\t\t\tcolumn.modules.resize.handleEl.style[column.modules.frozen.position] = frozenOffset;\n\t\t\t}\n\t\t\t\n\t\t\tcolumn.element.after(column.modules.resize.handleEl);\n\t\t}\n\t}\n\t\n\tinitializeColumn(type, component, column, element){\n\t\tvar self = this,\n\t\tvariableHeight = false,\n\t\tmode = column.definition.resizable,\n\t\tconfig = {},\n\t\tnearestColumn = column.getLastColumn();\n\t\t\n\t\t//set column resize mode\n\t\tif(type === \"header\"){\n\t\t\tvariableHeight = column.definition.formatter == \"textarea\" || column.definition.variableHeight;\n\t\t\tconfig = {variableHeight:variableHeight};\n\t\t}\n\t\t\n\t\tif((mode === true || mode == type) && this._checkResizability(nearestColumn)){\n\t\t\t\n\t\t\tvar handle = document.createElement('span');\n\t\t\thandle.className = \"tabulator-col-resize-handle\";\n\t\t\t\n\t\t\thandle.addEventListener(\"click\", function(e){\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t\t\n\t\t\tvar handleDown = function(e){\n\t\t\t\tself.startColumn = column;\n\t\t\t\tself.initialNextColumn = self.nextColumn = nearestColumn.nextColumn();\n\t\t\t\tself._mouseDown(e, nearestColumn, handle);\n\t\t\t};\n\t\t\t\n\t\t\thandle.addEventListener(\"mousedown\", handleDown);\n\t\t\thandle.addEventListener(\"touchstart\", handleDown, {passive: true});\n\t\t\t\n\t\t\t//resize column on  double click\n\t\t\thandle.addEventListener(\"dblclick\", (e) => {\n\t\t\t\tvar oldWidth = nearestColumn.getWidth();\n\t\t\t\t\n\t\t\t\te.stopPropagation();\n\t\t\t\tnearestColumn.reinitializeWidth(true);\n\t\t\t\t\n\t\t\t\tif(oldWidth !== nearestColumn.getWidth()){\n\t\t\t\t\tself.dispatch(\"column-resized\", nearestColumn);\n\t\t\t\t\tself.table.externalEvents.dispatch(\"columnResized\", nearestColumn.getComponent());\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif(column.modules.frozen){\n\t\t\t\thandle.style.position = \"sticky\";\n\t\t\t\thandle.style[column.modules.frozen.position] = this.frozenColumnOffset(column);\n\t\t\t}\n\t\t\t\n\t\t\tconfig.handleEl = handle;\n\t\t\t\n\t\t\tif(element.parentNode && column.visible){\n\t\t\t\telement.after(handle);\t\t\t\n\t\t\t}\n\t\t}\n\t\t\n\t\tcomponent.modules.resize = config;\n\t}\n\t\n\tdeInitializeColumn(column){\n\t\tthis.deInitializeComponent(column);\n\t\t\n\t\tcolumn.cells.forEach((cell) => {\n\t\t\tthis.deInitializeComponent(cell);\n\t\t});\n\t}\n\t\n\tdeInitializeComponent(component){\n\t\tvar handleEl;\n\t\t\n\t\tif(component.modules.resize){\n\t\t\thandleEl = component.modules.resize.handleEl;\n\t\t\t\n\t\t\tif(handleEl && handleEl.parentElement){\n\t\t\t\thandleEl.parentElement.removeChild(handleEl);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tresizeHandle(component, height){\n\t\tif(component.modules.resize && component.modules.resize.handleEl){\n\t\t\tcomponent.modules.resize.handleEl.style.height = height;\n\t\t}\n\t}\n\t\n\t_checkResizability(column){\n\t\treturn column.definition.resizable;\n\t}\n\t\n\t_mouseDown(e, column, handle){\n\t\tvar self = this;\n\t\t\n\t\tself.table.element.classList.add(\"tabulator-block-select\");\n\t\t\n\t\tfunction mouseMove(e){\n\t\t\tvar x = typeof e.screenX === \"undefined\" ? e.touches[0].screenX : e.screenX,\n\t\t\tstartDiff = x - self.startX,\n\t\t\tmoveDiff = x - self.latestX,\n\t\t\tblockedBefore, blockedAfter;\n\t\t\t\n\t\t\tself.latestX = x;\n\t\t\t\n\t\t\tif(self.table.rtl){\n\t\t\t\tstartDiff = -startDiff;\n\t\t\t\tmoveDiff = -moveDiff;\n\t\t\t}\n\t\t\t\n\t\t\tblockedBefore = column.width == column.minWidth || column.width == column.maxWidth;\n\t\t\t\n\t\t\tcolumn.setWidth(self.startWidth + startDiff);\n\t\t\t\n\t\t\tblockedAfter = column.width == column.minWidth || column.width == column.maxWidth;\n\t\t\t\n\t\t\tif(moveDiff < 0){\n\t\t\t\tself.nextColumn = self.initialNextColumn;\n\t\t\t}\n\t\t\t\n\t\t\tif(self.table.options.resizableColumnFit && self.nextColumn && !(blockedBefore && blockedAfter)){\n\t\t\t\tlet colWidth = self.nextColumn.getWidth();\n\t\t\t\t\n\t\t\t\tif(moveDiff > 0){\n\t\t\t\t\tif(colWidth <= self.nextColumn.minWidth){\n\t\t\t\t\t\tself.nextColumn = self.nextColumn.nextColumn();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(self.nextColumn){\n\t\t\t\t\tself.nextColumn.setWidth(self.nextColumn.getWidth() - moveDiff);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tself.table.columnManager.rerenderColumns(true);\n\t\t\t\n\t\t\tif(!self.table.browserSlow && column.modules.resize && column.modules.resize.variableHeight){\n\t\t\t\tcolumn.checkCellHeights();\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction mouseUp(e){\n\t\t\t\n\t\t\t//block editor from taking action while resizing is taking place\n\t\t\tif(self.startColumn.modules.edit){\n\t\t\t\tself.startColumn.modules.edit.blocked = false;\n\t\t\t}\n\t\t\t\n\t\t\tif(self.table.browserSlow && column.modules.resize && column.modules.resize.variableHeight){\n\t\t\t\tcolumn.checkCellHeights();\n\t\t\t}\n\t\t\t\n\t\t\tdocument.body.removeEventListener(\"mouseup\", mouseUp);\n\t\t\tdocument.body.removeEventListener(\"mousemove\", mouseMove);\n\t\t\t\n\t\t\thandle.removeEventListener(\"touchmove\", mouseMove);\n\t\t\thandle.removeEventListener(\"touchend\", mouseUp);\n\t\t\t\n\t\t\tself.table.element.classList.remove(\"tabulator-block-select\");\n\t\t\t\n\t\t\tif(self.startWidth !== column.getWidth()){\n\t\t\t\tself.table.columnManager.verticalAlignHeaders();\n\n\t\t\t\tself.dispatch(\"column-resized\", column);\n\t\t\t\tself.table.externalEvents.dispatch(\"columnResized\", column.getComponent());\n\t\t\t}\n\t\t}\n\t\t\n\t\te.stopPropagation(); //prevent resize from interfering with movable columns\n\t\t\n\t\t//block editor from taking action while resizing is taking place\n\t\tif(self.startColumn.modules.edit){\n\t\t\tself.startColumn.modules.edit.blocked = true;\n\t\t}\n\t\t\n\t\tself.startX = typeof e.screenX === \"undefined\" ? e.touches[0].screenX : e.screenX;\n\t\tself.latestX = self.startX;\n\t\tself.startWidth = column.getWidth();\n\t\t\n\t\tdocument.body.addEventListener(\"mousemove\", mouseMove);\n\t\tdocument.body.addEventListener(\"mouseup\", mouseUp);\n\t\thandle.addEventListener(\"touchmove\", mouseMove, {passive: true});\n\t\thandle.addEventListener(\"touchend\", mouseUp);\n\t}\n}\n\nResizeColumns.moduleName = \"resizeColumns\";\n\nexport default ResizeColumns;","import Module from '../../core/Module.js';\n\nclass ResizeRows extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.startColumn = false;\n\t\tthis.startY = false;\n\t\tthis.startHeight = false;\n\t\tthis.handle = null;\n\t\tthis.prevHandle = null;\n\n\t\tthis.registerTableOption(\"resizableRows\", false); //resizable rows\n\t}\n\n\tinitialize(){\n\t\tif(this.table.options.resizableRows){\n\t\t\tthis.subscribe(\"row-layout-after\", this.initializeRow.bind(this));\n\t\t}\n\t}\n\n\tinitializeRow(row){\n\t\tvar self = this,\n\t\trowEl = row.getElement();\n\n\t\tvar handle = document.createElement('div');\n\t\thandle.className = \"tabulator-row-resize-handle\";\n\n\t\tvar prevHandle = document.createElement('div');\n\t\tprevHandle.className = \"tabulator-row-resize-handle prev\";\n\n\t\thandle.addEventListener(\"click\", function(e){\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tvar handleDown = function(e){\n\t\t\tself.startRow = row;\n\t\t\tself._mouseDown(e, row, handle);\n\t\t};\n\n\t\thandle.addEventListener(\"mousedown\", handleDown);\n\t\thandle.addEventListener(\"touchstart\", handleDown, {passive: true});\n\n\t\tprevHandle.addEventListener(\"click\", function(e){\n\t\t\te.stopPropagation();\n\t\t});\n\n\t\tvar prevHandleDown =  function(e){\n\t\t\tvar prevRow = self.table.rowManager.prevDisplayRow(row);\n\n\t\t\tif(prevRow){\n\t\t\t\tself.startRow = prevRow;\n\t\t\t\tself._mouseDown(e, prevRow, prevHandle);\n\t\t\t}\n\t\t};\n\n\t\tprevHandle.addEventListener(\"mousedown\",prevHandleDown);\n\t\tprevHandle.addEventListener(\"touchstart\",prevHandleDown, {passive: true});\n\n\t\trowEl.appendChild(handle);\n\t\trowEl.appendChild(prevHandle);\n\t}\n\n\t_mouseDown(e, row, handle){\n\t\tvar self = this;\n\n\t\tself.table.element.classList.add(\"tabulator-block-select\");\n\n\t\tfunction mouseMove(e){\n\t\t\trow.setHeight(self.startHeight + ((typeof e.screenY === \"undefined\" ? e.touches[0].screenY : e.screenY) - self.startY));\n\t\t}\n\n\t\tfunction mouseUp(e){\n\n\t\t\t// //block editor from taking action while resizing is taking place\n\t\t\t// if(self.startColumn.modules.edit){\n\t\t\t// \tself.startColumn.modules.edit.blocked = false;\n\t\t\t// }\n\n\t\t\tdocument.body.removeEventListener(\"mouseup\", mouseMove);\n\t\t\tdocument.body.removeEventListener(\"mousemove\", mouseMove);\n\n\t\t\thandle.removeEventListener(\"touchmove\", mouseMove);\n\t\t\thandle.removeEventListener(\"touchend\", mouseUp);\n\n\t\t\tself.table.element.classList.remove(\"tabulator-block-select\");\n\n\t\t\tself.dispatchExternal(\"rowResized\", row.getComponent());\n\t\t}\n\n\t\te.stopPropagation(); //prevent resize from interfering with movable columns\n\n\t\t//block editor from taking action while resizing is taking place\n\t\t// if(self.startColumn.modules.edit){\n\t\t// \tself.startColumn.modules.edit.blocked = true;\n\t\t// }\n\n\t\tself.startY = typeof e.screenY === \"undefined\" ? e.touches[0].screenY : e.screenY;\n\t\tself.startHeight = row.getHeight();\n\n\t\tdocument.body.addEventListener(\"mousemove\", mouseMove);\n\t\tdocument.body.addEventListener(\"mouseup\", mouseUp);\n\n\t\thandle.addEventListener(\"touchmove\", mouseMove, {passive: true});\n\t\thandle.addEventListener(\"touchend\", mouseUp);\n\t}\n}\n\nResizeRows.moduleName = \"resizeRows\";\n\nexport default ResizeRows;","import Module from '../../core/Module.js';\n\nclass ResizeTable extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.binding = false;\n\t\tthis.visibilityObserver = false;\n\t\tthis.resizeObserver = false;\n\t\tthis.containerObserver = false;\n\t\t\n\t\tthis.tableHeight = 0;\n\t\tthis.tableWidth = 0;\n\t\tthis.containerHeight = 0;\n\t\tthis.containerWidth = 0;\n\t\t\n\t\tthis.autoResize = false;\n\t\t\n\t\tthis.visible = false;\n\t\t\n\t\tthis.initialized = false;\n\t\tthis.initialRedraw = false;\n\t\t\n\t\tthis.registerTableOption(\"autoResize\", true); //auto resize table\n\t}\n\t\n\tinitialize(){\n\t\tif(this.table.options.autoResize){\n\t\t\tvar table = this.table,\n\t\t\ttableStyle;\n\t\t\t\n\t\t\tthis.tableHeight = table.element.clientHeight;\n\t\t\tthis.tableWidth = table.element.clientWidth;\n\t\t\t\n\t\t\tif(table.element.parentNode){\n\t\t\t\tthis.containerHeight = table.element.parentNode.clientHeight;\n\t\t\t\tthis.containerWidth = table.element.parentNode.clientWidth;\n\t\t\t}\n\t\t\t\n\t\t\tif(typeof IntersectionObserver !== \"undefined\" && typeof ResizeObserver !== \"undefined\" && table.rowManager.getRenderMode() === \"virtual\"){\n\t\t\t\t\n\t\t\t\tthis.initializeVisibilityObserver();\n\t\t\t\t\n\t\t\t\tthis.autoResize = true;\n\t\t\t\t\n\t\t\t\tthis.resizeObserver = new ResizeObserver((entry) => {\n\t\t\t\t\tif(!table.browserMobile || (table.browserMobile &&!table.modules.edit.currentCell)){\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar nodeHeight = Math.floor(entry[0].contentRect.height);\n\t\t\t\t\t\tvar nodeWidth = Math.floor(entry[0].contentRect.width);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(this.tableHeight != nodeHeight || this.tableWidth != nodeWidth){\n\t\t\t\t\t\t\tthis.tableHeight = nodeHeight;\n\t\t\t\t\t\t\tthis.tableWidth = nodeWidth;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(table.element.parentNode){\n\t\t\t\t\t\t\t\tthis.containerHeight = table.element.parentNode.clientHeight;\n\t\t\t\t\t\t\t\tthis.containerWidth = table.element.parentNode.clientWidth;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tthis.redrawTable();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.resizeObserver.observe(table.element);\n\t\t\t\t\n\t\t\t\ttableStyle = window.getComputedStyle(table.element);\n\t\t\t\t\n\t\t\t\tif(this.table.element.parentNode && !this.table.rowManager.fixedHeight && (tableStyle.getPropertyValue(\"max-height\") || tableStyle.getPropertyValue(\"min-height\"))){\n\t\t\t\t\t\n\t\t\t\t\tthis.containerObserver = new ResizeObserver((entry) => {\n\t\t\t\t\t\tif(!table.browserMobile || (table.browserMobile &&!table.modules.edit.currentCell)){\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tvar nodeHeight = Math.floor(entry[0].contentRect.height);\n\t\t\t\t\t\t\tvar nodeWidth = Math.floor(entry[0].contentRect.width);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(this.containerHeight != nodeHeight || this.containerWidth != nodeWidth){\n\t\t\t\t\t\t\t\tthis.containerHeight = nodeHeight;\n\t\t\t\t\t\t\t\tthis.containerWidth = nodeWidth;\n\t\t\t\t\t\t\t\tthis.tableHeight = table.element.clientHeight;\n\t\t\t\t\t\t\t\tthis.tableWidth = table.element.clientWidth;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tthis.redrawTable();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.containerObserver.observe(this.table.element.parentNode);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.subscribe(\"table-resize\", this.tableResized.bind(this));\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\tthis.binding = function(){\n\t\t\t\t\tif(!table.browserMobile || (table.browserMobile && !table.modules.edit.currentCell)){\n\t\t\t\t\t\ttable.columnManager.rerenderColumns(true);\n\t\t\t\t\t\ttable.redraw();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\twindow.addEventListener(\"resize\", this.binding);\n\t\t\t}\n\t\t\t\n\t\t\tthis.subscribe(\"table-destroy\", this.clearBindings.bind(this));\n\t\t}\n\t}\n\t\n\tinitializeVisibilityObserver(){\n\t\tthis.visibilityObserver = new IntersectionObserver((entries) => {\n\t\t\tthis.visible = entries[0].isIntersecting;\n\t\t\t\n\t\t\tif(!this.initialized){\n\t\t\t\tthis.initialized = true;\n\t\t\t\tthis.initialRedraw = !this.visible;\n\t\t\t}else{\n\t\t\t\tif(this.visible){\n\t\t\t\t\tthis.redrawTable(this.initialRedraw);\n\t\t\t\t\tthis.initialRedraw = false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.visibilityObserver.observe(this.table.element);\n\t}\n\t\n\tredrawTable(force){\n\t\tif(this.initialized && this.visible){\n\t\t\tthis.table.columnManager.rerenderColumns(true);\n\t\t\tthis.table.redraw(force);\n\t\t}\n\t}\n\t\n\ttableResized(){\n\t\tthis.table.rowManager.redraw();\n\t}\n\t\n\tclearBindings(){\n\t\tif(this.binding){\n\t\t\twindow.removeEventListener(\"resize\", this.binding);\n\t\t}\n\t\t\n\t\tif(this.resizeObserver){\n\t\t\tthis.resizeObserver.unobserve(this.table.element);\n\t\t}\n\t\t\n\t\tif(this.visibilityObserver){\n\t\t\tthis.visibilityObserver.unobserve(this.table.element);\n\t\t}\n\t\t\n\t\tif(this.containerObserver){\n\t\t\tthis.containerObserver.unobserve(this.table.element.parentNode);\n\t\t}\n\t}\n}\n\nResizeTable.moduleName = \"resizeTable\";\n\nexport default ResizeTable;","import Module from '../../core/Module.js';\n\nclass ResponsiveLayout extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.columns = [];\n\t\tthis.hiddenColumns = [];\n\t\tthis.mode = \"\";\n\t\tthis.index = 0;\n\t\tthis.collapseFormatter = [];\n\t\tthis.collapseStartOpen = true;\n\t\tthis.collapseHandleColumn = false;\n\n\t\tthis.registerTableOption(\"responsiveLayout\", false); //responsive layout flags\n\t\tthis.registerTableOption(\"responsiveLayoutCollapseStartOpen\", true); //start showing collapsed data\n\t\tthis.registerTableOption(\"responsiveLayoutCollapseUseFormatters\", true); //responsive layout collapse formatter\n\t\tthis.registerTableOption(\"responsiveLayoutCollapseFormatter\", false); //responsive layout collapse formatter\n\n\t\tthis.registerColumnOption(\"responsive\");\n\t}\n\n\t//generate responsive columns list\n\tinitialize(){\n\t\tif(this.table.options.responsiveLayout){\n\t\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\t\tthis.subscribe(\"column-show\", this.updateColumnVisibility.bind(this));\n\t\t\tthis.subscribe(\"column-hide\", this.updateColumnVisibility.bind(this));\n\t\t\tthis.subscribe(\"columns-loaded\", this.initializeResponsivity.bind(this));\n\t\t\tthis.subscribe(\"column-moved\", this.initializeResponsivity.bind(this));\n\t\t\tthis.subscribe(\"column-add\", this.initializeResponsivity.bind(this));\n\t\t\tthis.subscribe(\"column-delete\", this.initializeResponsivity.bind(this));\n\n\t\t\tthis.subscribe(\"table-redrawing\", this.tableRedraw.bind(this));\n\t\t\t\n\t\t\tif(this.table.options.responsiveLayout === \"collapse\"){\n\t\t\t\tthis.subscribe(\"row-data-changed\", this.generateCollapsedRowContent.bind(this));\n\t\t\t\tthis.subscribe(\"row-init\", this.initializeRow.bind(this));\n\t\t\t\tthis.subscribe(\"row-layout\", this.layoutRow.bind(this));\n\t\t\t}\n\t\t}\n\t}\n\n\ttableRedraw(force){\n\t\tif([\"fitColumns\", \"fitDataStretch\"].indexOf(this.layoutMode()) === -1){\n\t\t\tif(!force){\n\t\t\t\tthis.update();\n\t\t\t}\n\t\t}\n\t}\n\n\tinitializeResponsivity(){\n\t\tvar columns = [];\n\n\t\tthis.mode = this.table.options.responsiveLayout;\n\t\tthis.collapseFormatter = this.table.options.responsiveLayoutCollapseFormatter || this.formatCollapsedData;\n\t\tthis.collapseStartOpen = this.table.options.responsiveLayoutCollapseStartOpen;\n\t\tthis.hiddenColumns = [];\n\n\t\t//determine level of responsivity for each column\n\t\tthis.table.columnManager.columnsByIndex.forEach((column, i) => {\n\t\t\tif(column.modules.responsive){\n\t\t\t\tif(column.modules.responsive.order && column.modules.responsive.visible){\n\t\t\t\t\tcolumn.modules.responsive.index = i;\n\t\t\t\t\tcolumns.push(column);\n\n\t\t\t\t\tif(!column.visible && this.mode === \"collapse\"){\n\t\t\t\t\t\tthis.hiddenColumns.push(column);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t//sort list by responsivity\n\t\tcolumns = columns.reverse();\n\t\tcolumns = columns.sort((a, b) => {\n\t\t\tvar diff = b.modules.responsive.order - a.modules.responsive.order;\n\t\t\treturn diff || (b.modules.responsive.index - a.modules.responsive.index);\n\t\t});\n\n\t\tthis.columns = columns;\n\n\t\tif(this.mode === \"collapse\"){\n\t\t\tthis.generateCollapsedContent();\n\t\t}\n\n\t\t//assign collapse column\n\t\tfor (let col of this.table.columnManager.columnsByIndex){\n\t\t\tif(col.definition.formatter == \"responsiveCollapse\"){\n\t\t\t\tthis.collapseHandleColumn = col;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif(this.collapseHandleColumn){\n\t\t\tif(this.hiddenColumns.length){\n\t\t\t\tthis.collapseHandleColumn.show();\n\t\t\t}else{\n\t\t\t\tthis.collapseHandleColumn.hide();\n\t\t\t}\n\t\t}\n\t}\n\n\t//define layout information\n\tinitializeColumn(column){\n\t\tvar def = column.getDefinition();\n\n\t\tcolumn.modules.responsive = {order: typeof def.responsive === \"undefined\" ? 1 : def.responsive, visible:def.visible === false ? false : true};\n\t}\n\n\tinitializeRow(row){\n\t\tvar el;\n\n\t\tif(row.type !== \"calc\"){\n\t\t\tel = document.createElement(\"div\");\n\t\t\tel.classList.add(\"tabulator-responsive-collapse\");\n\n\t\t\trow.modules.responsiveLayout = {\n\t\t\t\telement:el,\n\t\t\t\topen:this.collapseStartOpen,\n\t\t\t};\n\n\t\t\tif(!this.collapseStartOpen){\n\t\t\t\tel.style.display = 'none';\n\t\t\t}\n\t\t}\n\t}\n\n\tlayoutRow(row){\n\t\tvar rowEl = row.getElement();\n\n\t\tif(row.modules.responsiveLayout){\n\t\t\trowEl.appendChild(row.modules.responsiveLayout.element);\n\t\t\tthis.generateCollapsedRowContent(row);\n\t\t}\n\t}\n\n\t//update column visibility\n\tupdateColumnVisibility(column, responsiveToggle){\n\t\tif(!responsiveToggle && column.modules.responsive){\n\t\t\tcolumn.modules.responsive.visible = column.visible;\n\t\t\tthis.initializeResponsivity();\n\t\t}\n\t}\n\n\thideColumn(column){\n\t\tvar colCount = this.hiddenColumns.length;\n\n\t\tcolumn.hide(false, true);\n\n\t\tif(this.mode === \"collapse\"){\n\t\t\tthis.hiddenColumns.unshift(column);\n\t\t\tthis.generateCollapsedContent();\n\n\t\t\tif(this.collapseHandleColumn && !colCount){\n\t\t\t\tthis.collapseHandleColumn.show();\n\t\t\t}\n\t\t}\n\t}\n\n\tshowColumn(column){\n\t\tvar index;\n\n\t\tcolumn.show(false, true);\n\t\t//set column width to prevent calculation loops on uninitialized columns\n\t\tcolumn.setWidth(column.getWidth());\n\n\t\tif(this.mode === \"collapse\"){\n\t\t\tindex = this.hiddenColumns.indexOf(column);\n\n\t\t\tif(index > -1){\n\t\t\t\tthis.hiddenColumns.splice(index, 1);\n\t\t\t}\n\n\t\t\tthis.generateCollapsedContent();\n\n\t\t\tif(this.collapseHandleColumn && !this.hiddenColumns.length){\n\t\t\t\tthis.collapseHandleColumn.hide();\n\t\t\t}\n\t\t}\n\t}\n\n\t//redraw columns to fit space\n\tupdate(){\n\t\tvar working = true;\n\n\t\twhile(working){\n\n\t\t\tlet width = this.table.modules.layout.getMode() == \"fitColumns\" ? this.table.columnManager.getFlexBaseWidth() : this.table.columnManager.getWidth();\n\n\t\t\tlet diff = (this.table.options.headerVisible ? this.table.columnManager.element.clientWidth : this.table.element.clientWidth) - width;\n\n\t\t\tif(diff < 0){\n\t\t\t\t//table is too wide\n\t\t\t\tlet column = this.columns[this.index];\n\n\t\t\t\tif(column){\n\t\t\t\t\tthis.hideColumn(column);\n\t\t\t\t\tthis.index ++;\n\t\t\t\t}else{\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\n\t\t\t}else{\n\n\t\t\t\t//table has spare space\n\t\t\t\tlet column = this.columns[this.index -1];\n\n\t\t\t\tif(column){\n\t\t\t\t\tif(diff > 0){\n\t\t\t\t\t\tif(diff >= column.getWidth()){\n\t\t\t\t\t\t\tthis.showColumn(column);\n\t\t\t\t\t\t\tthis.index --;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tworking = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tworking = false;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!this.table.rowManager.activeRowsCount){\n\t\t\t\tthis.table.rowManager.renderEmptyScroll();\n\t\t\t}\n\t\t}\n\t}\n\n\tgenerateCollapsedContent(){\n\t\tvar rows = this.table.rowManager.getDisplayRows();\n\n\t\trows.forEach((row) => {\n\t\t\tthis.generateCollapsedRowContent(row);\n\t\t});\n\t}\n\n\tgenerateCollapsedRowContent(row){\n\t\tvar el, contents;\n\n\t\tif(row.modules.responsiveLayout){\n\t\t\tel = row.modules.responsiveLayout.element;\n\n\t\t\twhile(el.firstChild) el.removeChild(el.firstChild);\n\n\t\t\tcontents = this.collapseFormatter(this.generateCollapsedRowData(row));\n\t\t\tif(contents){\n\t\t\t\tel.appendChild(contents);\n\t\t\t}\n\t\t}\n\t}\n\n\tgenerateCollapsedRowData(row){\n\t\tvar data = row.getData(),\n\t\toutput = [],\n\t\tmockCellComponent;\n\n\t\tthis.hiddenColumns.forEach((column) => {\n\t\t\tvar value = column.getFieldValue(data);\n\n\t\t\tif(column.definition.title && column.field){\n\t\t\t\tif(column.modules.format && this.table.options.responsiveLayoutCollapseUseFormatters){\n\n\t\t\t\t\tmockCellComponent = {\n\t\t\t\t\t\tvalue:false,\n\t\t\t\t\t\tdata:{},\n\t\t\t\t\t\tgetValue:function(){\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetData:function(){\n\t\t\t\t\t\t\treturn data;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetElement:function(){\n\t\t\t\t\t\t\treturn document.createElement(\"div\");\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetRow:function(){\n\t\t\t\t\t\t\treturn row.getComponent();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetColumn:function(){\n\t\t\t\t\t\t\treturn column.getComponent();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetTable:() => {\n\t\t\t\t\t\t\treturn this.table;\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\n\t\t\t\t\tfunction onRendered(callback){\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push({\n\t\t\t\t\t\tfield: column.field,\n\t\t\t\t\t\ttitle: column.definition.title,\n\t\t\t\t\t\tvalue: column.modules.format.formatter.call(this.table.modules.format, mockCellComponent, column.modules.format.params, onRendered)\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\toutput.push({\n\t\t\t\t\t\tfield: column.field,\n\t\t\t\t\t\ttitle: column.definition.title,\n\t\t\t\t\t\tvalue: value\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn output;\n\t}\n\n\tformatCollapsedData(data){\n\t\tvar list = document.createElement(\"table\");\n\n\t\tdata.forEach(function(item){\n\t\t\tvar row = document.createElement(\"tr\");\n\t\t\tvar titleData = document.createElement(\"td\");\n\t\t\tvar valueData = document.createElement(\"td\");\n\t\t\tvar node_content;\n\n\t\t\tvar titleHighlight = document.createElement(\"strong\");\n\t\t\ttitleData.appendChild(titleHighlight);\n\t\t\tthis.langBind(\"columns|\" + item.field, function(text){\n\t\t\t\ttitleHighlight.innerHTML = text || item.title;\n\t\t\t});\n\n\t\t\tif(item.value instanceof Node){\n\t\t\t\tnode_content = document.createElement(\"div\");\n\t\t\t\tnode_content.appendChild(item.value);\n\t\t\t\tvalueData.appendChild(node_content);\n\t\t\t}else{\n\t\t\t\tvalueData.innerHTML = item.value;\n\t\t\t}\n\n\t\t\trow.appendChild(titleData);\n\t\t\trow.appendChild(valueData);\n\t\t\tlist.appendChild(row);\n\t\t}, this);\n\n\t\treturn Object.keys(data).length ? list : \"\";\n\t}\n}\n\nResponsiveLayout.moduleName = \"responsiveLayout\";\n\nexport default ResponsiveLayout;\n","import Module from '../../core/Module.js';\n\nclass SelectRow extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.selecting = false; //flag selecting in progress\n\t\tthis.lastClickedRow = false; //last clicked row\n\t\tthis.selectPrev = []; //hold previously selected element for drag drop selection\n\t\tthis.selectedRows = []; //hold selected rows\n\t\tthis.headerCheckboxElement = null; // hold header select element\n\t\t\n\t\tthis.registerTableOption(\"selectable\", \"highlight\"); //highlight rows on hover\n\t\tthis.registerTableOption(\"selectableRangeMode\", \"drag\");  //highlight rows on hover\n\t\tthis.registerTableOption(\"selectableRollingSelection\", true); //roll selection once maximum number of selectable rows is reached\n\t\tthis.registerTableOption(\"selectablePersistence\", true); // maintain selection when table view is updated\n\t\tthis.registerTableOption(\"selectableCheck\", function(data, row){return true;}); //check whether row is selectable\n\t\t\n\t\tthis.registerTableFunction(\"selectRow\", this.selectRows.bind(this));\n\t\tthis.registerTableFunction(\"deselectRow\", this.deselectRows.bind(this));\n\t\tthis.registerTableFunction(\"toggleSelectRow\", this.toggleRow.bind(this));\n\t\tthis.registerTableFunction(\"getSelectedRows\", this.getSelectedRows.bind(this));\n\t\tthis.registerTableFunction(\"getSelectedData\", this.getSelectedData.bind(this));\n\t\t\n\t\t//register component functions\n\t\tthis.registerComponentFunction(\"row\", \"select\", this.selectRows.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"deselect\", this.deselectRows.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"toggleSelect\", this.toggleRow.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"isSelected\", this.isRowSelected.bind(this));\n\t}\n\t\n\tinitialize(){\n\t\tif(this.table.options.selectable !== false){\n\t\t\tthis.subscribe(\"row-init\", this.initializeRow.bind(this));\n\t\t\tthis.subscribe(\"row-deleting\", this.rowDeleted.bind(this));\n\t\t\tthis.subscribe(\"rows-wipe\", this.clearSelectionData.bind(this));\n\t\t\tthis.subscribe(\"rows-retrieve\", this.rowRetrieve.bind(this));\n\t\t\t\n\t\t\tif(this.table.options.selectable && !this.table.options.selectablePersistence){\n\t\t\t\tthis.subscribe(\"data-refreshing\", this.deselectRows.bind(this));\n\t\t\t}\n\t\t}\n\t}\n\t\n\trowRetrieve(type, prevValue){\n\t\treturn type === \"selected\" ? this.selectedRows : prevValue;\n\t}\n\t\n\trowDeleted(row){\n\t\tthis._deselectRow(row, true);\n\t}\n\t\n\tclearSelectionData(silent){\n\t\tvar prevSelected = this.selectedRows.length;\n\n\t\tthis.selecting = false;\n\t\tthis.lastClickedRow = false;\n\t\tthis.selectPrev = [];\n\t\tthis.selectedRows = [];\n\t\t\n\t\tif(prevSelected && silent !== true){\n\t\t\tthis._rowSelectionChanged();\n\t\t}\n\t}\n\t\n\tinitializeRow(row){\n\t\tvar self = this,\n\t\telement = row.getElement();\n\t\t\n\t\t// trigger end of row selection\n\t\tvar endSelect = function(){\n\t\t\t\n\t\t\tsetTimeout(function(){\n\t\t\t\tself.selecting = false;\n\t\t\t}, 50);\n\t\t\t\n\t\t\tdocument.body.removeEventListener(\"mouseup\", endSelect);\n\t\t};\n\t\t\n\t\trow.modules.select = {selected:false};\n\t\t\n\t\t//set row selection class\n\t\tif(self.checkRowSelectability(row)){\n\t\t\telement.classList.add(\"tabulator-selectable\");\n\t\t\telement.classList.remove(\"tabulator-unselectable\");\n\t\t\t\n\t\t\tif(self.table.options.selectable && self.table.options.selectable != \"highlight\"){\n\t\t\t\tif(self.table.options.selectableRangeMode === \"click\"){\n\t\t\t\t\telement.addEventListener(\"click\", this.handleComplexRowClick.bind(this, row));\n\t\t\t\t}else{\n\t\t\t\t\telement.addEventListener(\"click\", function(e){\n\t\t\t\t\t\tif(!self.table.modExists(\"edit\") || !self.table.modules.edit.getCurrentCell()){\n\t\t\t\t\t\t\tself.table._clearSelection();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(!self.selecting){\n\t\t\t\t\t\t\tself.toggleRow(row);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\telement.addEventListener(\"mousedown\", function(e){\n\t\t\t\t\t\tif(e.shiftKey){\n\t\t\t\t\t\t\tself.table._clearSelection();\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tself.selecting = true;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tself.selectPrev = [];\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tdocument.body.addEventListener(\"mouseup\", endSelect);\n\t\t\t\t\t\t\tdocument.body.addEventListener(\"keyup\", endSelect);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tself.toggleRow(row);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\telement.addEventListener(\"mouseenter\", function(e){\n\t\t\t\t\t\tif(self.selecting){\n\t\t\t\t\t\t\tself.table._clearSelection();\n\t\t\t\t\t\t\tself.toggleRow(row);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(self.selectPrev[1] == row){\n\t\t\t\t\t\t\t\tself.toggleRow(self.selectPrev[0]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\telement.addEventListener(\"mouseout\", function(e){\n\t\t\t\t\t\tif(self.selecting){\n\t\t\t\t\t\t\tself.table._clearSelection();\n\t\t\t\t\t\t\tself.selectPrev.unshift(row);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}else{\n\t\t\telement.classList.add(\"tabulator-unselectable\");\n\t\t\telement.classList.remove(\"tabulator-selectable\");\n\t\t}\n\t}\n\t\n\thandleComplexRowClick(row, e){\n\t\tif(e.shiftKey){\n\t\t\tthis.table._clearSelection();\n\t\t\tthis.lastClickedRow = this.lastClickedRow || row;\n\t\t\t\n\t\t\tvar lastClickedRowIdx = this.table.rowManager.getDisplayRowIndex(this.lastClickedRow);\n\t\t\tvar rowIdx = this.table.rowManager.getDisplayRowIndex(row);\n\t\t\t\n\t\t\tvar fromRowIdx = lastClickedRowIdx <= rowIdx ? lastClickedRowIdx : rowIdx;\n\t\t\tvar toRowIdx = lastClickedRowIdx >= rowIdx ? lastClickedRowIdx : rowIdx;\n\t\t\t\n\t\t\tvar rows = this.table.rowManager.getDisplayRows().slice(0);\n\t\t\tvar toggledRows = rows.splice(fromRowIdx, toRowIdx - fromRowIdx + 1);\n\t\t\t\n\t\t\tif(e.ctrlKey || e.metaKey){\n\t\t\t\ttoggledRows.forEach((toggledRow)=>{\n\t\t\t\t\tif(toggledRow !== this.lastClickedRow){\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(this.table.options.selectable !== true && !this.isRowSelected(row)){\n\t\t\t\t\t\t\tif(this.selectedRows.length < this.table.options.selectable){\n\t\t\t\t\t\t\t\tthis.toggleRow(toggledRow);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.toggleRow(toggledRow);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.lastClickedRow = row;\n\t\t\t}else{\n\t\t\t\tthis.deselectRows(undefined, true);\n\t\t\t\t\n\t\t\t\tif(this.table.options.selectable !== true){\n\t\t\t\t\tif(toggledRows.length > this.table.options.selectable){\n\t\t\t\t\t\ttoggledRows = toggledRows.slice(0, this.table.options.selectable);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.selectRows(toggledRows);\n\t\t\t}\n\t\t\tthis.table._clearSelection();\n\t\t}\n\t\telse if(e.ctrlKey || e.metaKey){\n\t\t\tthis.toggleRow(row);\n\t\t\tthis.lastClickedRow = row;\n\t\t}else{\n\t\t\tthis.deselectRows(undefined, true);\n\t\t\tthis.selectRows(row);\n\t\t\tthis.lastClickedRow = row;\n\t\t}\n\t}\n\n\tcheckRowSelectability(row){\n\t\tif(row.type === \"row\"){\n\t\t\treturn this.table.options.selectableCheck.call(this.table, row.getComponent());\n\t\t}\n\n\t\treturn false;\n\t}\n\t\n\t//toggle row selection\n\ttoggleRow(row){\n\t\tif(this.checkRowSelectability(row)){\n\t\t\tif(row.modules.select && row.modules.select.selected){\n\t\t\t\tthis._deselectRow(row);\n\t\t\t}else{\n\t\t\t\tthis._selectRow(row);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//select a number of rows\n\tselectRows(rows){\n\t\tvar rowMatch;\n\t\t\n\t\tswitch(typeof rows){\n\t\t\tcase \"undefined\":\n\t\t\t\tthis.table.rowManager.rows.forEach((row) => {\n\t\t\t\t\tthis._selectRow(row, true, true);\n\t\t\t\t});\n\t\t\t\n\t\t\t\tthis._rowSelectionChanged();\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"string\":\n\t\t\t\trowMatch = this.table.rowManager.findRow(rows);\n\t\t\t\n\t\t\t\tif(rowMatch){\n\t\t\t\t\tthis._selectRow(rowMatch, true, true);\n\t\t\t\t\tthis._rowSelectionChanged();\n\t\t\t\t}else{\n\t\t\t\t\trowMatch = this.table.rowManager.getRows(rows);\n\t\t\t\t\t\n\t\t\t\t\trowMatch.forEach((row) => {\n\t\t\t\t\t\tthis._selectRow(row, true, true);\n\t\t\t\t\t});\n\n\t\t\t\t\tif(rowMatch.length){\n\t\t\t\t\t\tthis._rowSelectionChanged();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tif(Array.isArray(rows)){\n\t\t\t\t\trows.forEach((row) => {\n\t\t\t\t\t\tthis._selectRow(row, true, true);\n\t\t\t\t\t});\n\t\t\t\t\n\t\t\t\t\tthis._rowSelectionChanged();\n\t\t\t\t}else{\n\t\t\t\t\tthis._selectRow(rows, false, true);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t}\n\t\n\t//select an individual row\n\t_selectRow(rowInfo, silent, force){\n\t\t//handle max row count\n\t\tif(!isNaN(this.table.options.selectable) && this.table.options.selectable !== true && !force){\n\t\t\tif(this.selectedRows.length >= this.table.options.selectable){\n\t\t\t\tif(this.table.options.selectableRollingSelection){\n\t\t\t\t\tthis._deselectRow(this.selectedRows[0]);\n\t\t\t\t}else{\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tvar row = this.table.rowManager.findRow(rowInfo);\n\t\t\n\t\tif(row){\n\t\t\tif(this.selectedRows.indexOf(row) == -1){\n\t\t\t\trow.getElement().classList.add(\"tabulator-selected\");\n\t\t\t\tif(!row.modules.select){\n\t\t\t\t\trow.modules.select = {};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trow.modules.select.selected = true;\n\t\t\t\tif(row.modules.select.checkboxEl){\n\t\t\t\t\trow.modules.select.checkboxEl.checked = true;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.selectedRows.push(row);\n\t\t\t\t\n\t\t\t\tif(this.table.options.dataTreeSelectPropagate){\n\t\t\t\t\tthis.childRowSelection(row, true);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.dispatchExternal(\"rowSelected\", row.getComponent());\n\t\t\t\t\n\t\t\t\tthis._rowSelectionChanged(silent);\n\t\t\t}\n\t\t}else{\n\t\t\tif(!silent){\n\t\t\t\tconsole.warn(\"Selection Error - No such row found, ignoring selection:\" + rowInfo);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tisRowSelected(row){\n\t\treturn this.selectedRows.indexOf(row) !== -1;\n\t}\n\t\n\t//deselect a number of rows\n\tdeselectRows(rows, silent){\n\t\tvar self = this,\n\t\trowCount;\n\t\t\n\t\tif(typeof rows == \"undefined\"){\n\t\t\t\n\t\t\trowCount = self.selectedRows.length;\n\t\t\t\n\t\t\tfor(let i = 0; i < rowCount; i++){\n\t\t\t\tself._deselectRow(self.selectedRows[0], true);\n\t\t\t}\n\t\t\t\n\t\t\tif(rowCount){\n\t\t\t\tself._rowSelectionChanged(silent);\n\t\t\t}\n\t\t\t\n\t\t}else{\n\t\t\tif(Array.isArray(rows)){\n\t\t\t\trows.forEach(function(row){\n\t\t\t\t\tself._deselectRow(row, true);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tself._rowSelectionChanged(silent);\n\t\t\t}else{\n\t\t\t\tself._deselectRow(rows, silent);\n\t\t\t}\n\t\t}\n\t}\n\t\n\t//deselect an individual row\n\t_deselectRow(rowInfo, silent){\n\t\tvar self = this,\n\t\trow = self.table.rowManager.findRow(rowInfo),\n\t\tindex;\n\t\t\n\t\tif(row){\n\t\t\tindex = self.selectedRows.findIndex(function(selectedRow){\n\t\t\t\treturn selectedRow == row;\n\t\t\t});\n\t\t\t\n\t\t\tif(index > -1){\n\t\t\t\t\n\t\t\t\trow.getElement().classList.remove(\"tabulator-selected\");\n\t\t\t\tif(!row.modules.select){\n\t\t\t\t\trow.modules.select = {};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trow.modules.select.selected = false;\n\t\t\t\tif(row.modules.select.checkboxEl){\n\t\t\t\t\trow.modules.select.checkboxEl.checked = false;\n\t\t\t\t}\n\t\t\t\tself.selectedRows.splice(index, 1);\n\t\t\t\t\n\t\t\t\tif(this.table.options.dataTreeSelectPropagate){\n\t\t\t\t\tthis.childRowSelection(row, false);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.dispatchExternal(\"rowDeselected\", row.getComponent());\n\t\t\t\t\n\t\t\t\tself._rowSelectionChanged(silent);\n\t\t\t}\n\t\t}else{\n\t\t\tif(!silent){\n\t\t\t\tconsole.warn(\"Deselection Error - No such row found, ignoring selection:\" + rowInfo);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tgetSelectedData(){\n\t\tvar data = [];\n\t\t\n\t\tthis.selectedRows.forEach(function(row){\n\t\t\tdata.push(row.getData());\n\t\t});\n\t\t\n\t\treturn data;\n\t}\n\t\n\tgetSelectedRows(){\n\t\t\n\t\tvar rows = [];\n\t\t\n\t\tthis.selectedRows.forEach(function(row){\n\t\t\trows.push(row.getComponent());\n\t\t});\n\t\t\n\t\treturn rows;\n\t}\n\t\n\t_rowSelectionChanged(silent){\n\t\tif(this.headerCheckboxElement){\n\t\t\tif(this.selectedRows.length === 0){\n\t\t\t\tthis.headerCheckboxElement.checked = false;\n\t\t\t\tthis.headerCheckboxElement.indeterminate = false;\n\t\t\t} else if(this.table.rowManager.rows.length === this.selectedRows.length){\n\t\t\t\tthis.headerCheckboxElement.checked = true;\n\t\t\t\tthis.headerCheckboxElement.indeterminate = false;\n\t\t\t} else {\n\t\t\t\tthis.headerCheckboxElement.indeterminate = true;\n\t\t\t\tthis.headerCheckboxElement.checked = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(!silent){\n\t\t\tthis.dispatchExternal(\"rowSelectionChanged\", this.getSelectedData(), this.getSelectedRows());\n\t\t}\n\t}\n\t\n\tregisterRowSelectCheckbox (row, element) {\n\t\tif(!row._row.modules.select){\n\t\t\trow._row.modules.select = {};\n\t\t}\n\t\t\n\t\trow._row.modules.select.checkboxEl = element;\n\t}\n\t\n\tregisterHeaderSelectCheckbox (element) {\n\t\tthis.headerCheckboxElement = element;\n\t}\n\t\n\tchildRowSelection(row, select){\n\t\tvar children = this.table.modules.dataTree.getChildren(row, true);\n\t\t\n\t\tif(select){\n\t\t\tfor(let child of children){\n\t\t\t\tthis._selectRow(child, true);\n\t\t\t}\n\t\t}else{\n\t\t\tfor(let child of children){\n\t\t\t\tthis._deselectRow(child, true);\n\t\t\t}\n\t\t}\n\t}\n}\n\nSelectRow.moduleName = \"selectRow\";\n\nexport default SelectRow;","//sort datetime\nexport default function(a, b, aRow, bRow, column, dir, params){\n\tvar DT = window.DateTime || luxon.DateTime;\n\tvar format = params.format || \"dd/MM/yyyy HH:mm:ss\",\n\talignEmptyValues = params.alignEmptyValues,\n\temptyAlign = 0;\n\n\tif(typeof DT != \"undefined\"){\n\t\tif(!DT.isDateTime(a)){\n\t\t\tif(format === \"iso\"){\n\t\t\t\ta = DT.fromISO(String(a));\n\t\t\t}else{\n\t\t\t\ta = DT.fromFormat(String(a), format);\n\t\t\t}\n\t\t}\n\n\t\tif(!DT.isDateTime(b)){\n\t\t\tif(format === \"iso\"){\n\t\t\t\tb = DT.fromISO(String(b));\n\t\t\t}else{\n\t\t\t\tb = DT.fromFormat(String(b), format);\n\t\t\t}\n\t\t}\n\n\t\tif(!a.isValid){\n\t\t\temptyAlign = !b.isValid ? 0 : -1;\n\t\t}else if(!b.isValid){\n\t\t\temptyAlign =  1;\n\t\t}else{\n\t\t\t//compare valid values\n\t\t\treturn a - b;\n\t\t}\n\n\t\t//fix empty values in position\n\t\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\t\temptyAlign *= -1;\n\t\t}\n\n\t\treturn emptyAlign;\n\n\t}else{\n\t\tconsole.error(\"Sort Error - 'datetime' sorter is dependant on luxon.js\");\n\t}\n}","import number from './sorters/number.js';\nimport string from './sorters/string.js';\nimport date from './sorters/date.js';\nimport time from './sorters/time.js';\nimport datetime from './sorters/datetime.js';\nimport boolean from './sorters/boolean.js';\nimport array from './sorters/array.js';\nimport exists from './sorters/exists.js';\nimport alphanum from './sorters/alphanum.js';\n\nexport default {\n\tnumber:number,\n\tstring:string,\n\tdate:date,\n\ttime:time,\n\tdatetime:datetime,\n\tboolean:boolean,\n\tarray:array,\n\texists:exists,\n\talphanum:alphanum\n};","//sort numbers\nexport default function(a, b, aRow, bRow, column, dir, params){\n\tvar alignEmptyValues = params.alignEmptyValues;\n\tvar decimal = params.decimalSeparator;\n\tvar thousand = params.thousandSeparator;\n\tvar emptyAlign = 0;\n\n\ta = String(a);\n\tb = String(b);\n\n\tif(thousand){\n\t\ta = a.split(thousand).join(\"\");\n\t\tb = b.split(thousand).join(\"\");\n\t}\n\n\tif(decimal){\n\t\ta = a.split(decimal).join(\".\");\n\t\tb = b.split(decimal).join(\".\");\n\t}\n\n\ta = parseFloat(a);\n\tb = parseFloat(b);\n\n\t//handle non numeric values\n\tif(isNaN(a)){\n\t\temptyAlign =  isNaN(b) ? 0 : -1;\n\t}else if(isNaN(b)){\n\t\temptyAlign =  1;\n\t}else{\n\t\t//compare valid values\n\t\treturn a - b;\n\t}\n\n\t//fix empty values in position\n\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\temptyAlign *= -1;\n\t}\n\n\treturn emptyAlign;\n}","//sort strings\nexport default function(a, b, aRow, bRow, column, dir, params){\n\tvar alignEmptyValues = params.alignEmptyValues;\n\tvar emptyAlign = 0;\n\tvar locale;\n\n\t//handle empty values\n\tif(!a){\n\t\temptyAlign =  !b ? 0 : -1;\n\t}else if(!b){\n\t\temptyAlign =  1;\n\t}else{\n\t\t//compare valid values\n\t\tswitch(typeof params.locale){\n\t\t\tcase \"boolean\":\n\t\t\t\tif(params.locale){\n\t\t\t\t\tlocale = this.langLocale();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"string\":\n\t\t\t\tlocale = params.locale;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn String(a).toLowerCase().localeCompare(String(b).toLowerCase(), locale);\n\t}\n\n\t//fix empty values in position\n\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\temptyAlign *= -1;\n\t}\n\n\treturn emptyAlign;\n}","import datetime from './datetime.js';\n\n//sort date\nexport default function(a, b, aRow, bRow, column, dir, params){\n\tif(!params.format){\n\t\tparams.format = \"dd/MM/yyyy\";\n\t}\n\n\treturn datetime.call(this, a, b, aRow, bRow, column, dir, params);\n}","import datetime from './datetime.js';\n\n//sort times\nexport default function(a, b, aRow, bRow, column, dir, params){\n\tif(!params.format){\n\t\tparams.format = \"HH:mm\";\n\t}\n\n\treturn datetime.call(this, a, b, aRow, bRow, column, dir, params);\n}","//sort booleans\nexport default function(a, b, aRow, bRow, column, dir, params){\n\tvar el1 = a === true || a === \"true\" || a === \"True\" || a === 1 ? 1 : 0;\n\tvar el2 = b === true || b === \"true\" || b === \"True\" || b === 1 ? 1 : 0;\n\n\treturn el1 - el2;\n}","//sort if element contains any data\nexport default function(a, b, aRow, bRow, column, dir, params){\n\tvar type = params.type || \"length\",\n\talignEmptyValues = params.alignEmptyValues,\n\temptyAlign = 0;\n\n\tfunction calc(value){\n\t\tvar result;\n\n\t\tswitch(type){\n\t\t\tcase \"length\":\n\t\t\t\tresult = value.length;\n\t\t\t\tbreak;\n\n\t\t\tcase \"sum\":\n\t\t\t\tresult = value.reduce(function(c, d){\n\t\t\t\t\treturn c + d;\n\t\t\t\t});\n\t\t\t\tbreak;\n\n\t\t\tcase \"max\":\n\t\t\t\tresult = Math.max.apply(null, value) ;\n\t\t\t\tbreak;\n\n\t\t\tcase \"min\":\n\t\t\t\tresult = Math.min.apply(null, value) ;\n\t\t\t\tbreak;\n\n\t\t\tcase \"avg\":\n\t\t\t\tresult = value.reduce(function(c, d){\n\t\t\t\t\treturn c + d;\n\t\t\t\t}) / value.length;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t//handle non array values\n\tif(!Array.isArray(a)){\n\t\temptyAlign = !Array.isArray(b) ? 0 : -1;\n\t}else if(!Array.isArray(b)){\n\t\temptyAlign = 1;\n\t}else{\n\t\treturn calc(b) - calc(a);\n\t}\n\n\t//fix empty values in position\n\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\temptyAlign *= -1;\n\t}\n\n\treturn emptyAlign;\n}","//sort if element contains any data\nexport default function(a, b, aRow, bRow, column, dir, params){\n\tvar el1 = typeof a == \"undefined\" ? 0 : 1;\n\tvar el2 = typeof b == \"undefined\" ? 0 : 1;\n\n\treturn el1 - el2;\n}","//sort alpha numeric strings\nexport default function(as, bs, aRow, bRow, column, dir, params){\n\tvar a, b, a1, b1, i= 0, L, rx = /(\\d+)|(\\D+)/g, rd = /\\d/;\n\tvar alignEmptyValues = params.alignEmptyValues;\n\tvar emptyAlign = 0;\n\n\t//handle empty values\n\tif(!as && as!== 0){\n\t\temptyAlign =  !bs && bs!== 0 ? 0 : -1;\n\t}else if(!bs && bs!== 0){\n\t\temptyAlign =  1;\n\t}else{\n\n\t\tif(isFinite(as) && isFinite(bs)) return as - bs;\n\t\ta = String(as).toLowerCase();\n\t\tb = String(bs).toLowerCase();\n\t\tif(a === b) return 0;\n\t\tif(!(rd.test(a) && rd.test(b))) return a > b ? 1 : -1;\n\t\ta = a.match(rx);\n\t\tb = b.match(rx);\n\t\tL = a.length > b.length ? b.length : a.length;\n\t\twhile(i < L){\n\t\t\ta1= a[i];\n\t\t\tb1= b[i++];\n\t\t\tif(a1 !== b1){\n\t\t\t\tif(isFinite(a1) && isFinite(b1)){\n\t\t\t\t\tif(a1.charAt(0) === \"0\") a1 = \".\" + a1;\n\t\t\t\t\tif(b1.charAt(0) === \"0\") b1 = \".\" + b1;\n\t\t\t\t\treturn a1 - b1;\n\t\t\t\t}\n\t\t\t\telse return a1 > b1 ? 1 : -1;\n\t\t\t}\n\t\t}\n\n\t\treturn a.length > b.length;\n\t}\n\n\t//fix empty values in position\n\tif((alignEmptyValues === \"top\" && dir === \"desc\") || (alignEmptyValues === \"bottom\" && dir === \"asc\")){\n\t\temptyAlign *= -1;\n\t}\n\n\treturn emptyAlign;\n}","import Module from '../../core/Module.js';\n\nimport defaultSorters from './defaults/sorters.js';\n\nclass Sort extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.sortList = []; //holder current sort\n\t\tthis.changed = false; //has the sort changed since last render\n\n\t\tthis.registerTableOption(\"sortMode\", \"local\"); //local or remote sorting\n\n\t\tthis.registerTableOption(\"initialSort\", false); //initial sorting criteria\n\t\tthis.registerTableOption(\"columnHeaderSortMulti\", true); //multiple or single column sorting\n\t\tthis.registerTableOption(\"sortOrderReverse\", false); //reverse internal sort ordering\n\t\tthis.registerTableOption(\"headerSortElement\", \"<div class='tabulator-arrow'></div>\"); //header sort element\n\t\tthis.registerTableOption(\"headerSortClickElement\", \"header\"); //element which triggers sort when clicked\n\n\t\tthis.registerColumnOption(\"sorter\");\n\t\tthis.registerColumnOption(\"sorterParams\");\n\n\t\tthis.registerColumnOption(\"headerSort\", true);\n\t\tthis.registerColumnOption(\"headerSortStartingDir\");\n\t\tthis.registerColumnOption(\"headerSortTristate\");\n\n\t}\n\n\tinitialize(){\n\t\tthis.subscribe(\"column-layout\", this.initializeColumn.bind(this));\n\t\tthis.subscribe(\"table-built\", this.tableBuilt.bind(this));\n\t\tthis.registerDataHandler(this.sort.bind(this), 20);\n\n\t\tthis.registerTableFunction(\"setSort\", this.userSetSort.bind(this));\n\t\tthis.registerTableFunction(\"getSorters\", this.getSort.bind(this));\n\t\tthis.registerTableFunction(\"clearSort\", this.clearSort.bind(this));\n\n\t\tif(this.table.options.sortMode === \"remote\"){\n\t\t\tthis.subscribe(\"data-params\", this.remoteSortParams.bind(this));\n\t\t}\n\t}\n\n\ttableBuilt(){\n\t\tif(this.table.options.initialSort){\n\t\t\tthis.setSort(this.table.options.initialSort);\n\t\t}\n\t}\n\n\tremoteSortParams(data, config, silent, params){\n\t\tvar sorters = this.getSort();\n\n\t\tsorters.forEach((item) => {\n\t\t\tdelete item.column;\n\t\t});\n\n\t\tparams.sort = sorters;\n\n\t\treturn params;\n\t}\n\n\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\n\tuserSetSort(sortList, dir){\n\t\tthis.setSort(sortList, dir);\n\t\t// this.table.rowManager.sorterRefresh();\n\t\tthis.refreshSort();\n\t}\n\n\tclearSort(){\n\t\tthis.clear();\n\t\t// this.table.rowManager.sorterRefresh();\n\t\tthis.refreshSort();\n\t}\n\n\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\n\t//initialize column header for sorting\n\tinitializeColumn(column){\n\t\tvar sorter = false,\n\t\tcolEl,\n\t\tarrowEl;\n\n\t\tswitch(typeof column.definition.sorter){\n\t\t\tcase \"string\":\n\t\t\t\tif(Sort.sorters[column.definition.sorter]){\n\t\t\t\t\tsorter = Sort.sorters[column.definition.sorter];\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Sort Error - No such sorter found: \", column.definition.sorter);\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase \"function\":\n\t\t\t\tsorter = column.definition.sorter;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tcolumn.modules.sort = {\n\t\t\tsorter:sorter, dir:\"none\",\n\t\t\tparams:column.definition.sorterParams || {},\n\t\t\tstartingDir:column.definition.headerSortStartingDir || \"asc\",\n\t\t\ttristate: column.definition.headerSortTristate,\n\t\t};\n\n\t\tif(column.definition.headerSort !== false){\n\n\t\t\tcolEl = column.getElement();\n\n\t\t\tcolEl.classList.add(\"tabulator-sortable\");\n\n\t\t\tarrowEl = document.createElement(\"div\");\n\t\t\tarrowEl.classList.add(\"tabulator-col-sorter\");\n\n\t\t\tswitch(this.table.options.headerSortClickElement){\n\t\t\t\tcase \"icon\":\n\t\t\t\t\tarrowEl.classList.add(\"tabulator-col-sorter-element\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"header\":\n\t\t\t\t\tcolEl.classList.add(\"tabulator-col-sorter-element\");\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tcolEl.classList.add(\"tabulator-col-sorter-element\");\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tswitch(this.table.options.headerSortElement){\n\t\t\t\tcase \"function\":\n\t\t\t\t\t//do nothing\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"object\":\n\t\t\t\t\tarrowEl.appendChild(this.table.options.headerSortElement);\n\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\tdefault:\n\t\t\t\t\tarrowEl.innerHTML = this.table.options.headerSortElement;\n\t\t\t}\n\n\t\t\t//create sorter arrow\n\t\t\tcolumn.titleHolderElement.appendChild(arrowEl);\n\n\t\t\tcolumn.modules.sort.element = arrowEl;\n\n\t\t\tthis.setColumnHeaderSortIcon(column, \"none\");\n\n\t\t\t//sort on click\n\t\t\t(this.table.options.headerSortClickElement === \"icon\" ? arrowEl : colEl).addEventListener(\"click\", (e) => {\n\t\t\t\tvar dir = \"\",\n\t\t\t\tsorters=[],\n\t\t\t\tmatch = false;\n\n\t\t\t\tif(column.modules.sort){\n\t\t\t\t\tif(column.modules.sort.tristate){\n\t\t\t\t\t\tif(column.modules.sort.dir == \"none\"){\n\t\t\t\t\t\t\tdir = column.modules.sort.startingDir;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(column.modules.sort.dir == column.modules.sort.startingDir){\n\t\t\t\t\t\t\t\tdir = column.modules.sort.dir == \"asc\" ? \"desc\" : \"asc\";\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tdir = \"none\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tswitch(column.modules.sort.dir){\n\t\t\t\t\t\t\tcase \"asc\":\n\t\t\t\t\t\t\t\tdir = \"desc\";\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase \"desc\":\n\t\t\t\t\t\t\t\tdir = \"asc\";\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tdir = column.modules.sort.startingDir;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.table.options.columnHeaderSortMulti && (e.shiftKey || e.ctrlKey)) {\n\t\t\t\t\t\tsorters = this.getSort();\n\n\t\t\t\t\t\tmatch = sorters.findIndex((sorter) => {\n\t\t\t\t\t\t\treturn sorter.field === column.getField();\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif(match > -1){\n\t\t\t\t\t\t\tsorters[match].dir = dir;\n\n\t\t\t\t\t\t\tmatch = sorters.splice(match, 1)[0];\n\t\t\t\t\t\t\tif(dir != \"none\"){\n\t\t\t\t\t\t\t\tsorters.push(match);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(dir != \"none\"){\n\t\t\t\t\t\t\t\tsorters.push({column:column, dir:dir});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//add to existing sort\n\t\t\t\t\t\tthis.setSort(sorters);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(dir == \"none\"){\n\t\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t//sort by column only\n\t\t\t\t\t\t\tthis.setSort(column, dir);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// this.table.rowManager.sorterRefresh(!this.sortList.length);\n\t\t\t\t\tthis.refreshSort();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\trefreshSort(){\n\t\tif(this.table.options.sortMode === \"remote\"){\n\t\t\tthis.reloadData(null, false, false);\n\t\t}else{\n\t\t\tthis.refreshData(true);\n\t\t}\n\n\t\t//TODO - Persist left position of row manager\n\t\t// left = this.scrollLeft;\n\t\t// this.scrollHorizontal(left);\n\t}\n\n\t//check if the sorters have changed since last use\n\thasChanged(){\n\t\tvar changed = this.changed;\n\t\tthis.changed = false;\n\t\treturn changed;\n\t}\n\n\t//return current sorters\n\tgetSort(){\n\t\tvar self = this,\n\t\tsorters = [];\n\n\t\tself.sortList.forEach(function(item){\n\t\t\tif(item.column){\n\t\t\t\tsorters.push({column:item.column.getComponent(), field:item.column.getField(), dir:item.dir});\n\t\t\t}\n\t\t});\n\n\t\treturn sorters;\n\t}\n\n\t//change sort list and trigger sort\n\tsetSort(sortList, dir){\n\t\tvar self = this,\n\t\tnewSortList = [];\n\n\t\tif(!Array.isArray(sortList)){\n\t\t\tsortList = [{column: sortList, dir:dir}];\n\t\t}\n\n\t\tsortList.forEach(function(item){\n\t\t\tvar column;\n\n\t\t\tcolumn = self.table.columnManager.findColumn(item.column);\n\n\t\t\tif(column){\n\t\t\t\titem.column = column;\n\t\t\t\tnewSortList.push(item);\n\t\t\t\tself.changed = true;\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Sort Warning - Sort field does not exist and is being ignored: \", item.column);\n\t\t\t}\n\n\t\t});\n\n\t\tself.sortList = newSortList;\n\n\t\tthis.dispatch(\"sort-changed\");\n\t}\n\n\t//clear sorters\n\tclear(){\n\t\tthis.setSort([]);\n\t}\n\n\t//find appropriate sorter for column\n\tfindSorter(column){\n\t\tvar row = this.table.rowManager.activeRows[0],\n\t\tsorter = \"string\",\n\t\tfield, value;\n\n\t\tif(row){\n\t\t\trow = row.getData();\n\t\t\tfield = column.getField();\n\n\t\t\tif(field){\n\n\t\t\t\tvalue = column.getFieldValue(row);\n\n\t\t\t\tswitch(typeof value){\n\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\tsorter = \"string\";\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"boolean\":\n\t\t\t\t\t\tsorter = \"boolean\";\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif(!isNaN(value) && value !== \"\"){\n\t\t\t\t\t\t\tsorter = \"number\";\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(value.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)){\n\t\t\t\t\t\t\t\tsorter = \"alphanum\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn Sort.sorters[sorter];\n\t}\n\n\t//work through sort list sorting data\n\tsort(data){\n\t\tvar self = this,\n\t\tsortList = this.table.options.sortOrderReverse ? self.sortList.slice().reverse() : self.sortList,\n\t\tsortListActual = [],\n\t\trowComponents = [];\n\n\t\tif(this.subscribedExternal(\"dataSorting\")){\n\t\t\tthis.dispatchExternal(\"dataSorting\", self.getSort());\n\t\t}\n\n\t\tself.clearColumnHeaders();\n\n\t\tif(this.table.options.sortMode !== \"remote\"){\n\n\t\t\t//build list of valid sorters and trigger column specific callbacks before sort begins\n\t\t\tsortList.forEach(function(item, i){\n\t\t\t\tvar sortObj;\n\n\t\t\t\tif(item.column){\n\t\t\t\t\tsortObj = item.column.modules.sort;\n\n\t\t\t\t\tif(sortObj){\n\n\t\t\t\t\t\t//if no sorter has been defined, take a guess\n\t\t\t\t\t\tif(!sortObj.sorter){\n\t\t\t\t\t\t\tsortObj.sorter = self.findSorter(item.column);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\titem.params = typeof sortObj.params === \"function\" ? sortObj.params(item.column.getComponent(), item.dir) : sortObj.params;\n\n\t\t\t\t\t\tsortListActual.push(item);\n\t\t\t\t\t}\n\n\t\t\t\t\tself.setColumnHeader(item.column, item.dir);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t//sort data\n\t\t\tif (sortListActual.length) {\n\t\t\t\tself._sortItems(data, sortListActual);\n\t\t\t}\n\n\t\t}else{\n\t\t\tsortList.forEach(function(item, i){\n\t\t\t\tself.setColumnHeader(item.column, item.dir);\n\t\t\t});\n\t\t}\n\n\t\tif(this.subscribedExternal(\"dataSorted\")){\n\t\t\tdata.forEach((row) => {\n\t\t\t\trowComponents.push(row.getComponent());\n\t\t\t});\n\n\t\t\tthis.dispatchExternal(\"dataSorted\", self.getSort(), rowComponents);\n\t\t}\n\n\t\treturn data;\n\t}\n\n\t//clear sort arrows on columns\n\tclearColumnHeaders(){\n\t\tthis.table.columnManager.getRealColumns().forEach((column) => {\n\t\t\tif(column.modules.sort){\n\t\t\t\tcolumn.modules.sort.dir = \"none\";\n\t\t\t\tcolumn.getElement().setAttribute(\"aria-sort\", \"none\");\n\t\t\t\tthis.setColumnHeaderSortIcon(column, \"none\");\n\t\t\t}\n\t\t});\n\t}\n\n\t//set the column header sort direction\n\tsetColumnHeader(column, dir){\n\t\tcolumn.modules.sort.dir = dir;\n\t\tcolumn.getElement().setAttribute(\"aria-sort\", dir === \"asc\" ? \"ascending\" : \"descending\");\n\t\tthis.setColumnHeaderSortIcon(column, dir);\n\t}\n\n\tsetColumnHeaderSortIcon(column, dir){\n\t\tvar sortEl = column.modules.sort.element,\n\t\tarrowEl;\n\n\t\tif(column.definition.headerSort && typeof this.table.options.headerSortElement === \"function\"){\n\t\t\twhile(sortEl.firstChild) sortEl.removeChild(sortEl.firstChild);\n\n\t\t\tarrowEl = this.table.options.headerSortElement.call(this.table, column.getComponent(), dir);\n\t\t\t\n\t\t\tif(typeof arrowEl === \"object\"){\n\t\t\t\tsortEl.appendChild(arrowEl);\n\t\t\t}else{\n\t\t\t\tsortEl.innerHTML = arrowEl;\n\t\t\t}\n\t\t}\n\t}\n\n\t//sort each item in sort list\n\t_sortItems(data, sortList){\n\t\tvar sorterCount = sortList.length - 1;\n\n\t\tdata.sort((a, b) => {\n\t\t\tvar result;\n\n\t\t\tfor(var i = sorterCount; i>= 0; i--){\n\t\t\t\tlet sortItem = sortList[i];\n\n\t\t\t\tresult = this._sortRow(a, b, sortItem.column, sortItem.dir, sortItem.params);\n\n\t\t\t\tif(result !== 0){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t});\n\t}\n\n\t//process individual rows for a sort function on active data\n\t_sortRow(a, b, column, dir, params){\n\t\tvar el1Comp, el2Comp;\n\n\t\t//switch elements depending on search direction\n\t\tvar el1 = dir == \"asc\" ? a : b;\n\t\tvar el2 = dir == \"asc\" ? b : a;\n\n\t\ta = column.getFieldValue(el1.getData());\n\t\tb = column.getFieldValue(el2.getData());\n\n\t\ta = typeof a !== \"undefined\" ? a : \"\";\n\t\tb = typeof b !== \"undefined\" ? b : \"\";\n\n\t\tel1Comp = el1.getComponent();\n\t\tel2Comp = el2.getComponent();\n\n\t\treturn column.modules.sort.sorter.call(this, a, b, el1Comp, el2Comp, column.getComponent(), dir, params);\n\t}\n}\n\nSort.moduleName = \"sort\";\n\n//load defaults\nSort.sorters = defaultSorters;\n\nexport default Sort;","import Module from '../../core/Module.js';\nimport Cell from '../../core/cell/Cell.js';\n\nclass Tooltip extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.tooltipSubscriber = null,\n\t\tthis.headerSubscriber = null,\n\t\t\n\t\tthis.timeout = null;\n\t\tthis.popupInstance = null;\n\t\t\n\t\tthis.registerTableOption(\"tooltipGenerationMode\", undefined);  //deprecated\n\t\tthis.registerTableOption(\"tooltipDelay\", 300); \n\t\t\n\t\tthis.registerColumnOption(\"tooltip\");\n\t\tthis.registerColumnOption(\"headerTooltip\");\n\t}\n\t\n\tinitialize(){\n\t\tthis.deprecatedOptionsCheck();\n\t\t\n\t\tthis.subscribe(\"column-init\", this.initializeColumn.bind(this));\n\t}\n\t\n\tdeprecatedOptionsCheck(){\n\t\tthis.deprecationCheckMsg(\"tooltipGenerationMode\", \"This option is no longer needed as tooltips are always generated on hover now\");\n\t}\t\n\t\n\tinitializeColumn(column){\n\t\tif(column.definition.headerTooltip && !this.headerSubscriber){\n\t\t\tthis.headerSubscriber = true;\n\t\t\t\n\t\t\tthis.subscribe(\"column-mousemove\", this.mousemoveCheck.bind(this, \"headerTooltip\"));\n\t\t\tthis.subscribe(\"column-mouseout\", this.mouseoutCheck.bind(this, \"headerTooltip\"));\n\t\t}\n\t\t\n\t\tif(column.definition.tooltip && !this.tooltipSubscriber){\n\t\t\tthis.tooltipSubscriber = true;\n\t\t\t\n\t\t\tthis.subscribe(\"cell-mousemove\", this.mousemoveCheck.bind(this, \"tooltip\"));\n\t\t\tthis.subscribe(\"cell-mouseout\", this.mouseoutCheck.bind(this, \"tooltip\"));\n\t\t}\n\t}\n\t\n\tmousemoveCheck(action, e, component){\n\t\tvar tooltip = action === \"tooltip\" ? component.column.definition.tooltip : component.definition.headerTooltip;\n\t\t\n\t\tif(tooltip){\n\t\t\tthis.clearPopup();\n\t\t\tthis.timeout = setTimeout(this.loadTooltip.bind(this, e, component, tooltip), this.table.options.tooltipDelay);\n\t\t}\n\t}\n\n\tmouseoutCheck(action, e, component){\n\t\tif(!this.popupInstance){\n\t\t\tthis.clearPopup();\n\t\t}\n\t}\n\t\n\tclearPopup(action, e, component){\n\t\tclearTimeout(this.timeout);\n\t\tthis.timeout = null;\n\t\t\n\t\tif(this.popupInstance){\n\t\t\tthis.popupInstance.hide();\n\t\t}\n\t}\n\t\n\tloadTooltip(e, component, tooltip){\n\t\tvar contentsEl, renderedCallback, coords;\n\n\t\tfunction onRendered(callback){\n\t\t\trenderedCallback = callback;\n\t\t}\n\t\t\n\t\tif(typeof tooltip === \"function\"){\n\t\t\ttooltip = tooltip(e, component.getComponent(), onRendered);\n\t\t}\n\t\t\n\t\tif(tooltip instanceof HTMLElement){\n\t\t\tcontentsEl = tooltip;\n\t\t}else{\n\t\t\tcontentsEl = document.createElement(\"div\");\n\t\t\t\n\t\t\tif(tooltip === true){\n\t\t\t\tif(component instanceof Cell){\n\t\t\t\t\ttooltip = component.value;\n\t\t\t\t}else{\n\t\t\t\t\tif(component.definition.field){\n\t\t\t\t\t\tthis.langBind(\"columns|\" + component.definition.field, (value) => {\n\t\t\t\t\t\t\tcontentsEl.innerHTML = tooltip = value || component.definition.title;\n\t\t\t\t\t\t});\n\t\t\t\t\t}else{\n\t\t\t\t\t\ttooltip = component.definition.title;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tcontentsEl.innerHTML = tooltip;\n\t\t}\n\t\t\n\t\tif(tooltip || tooltip === 0 || tooltip === false){\n\t\t\tcontentsEl.classList.add(\"tabulator-tooltip\");\n\n\t\t\tcontentsEl.addEventListener(\"mousemove\", e => e.preventDefault());\n\t\t\t\n\t\t\tthis.popupInstance = this.popup(contentsEl);\n\t\t\t\n\t\t\tif(typeof renderedCallback === \"function\"){\n\t\t\t\tthis.popupInstance.renderCallback(renderedCallback);\n\t\t\t}\n\n\t\t\tcoords = this.popupInstance.containerEventCoords(e);\n\t\t\t\n\t\t\tthis.popupInstance.show(coords.x + 15, coords.y + 15).hideOnBlur(() => {\n\t\t\t\tthis.dispatchExternal(\"TooltipClosed\", component.getComponent());\n\t\t\t\tthis.popupInstance = null;\n\t\t\t});\n\t\t\t\n\t\t\tthis.dispatchExternal(\"TooltipOpened\", component.getComponent());\n\t\t}\n\t}\n}\n\nTooltip.moduleName = \"tooltip\";\n\nexport default Tooltip;\n","export default {\n\t//is integer\n\tinteger: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\n\t\tvalue = Number(value);\n\n\t\treturn !isNaN(value) && isFinite(value) && Math.floor(value) === value;\n\t},\n\n\t//is float\n\tfloat: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\tvalue = Number(value);\n\n\t\treturn !isNaN(value) && isFinite(value) && value % 1 !== 0;\n\t},\n\n\t//must be a number\n\tnumeric: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn !isNaN(value);\n\t},\n\n\t//must be a string\n\tstring: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn isNaN(value);\n\t},\n\n\t//maximum value\n\tmax: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn parseFloat(value) <= parameters;\n\t},\n\n\t//minimum value\n\tmin: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn parseFloat(value) >= parameters;\n\t},\n\n\t//starts with  value\n\tstarts: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn String(value).toLowerCase().startsWith(String(parameters).toLowerCase());\n\t},\n\n\t//ends with  value\n\tends: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn String(value).toLowerCase().endsWith(String(parameters).toLowerCase());\n\t},\n\n\n\t//minimum string length\n\tminLength: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn String(value).length >= parameters;\n\t},\n\n\t//maximum string length\n\tmaxLength: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\treturn String(value).length <= parameters;\n\t},\n\n\t//in provided value list\n\tin: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\n\t\tif(typeof parameters == \"string\"){\n\t\t\tparameters = parameters.split(\"|\");\n\t\t}\n\n\t\treturn parameters.indexOf(value) > -1;\n\t},\n\n\t//must match provided regex\n\tregex: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\tvar reg = new RegExp(parameters);\n\n\t\treturn reg.test(value);\n\t},\n\n\t//value must be unique in this column\n\tunique: function(cell, value, parameters){\n\t\tif(value === \"\" || value === null || typeof value === \"undefined\"){\n\t\t\treturn true;\n\t\t}\n\t\tvar unique = true;\n\n\t\tvar cellData = cell.getData();\n\t\tvar column = cell.getColumn()._getSelf();\n\n\t\tthis.table.rowManager.rows.forEach(function(row){\n\t\t\tvar data = row.getData();\n\n\t\t\tif(data !== cellData){\n\t\t\t\tif(value == column.getFieldValue(data)){\n\t\t\t\t\tunique = false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn unique;\n\t},\n\n\t//must have a value\n\trequired:function(cell, value, parameters){\n\t\treturn value !== \"\" && value !== null && typeof value !== \"undefined\";\n\t},\n};","import Module from '../../core/Module.js';\n\nimport defaultValidators from './defaults/validators.js';\n\nclass Validate extends Module{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.invalidCells = [];\n\t\t\n\t\tthis.registerTableOption(\"validationMode\", \"blocking\");\n\t\t\n\t\tthis.registerColumnOption(\"validator\");\n\t\t\n\t\tthis.registerTableFunction(\"getInvalidCells\", this.getInvalidCells.bind(this));\n\t\tthis.registerTableFunction(\"clearCellValidation\", this.userClearCellValidation.bind(this));\n\t\tthis.registerTableFunction(\"validate\", this.userValidate.bind(this));\n\t\t\n\t\tthis.registerComponentFunction(\"cell\", \"isValid\", this.cellIsValid.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"clearValidation\", this.clearValidation.bind(this));\n\t\tthis.registerComponentFunction(\"cell\", \"validate\", this.cellValidate.bind(this));\n\t\t\n\t\tthis.registerComponentFunction(\"column\", \"validate\", this.columnValidate.bind(this));\n\t\tthis.registerComponentFunction(\"row\", \"validate\", this.rowValidate.bind(this));\n\t}\n\t\n\t\n\tinitialize(){\n\t\tthis.subscribe(\"cell-delete\", this.clearValidation.bind(this));\n\t\tthis.subscribe(\"column-layout\", this.initializeColumnCheck.bind(this));\n\t\t\n\t\tthis.subscribe(\"edit-success\", this.editValidate.bind(this));\n\t\tthis.subscribe(\"edit-editor-clear\", this.editorClear.bind(this));\n\t\tthis.subscribe(\"edit-edited-clear\", this.editedClear.bind(this));\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Event Handling //////////\n\t///////////////////////////////////\n\t\n\teditValidate(cell, value, previousValue){\n\t\tvar valid = this.table.options.validationMode !== \"manual\" ? this.validate(cell.column.modules.validate, cell, value) : true;\n\t\t\n\t\t// allow time for editor to make render changes then style cell\n\t\tif(valid !== true){\n\t\t\tsetTimeout(() => {\n\t\t\t\tcell.getElement().classList.add(\"tabulator-validation-fail\");\n\t\t\t\tthis.dispatchExternal(\"validationFailed\", cell.getComponent(), value, valid);\n\t\t\t});\n\t\t}\n\t\t\n\t\treturn valid;\n\t}\n\t\n\teditorClear(cell, cancelled){\n\t\tif(cancelled){\n\t\t\tif(cell.column.modules.validate){\n\t\t\t\tthis.cellValidate(cell);\n\t\t\t}\n\t\t}\n\n\t\tcell.getElement().classList.remove(\"tabulator-validation-fail\");\n\t}\n\t\n\teditedClear(cell){\n\t\tif(cell.modules.validate){\n\t\t\tcell.modules.validate.invalid = false;\n\t\t}\n\t}\n\t\n\t///////////////////////////////////\n\t////////// Cell Functions /////////\n\t///////////////////////////////////\n\t\n\tcellIsValid(cell){\n\t\treturn cell.modules.validate ? (cell.modules.validate.invalid || true) : true;\n\t}\n\t\n\tcellValidate(cell){\n\t\treturn this.validate(cell.column.modules.validate, cell, cell.getValue());\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Column Functions ////////\n\t///////////////////////////////////\n\t\n\tcolumnValidate(column){\n\t\tvar invalid = [];\n\t\t\n\t\tcolumn.cells.forEach((cell) => {\n\t\t\tif(this.cellValidate(cell) !== true){\n\t\t\t\tinvalid.push(cell.getComponent());\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn invalid.length ? invalid : true;\n\t}\n\t\n\t///////////////////////////////////\n\t////////// Row Functions //////////\n\t///////////////////////////////////\n\t\n\trowValidate(row){\n\t\tvar invalid = [];\n\t\t\n\t\trow.cells.forEach((cell) => {\n\t\t\tif(this.cellValidate(cell) !== true){\n\t\t\t\tinvalid.push(cell.getComponent());\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn invalid.length ? invalid : true;\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Table Functions /////////\n\t///////////////////////////////////\n\t\n\t\n\tuserClearCellValidation(cells){\n\t\tif(!cells){\n\t\t\tcells = this.getInvalidCells();\n\t\t}\n\t\t\n\t\tif(!Array.isArray(cells)){\n\t\t\tcells = [cells];\n\t\t}\n\t\t\n\t\tcells.forEach((cell) => {\n\t\t\tthis.clearValidation(cell._getSelf());\n\t\t});\n\t}\n\t\n\tuserValidate(cells){\n\t\tvar output = [];\n\t\t\n\t\t//clear row data\n\t\tthis.table.rowManager.rows.forEach((row) => {\n\t\t\trow = row.getComponent();\n\t\t\t\n\t\t\tvar valid = row.validate();\n\t\t\t\n\t\t\tif(valid !== true){\n\t\t\t\toutput = output.concat(valid);\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn output.length ? output : true;\n\t}\n\t\n\t///////////////////////////////////\n\t///////// Internal Logic //////////\n\t///////////////////////////////////\n\t\n\tinitializeColumnCheck(column){\n\t\tif(typeof column.definition.validator !== \"undefined\"){\n\t\t\tthis.initializeColumn(column);\n\t\t}\n\t}\n\t\n\t//validate\n\tinitializeColumn(column){\n\t\tvar self = this,\n\t\tconfig = [],\n\t\tvalidator;\n\t\t\n\t\tif(column.definition.validator){\n\t\t\t\n\t\t\tif(Array.isArray(column.definition.validator)){\n\t\t\t\tcolumn.definition.validator.forEach((item) => {\n\t\t\t\t\tvalidator = self._extractValidator(item);\n\t\t\t\t\t\n\t\t\t\t\tif(validator){\n\t\t\t\t\t\tconfig.push(validator);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\tvalidator = this._extractValidator(column.definition.validator);\n\t\t\t\t\n\t\t\t\tif(validator){\n\t\t\t\t\tconfig.push(validator);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tcolumn.modules.validate = config.length ? config : false;\n\t\t}\n\t}\n\t\n\t_extractValidator(value){\n\t\tvar type, params, pos;\n\t\t\n\t\tswitch(typeof value){\n\t\t\tcase \"string\":\n\t\t\t\tpos = value.indexOf(':');\n\t\t\t\n\t\t\t\tif(pos > -1){\n\t\t\t\t\ttype = value.substring(0,pos);\n\t\t\t\t\tparams = value.substring(pos+1);\n\t\t\t\t}else{\n\t\t\t\t\ttype = value;\n\t\t\t\t}\n\t\t\t\n\t\t\t\treturn this._buildValidator(type, params);\n\t\t\t\n\t\t\tcase \"function\":\n\t\t\t\treturn this._buildValidator(value);\n\t\t\t\n\t\t\tcase \"object\":\n\t\t\t\treturn this._buildValidator(value.type, value.parameters);\n\t\t}\n\t}\n\t\n\t_buildValidator(type, params){\n\t\t\n\t\tvar func = typeof type == \"function\" ? type : Validate.validators[type];\n\t\t\n\t\tif(!func){\n\t\t\tconsole.warn(\"Validator Setup Error - No matching validator found:\", type);\n\t\t\treturn false;\n\t\t}else{\n\t\t\treturn {\n\t\t\t\ttype:typeof type == \"function\" ? \"function\" : type,\n\t\t\t\tfunc:func,\n\t\t\t\tparams:params,\n\t\t\t};\n\t\t}\n\t}\n\t\n\tvalidate(validators, cell, value){\n\t\tvar self = this,\n\t\tfailedValidators = [],\n\t\tinvalidIndex = this.invalidCells.indexOf(cell);\n\t\t\n\t\tif(validators){\n\t\t\tvalidators.forEach((item) => {\n\t\t\t\tif(!item.func.call(self, cell.getComponent(), value, item.params)){\n\t\t\t\t\tfailedValidators.push({\n\t\t\t\t\t\ttype:item.type,\n\t\t\t\t\t\tparameters:item.params\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t\n\t\tif(!cell.modules.validate){\n\t\t\tcell.modules.validate = {};\n\t\t}\n\t\t\n\t\tif(!failedValidators.length){\n\t\t\tcell.modules.validate.invalid = false;\n\t\t\tcell.getElement().classList.remove(\"tabulator-validation-fail\");\n\t\t\t\n\t\t\tif(invalidIndex > -1){\n\t\t\t\tthis.invalidCells.splice(invalidIndex, 1);\n\t\t\t}\n\t\t}else{\n\t\t\tcell.modules.validate.invalid = failedValidators;\n\t\t\t\n\t\t\tif(this.table.options.validationMode !== \"manual\"){\n\t\t\t\tcell.getElement().classList.add(\"tabulator-validation-fail\");\n\t\t\t}\n\t\t\t\n\t\t\tif(invalidIndex == -1){\n\t\t\t\tthis.invalidCells.push(cell);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn failedValidators.length ? failedValidators : true;\n\t}\n\t\n\tgetInvalidCells(){\n\t\tvar output = [];\n\t\t\n\t\tthis.invalidCells.forEach((cell) => {\n\t\t\toutput.push(cell.getComponent());\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tclearValidation(cell){\n\t\tvar invalidIndex;\n\t\t\n\t\tif(cell.modules.validate && cell.modules.validate.invalid){\n\t\t\t\n\t\t\tcell.getElement().classList.remove(\"tabulator-validation-fail\");\n\t\t\tcell.modules.validate.invalid = false;\n\t\t\t\n\t\t\tinvalidIndex = this.invalidCells.indexOf(cell);\n\t\t\t\n\t\t\tif(invalidIndex > -1){\n\t\t\t\tthis.invalidCells.splice(invalidIndex, 1);\n\t\t\t}\n\t\t}\n\t}\n}\n\nValidate.moduleName = \"validate\";\n\n//load defaults\nValidate.validators = defaultValidators;\n\nexport default Validate;\n","export default class OptionsList {\n\tconstructor(table, msgType, defaults = {}){\n\t\tthis.table = table;\n\t\tthis.msgType = msgType;\n\t\tthis.registeredDefaults = Object.assign({}, defaults);\n\t}\n\t\n\tregister(option, value){\n\t\tthis.registeredDefaults[option] = value;\n\t}\n\t\n\tgenerate(defaultOptions, userOptions = {}){\n\t\tvar output = Object.assign({}, this.registeredDefaults),\n\t\twarn = this.table.options.debugInvalidOptions || userOptions.debugInvalidOptions === true;\n\t\t\n\t\tObject.assign(output, defaultOptions);\n\t\t\n\t\tfor (let key in userOptions){\n\t\t\tif(!output.hasOwnProperty(key)){\n\t\t\t\tif(warn){\n\t\t\t\t\tconsole.warn(\"Invalid \" + this.msgType + \" option:\", key);\n\t\t\t\t}\n\n\t\t\t\toutput[key] = userOptions.key;\n\t\t\t}\n\t\t}\n\t\n\t\t\n\t\tfor (let key in output){\n\t\t\tif(key in userOptions){\n\t\t\t\toutput[key] = userOptions[key];\n\t\t\t}else{\n\t\t\t\tif(Array.isArray(output[key])){\n\t\t\t\t\toutput[key] = Object.assign([], output[key]);\n\t\t\t\t}else if(typeof output[key] === \"object\" && output[key] !== null){\n\t\t\t\t\toutput[key] = Object.assign({}, output[key]);\n\t\t\t\t}else if (typeof output[key] === \"undefined\"){\n\t\t\t\t\tdelete output[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn output;\n\t}\n}","import CoreFeature from '../CoreFeature.js';\nimport Helpers from '../tools/Helpers.js';\n\nexport default class Renderer extends CoreFeature{\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.elementVertical = table.rowManager.element;\n\t\tthis.elementHorizontal = table.columnManager.element;\n\t\tthis.tableElement =  table.rowManager.tableElement;\n\n\t\tthis.verticalFillMode = \"fit\"; // used by row manager to determine how to size the render area (\"fit\" - fits container to the contents, \"fill\" - fills the container without resizing it)\n\t}\n\n\n\t///////////////////////////////////\n\t/////// Internal Bindings /////////\n\t///////////////////////////////////\n\n\tinitialize(){\n\t\t//initialize core functionality\n\t}\n\n\tclearRows(){\n\t\t//clear down existing rows layout\n\t}\n\n\tclearColumns(){\n\t\t//clear down existing columns layout\n\t}\n\n\n\treinitializeColumnWidths(columns){\n\t\t//resize columns to fit data\n\t}\n\n\n\trenderRows(){\n\t\t//render rows from a clean slate\n\t}\n\n\trenderColumns(){\n\t\t//render columns from a clean slate\n\t}\n\n\trerenderRows(callback){\n\t\t// rerender rows and keep position\n\t\tif(callback){\n\t\t\tcallback();\n\t\t}\n\t}\n\n\trerenderColumns(update, blockRedraw){\n\t\t//rerender columns\n\t}\n\n\trenderRowCells(row){\n\t\t//render the cells in a row\n\t}\n\n\trerenderRowCells(row, force){\n\t\t//rerender the cells in a row\n\t}\n\n\tscrollColumns(left, dir){\n\t\t//handle horizontal scrolling\n\t}\n\n\tscrollRows(top, dir){\n\t\t//handle vertical scrolling\n\t}\n\n\tresize(){\n\t\t//container has resized, carry out any needed recalculations (DO NOT RERENDER IN THIS FUNCTION)\n\t}\n\n\tscrollToRow(row){\n\t\t//scroll to a specific row\n\t}\n\n\tscrollToRowNearestTop(row){\n\t\t//determine weather the row is nearest the top or bottom of the table, return true for top or false for bottom\n\t}\n\n\tvisibleRows(includingBuffer){\n\t\t//return the visible rows\n\t\treturn [];\n\t}\n\n\t///////////////////////////////////\n\t//////// Helper Functions /////////\n\t///////////////////////////////////\n\n\trows(){\n\t\treturn this.table.rowManager.getDisplayRows();\n\t}\n\n\tstyleRow(row, index){\n\t\tvar rowEl = row.getElement();\n\n\t\tif(index % 2){\n\t\t\trowEl.classList.add(\"tabulator-row-even\");\n\t\t\trowEl.classList.remove(\"tabulator-row-odd\");\n\t\t}else{\n\t\t\trowEl.classList.add(\"tabulator-row-odd\");\n\t\t\trowEl.classList.remove(\"tabulator-row-even\");\n\t\t}\n\t}\n\n\t///////////////////////////////////\n\t/////// External Triggers /////////\n\t/////// (DO NOT OVERRIDE) /////////\n\t///////////////////////////////////\n\n\tclear(){\n\t\t//clear down existing layout\n\t\tthis.clearRows();\n\t\tthis.clearColumns();\n\t}\n\n\trender(){\n\t\t//render from a clean slate\n\t\tthis.renderRows();\n\t\tthis.renderColumns();\n\t}\n\n\trerender(callback){\n\t\t// rerender and keep position\n\t\tthis.rerenderRows();\n\t\tthis.rerenderColumns();\n\t}\n\n\tscrollToRowPosition(row, position, ifVisible){\n\t\tvar rowIndex = this.rows().indexOf(row),\n\t\trowEl = row.getElement(),\n\t\toffset = 0;\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tif(rowIndex > -1){\n\n\t\t\t\tif(typeof ifVisible === \"undefined\"){\n\t\t\t\t\tifVisible = this.table.options.scrollToRowIfVisible;\n\t\t\t\t}\n\n\t\t\t\t//check row visibility\n\t\t\t\tif(!ifVisible){\n\t\t\t\t\tif(Helpers.elVisible(rowEl)){\n\t\t\t\t\t\toffset = Helpers.elOffset(rowEl).top - Helpers.elOffset(this.elementVertical).top;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(offset > 0 && offset < this.elementVertical.clientHeight - rowEl.offsetHeight){\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(typeof position === \"undefined\"){\n\t\t\t\t\tposition = this.table.options.scrollToRowPosition;\n\t\t\t\t}\n\n\t\t\t\tif(position === \"nearest\"){\n\t\t\t\t\tposition = this.scrollToRowNearestTop(row) ? \"top\" : \"bottom\";\n\t\t\t\t}\n\n\t\t\t\t//scroll to row\n\t\t\t\tthis.scrollToRow(row);\n\n\t\t\t\t//align to correct position\n\t\t\t\tswitch(position){\n\t\t\t\t\tcase \"middle\":\n\t\t\t\t\tcase \"center\":\n\n\t\t\t\t\t\tif(this.elementVertical.scrollHeight - this.elementVertical.scrollTop == this.elementVertical.clientHeight){\n\t\t\t\t\t\t\tthis.elementVertical.scrollTop = this.elementVertical.scrollTop + (rowEl.offsetTop - this.elementVertical.scrollTop) - ((this.elementVertical.scrollHeight - rowEl.offsetTop) / 2);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.elementVertical.scrollTop = this.elementVertical.scrollTop - (this.elementVertical.clientHeight / 2);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"bottom\":\n\n\t\t\t\t\t\tif(this.elementVertical.scrollHeight - this.elementVertical.scrollTop == this.elementVertical.clientHeight){\n\t\t\t\t\t\t\tthis.elementVertical.scrollTop = this.elementVertical.scrollTop - (this.elementVertical.scrollHeight - rowEl.offsetTop) + rowEl.offsetHeight;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.elementVertical.scrollTop = this.elementVertical.scrollTop - this.elementVertical.clientHeight + rowEl.offsetHeight;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase \"top\":\n\t\t\t\t\t\tthis.elementVertical.scrollTop = rowEl.offsetTop;\t\t\t\t\t\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tresolve();\n\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Scroll Error - Row not visible\");\n\t\t\t\treject(\"Scroll Error - Row not visible\");\n\t\t\t}\n\t\t});\n\t}\n}","import Renderer from '../Renderer.js';\n\nexport default class BasicHorizontal extends Renderer{\n\tconstructor(table){\n\t\tsuper(table);\n\t}\n\n\trenderRowCells(row){\n\t\trow.cells.forEach((cell) => {\n\t\t\trow.element.appendChild(cell.getElement());\n\t\t\tcell.cellRendered();\n\t\t});\n\t}\n\n\treinitializeColumnWidths(columns){\n\t\tcolumns.forEach(function(column){\n\t\t\tcolumn.reinitializeWidth();\n\t\t});\n\t}\n}","import Renderer from '../Renderer.js';\n\nexport default class VirtualDomHorizontal extends Renderer{\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.leftCol = 0;\n\t\tthis.rightCol = 0;\n\t\tthis.scrollLeft = 0;\n\t\t\n\t\tthis.vDomScrollPosLeft = 0;\n\t\tthis.vDomScrollPosRight = 0;\n\t\t\n\t\tthis.vDomPadLeft = 0;\n\t\tthis.vDomPadRight = 0;\n\t\t\n\t\tthis.fitDataColAvg = 0;\n\t\t\n\t\tthis.windowBuffer = 200; //pixel margin to make column visible before it is shown on screen\n\t\t\n\t\tthis.visibleRows = null;\n\t\t\n\t\tthis.initialized = false;\n\t\tthis.isFitData = false;\n\t\t\n\t\tthis.columns = [];\n\t}\n\t\n\tinitialize(){\n\t\tthis.compatibilityCheck();\n\t\tthis.layoutCheck();\n\t\tthis.vertScrollListen();\n\t}\n\t\n\tcompatibilityCheck(){\t\t\n\t\tif(this.options(\"layout\") == \"fitDataTable\"){\n\t\t\tconsole.warn(\"Horizontal Virtual DOM is not compatible with fitDataTable layout mode\");\n\t\t}\n\t\t\n\t\tif(this.options(\"responsiveLayout\")){\n\t\t\tconsole.warn(\"Horizontal Virtual DOM is not compatible with responsive columns\");\n\t\t}\n\t\t\n\t\tif(this.options(\"rtl\")){\n\t\t\tconsole.warn(\"Horizontal Virtual DOM is not currently compatible with RTL text direction\");\n\t\t}\n\t}\n\t\n\tlayoutCheck(){\n\t\tthis.isFitData = this.options(\"layout\").startsWith('fitData');\n\t}\n\t\n\tvertScrollListen(){\n\t\tthis.subscribe(\"scroll-vertical\", this.clearVisRowCache.bind(this));\n\t\tthis.subscribe(\"data-refreshed\", this.clearVisRowCache.bind(this));\n\t}\n\t\n\tclearVisRowCache(){\n\t\tthis.visibleRows = null;\n\t}\n\t\n\t//////////////////////////////////////\n\t///////// Public Functions ///////////\n\t//////////////////////////////////////\n\t\n\trenderColumns(row, force){\n\t\tthis.dataChange();\n\t}\n\t\n\t\n\tscrollColumns(left, dir){\n\t\tif(this.scrollLeft != left){\n\t\t\tthis.scrollLeft = left;\n\t\t\t\n\t\t\tthis.scroll(left - (this.vDomScrollPosLeft + this.windowBuffer));\n\t\t}\n\t}\n\t\n\tcalcWindowBuffer(){\n\t\tvar buffer = this.elementVertical.clientWidth;\n\t\t\n\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\tif(column.visible){\n\t\t\t\tvar width = column.getWidth();\n\t\t\t\t\n\t\t\t\tif(width > buffer){\n\t\t\t\t\tbuffer = width;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.windowBuffer = buffer * 2;\n\t}\n\t\n\trerenderColumns(update, blockRedraw){\t\t\n\t\tvar old = {\n\t\t\tcols:this.columns,\n\t\t\tleftCol:this.leftCol,\n\t\t\trightCol:this.rightCol,\n\t\t},\n\t\tcolPos = 0;\n\t\t\n\t\tif(update && !this.initialized){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tthis.clear();\n\t\t\n\t\tthis.calcWindowBuffer();\n\t\t\n\t\tthis.scrollLeft = this.elementVertical.scrollLeft;\n\t\t\n\t\tthis.vDomScrollPosLeft = this.scrollLeft - this.windowBuffer;\n\t\tthis.vDomScrollPosRight = this.scrollLeft + this.elementVertical.clientWidth + this.windowBuffer;\n\t\t\n\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\tvar config = {},\n\t\t\twidth;\n\t\t\t\n\t\t\tif(column.visible){\n\t\t\t\tif(!column.modules.frozen){\t\t\t\n\t\t\t\t\twidth = column.getWidth();\n\n\t\t\t\t\tconfig.leftPos = colPos;\n\t\t\t\t\tconfig.rightPos = colPos + width;\n\t\t\t\t\t\n\t\t\t\t\tconfig.width = width;\n\t\t\t\t\t\n\t\t\t\t\tif (this.isFitData) {\n\t\t\t\t\t\tconfig.fitDataCheck = column.modules.vdomHoz ? column.modules.vdomHoz.fitDataCheck : true;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif((colPos + width > this.vDomScrollPosLeft) && (colPos < this.vDomScrollPosRight)){\n\t\t\t\t\t\t//column is visible\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(this.leftCol == -1){\n\t\t\t\t\t\t\tthis.leftCol = this.columns.length;\n\t\t\t\t\t\t\tthis.vDomPadLeft = colPos;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.rightCol = this.columns.length;\n\t\t\t\t\t}else{\n\t\t\t\t\t\t// column is hidden\n\t\t\t\t\t\tif(this.leftCol !== -1){\n\t\t\t\t\t\t\tthis.vDomPadRight += width;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.columns.push(column);\n\t\t\t\t\t\n\t\t\t\t\tcolumn.modules.vdomHoz = config;\n\t\t\t\t\t\n\t\t\t\t\tcolPos += width;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\tthis.tableElement.style.paddingLeft = this.vDomPadLeft + \"px\";\n\t\tthis.tableElement.style.paddingRight = this.vDomPadRight + \"px\";\n\t\t\n\t\tthis.initialized = true;\n\t\t\n\t\tif(!blockRedraw){\n\t\t\tif(!update || this.reinitChanged(old)){\n\t\t\t\tthis.reinitializeRows();\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.elementVertical.scrollLeft = this.scrollLeft;\n\t}\n\t\n\trenderRowCells(row){\n\t\tif(this.initialized){\n\t\t\tthis.initializeRow(row);\n\t\t}else{\n\t\t\trow.cells.forEach((cell) => {\n\t\t\t\trow.element.appendChild(cell.getElement());\n\t\t\t\tcell.cellRendered();\n\t\t\t});\n\t\t}\n\t}\n\t\n\trerenderRowCells(row, force){\n\t\tthis.reinitializeRow(row, force);\n\t}\n\t\n\treinitializeColumnWidths(columns){\n\t\tfor(let i = this.leftCol; i <= this.rightCol; i++){\n\t\t\tthis.columns[i].reinitializeWidth();\n\t\t}\n\t}\n\t\n\t//////////////////////////////////////\n\t//////// Internal Rendering //////////\n\t//////////////////////////////////////\n\t\n\tdeinitialize(){\n\t\tthis.initialized = false;\n\t}\n\t\n\tclear(){\n\t\tthis.columns = [];\n\t\t\n\t\tthis.leftCol = -1;\n\t\tthis.rightCol = 0;\n\t\t\n\t\tthis.vDomScrollPosLeft = 0;\n\t\tthis.vDomScrollPosRight = 0;\n\t\tthis.vDomPadLeft = 0;\n\t\tthis.vDomPadRight = 0;\n\t}\n\t\n\tdataChange(){\n\t\tvar change = false,\n\t\trow, rowEl;\n\t\t\n\t\tif(this.isFitData){\n\t\t\tthis.table.columnManager.columnsByIndex.forEach((column) => {\n\t\t\t\tif(!column.definition.width && column.visible){\n\t\t\t\t\tchange = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif(change && this.table.rowManager.getDisplayRows().length){\n\t\t\t\tthis.vDomScrollPosRight = this.scrollLeft + this.elementVertical.clientWidth + this.windowBuffer;\n\t\t\t\t\n\t\t\t\trow = this.chain(\"rows-sample\", [1], [], () => {\n\t\t\t\t\treturn this.table.rowManager.getDisplayRows();\n\t\t\t\t})[0];\n\t\t\t\t\n\t\t\t\tif(row){\n\t\t\t\t\trowEl = row.getElement();\n\t\t\t\t\t\n\t\t\t\t\trow.generateCells();\n\t\t\t\t\t\n\t\t\t\t\tthis.tableElement.appendChild(rowEl);\n\t\t\t\t\t\n\t\t\t\t\tfor(let colEnd = 0; colEnd < row.cells.length; colEnd++){\n\t\t\t\t\t\tlet cell = row.cells[colEnd];\n\t\t\t\t\t\trowEl.appendChild(cell.getElement());\n\t\t\t\t\t\t\n\t\t\t\t\t\tcell.column.reinitializeWidth();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t\t\t\n\t\t\t\t\tthis.rerenderColumns(false, true);\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tif(this.options(\"layout\") === \"fitColumns\"){\n\t\t\t\tthis.layoutRefresh();\n\t\t\t\tthis.rerenderColumns(false, true);\n\t\t\t}\n\t\t}\n\t}\n\t\n\treinitChanged(old){\n\t\tvar match = true;\n\t\t\n\t\tif(old.cols.length !== this.columns.length || old.leftCol !== this.leftCol || old.rightCol !== this.rightCol){\n\t\t\treturn true;\n\t\t}\n\t\t\n\t\told.cols.forEach((col, i) => {\n\t\t\tif(col !== this.columns[i]){\n\t\t\t\tmatch = false;\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn !match;\n\t}\n\t\n\treinitializeRows(){\n\t\tvar visibleRows = this.getVisibleRows(),\n\t\totherRows = this.table.rowManager.getRows().filter(row => !visibleRows.includes(row));\n\n\t\tvisibleRows.forEach((row) => {\n\t\t\tthis.reinitializeRow(row, true);\n\t\t});\n\n\t\totherRows.forEach((row) =>{\n\t\t\trow.deinitialize();\n\t\t});\n\t}\n\t\n\tgetVisibleRows(){\n\t\tif (!this.visibleRows){\n\t\t\tthis.visibleRows = this.table.rowManager.getVisibleRows();\n\t\t}\n\t\t\n\t\treturn this.visibleRows;\t\n\t}\n\t\n\tscroll(diff){\n\t\tthis.vDomScrollPosLeft += diff;\n\t\tthis.vDomScrollPosRight += diff;\n\t\t\n\t\tif(Math.abs(diff) > (this.windowBuffer / 2)){\n\t\t\tthis.rerenderColumns();\n\t\t}else{\n\t\t\tif(diff > 0){\n\t\t\t\t//scroll right\n\t\t\t\tthis.addColRight();\n\t\t\t\tthis.removeColLeft();\n\t\t\t}else{\n\t\t\t\t//scroll left\n\t\t\t\tthis.addColLeft();\n\t\t\t\tthis.removeColRight();\n\t\t\t}\n\t\t}\n\t}\n\t\n\tcolPositionAdjust (start, end, diff){\n\t\tfor(let i = start; i < end; i++){\n\t\t\tlet column = this.columns[i];\n\t\t\t\n\t\t\tcolumn.modules.vdomHoz.leftPos += diff;\n\t\t\tcolumn.modules.vdomHoz.rightPos += diff;\n\t\t}\n\t}\n\t\n\taddColRight(){\n\t\tvar changes = false,\n\t\tworking = true;\n\t\t\n\t\twhile(working){\n\n\t\t\tlet column = this.columns[this.rightCol + 1];\n\t\t\t\n\t\t\tif(column){\n\t\t\t\tif(column.modules.vdomHoz.leftPos <= this.vDomScrollPosRight){\n\t\t\t\t\tchanges = true;\n\t\t\t\t\t\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\tvar cell = row.getCell(column);\n\t\t\t\t\t\t\trow.getElement().insertBefore(cell.getElement(), row.getCell(this.columns[this.rightCol]).getElement().nextSibling);\n\t\t\t\t\t\t\tcell.cellRendered();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.fitDataColActualWidthCheck(column);\n\t\t\t\t\t\n\t\t\t\t\tthis.rightCol++; // Don't move this below the >= check below\n\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\trow.modules.vdomHoz.rightCol = this.rightCol;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tif(this.rightCol >= (this.columns.length - 1)){\n\t\t\t\t\t\tthis.vDomPadRight = 0;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.vDomPadRight -= column.getWidth();\n\t\t\t\t\t}\t\n\t\t\t\t}else{\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(changes){\n\t\t\tthis.tableElement.style.paddingRight = this.vDomPadRight + \"px\";\n\t\t}\n\t}\n\t\n\taddColLeft(){\n\t\tvar changes = false,\n\t\tworking = true;\n\t\t\n\t\twhile(working){\n\t\t\tlet column = this.columns[this.leftCol - 1];\n\t\t\t\n\t\t\tif(column){\n\t\t\t\tif(column.modules.vdomHoz.rightPos >= this.vDomScrollPosLeft){\n\t\t\t\t\tchanges = true;\n\t\t\t\t\t\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\tvar cell = row.getCell(column);\n\t\t\t\t\t\t\trow.getElement().insertBefore(cell.getElement(), row.getCell(this.columns[this.leftCol]).getElement());\n\t\t\t\t\t\t\tcell.cellRendered();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.leftCol--; // don't move this below the <= check below\n\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\trow.modules.vdomHoz.leftCol = this.leftCol;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tif(this.leftCol <= 0){ // replicating logic in addColRight\n\t\t\t\t\t\tthis.vDomPadLeft = 0;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.vDomPadLeft -= column.getWidth();\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tlet diff = this.fitDataColActualWidthCheck(column);\n\t\t\t\t\t\n\t\t\t\t\tif(diff){\n\t\t\t\t\t\tthis.scrollLeft = this.elementVertical.scrollLeft = this.elementVertical.scrollLeft + diff;\n\t\t\t\t\t\tthis.vDomPadRight -= diff;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}else{\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(changes){\n\t\t\tthis.tableElement.style.paddingLeft = this.vDomPadLeft + \"px\";\n\t\t}\n\t}\n\t\n\tremoveColRight(){\n\t\tvar changes = false,\n\t\tworking = true;\n\t\t\n\t\twhile(working){\n\t\t\tlet column = this.columns[this.rightCol];\n\t\t\t\n\t\t\tif(column){\n\t\t\t\tif(column.modules.vdomHoz.leftPos > this.vDomScrollPosRight){\n\t\t\t\t\tchanges = true;\n\t\t\t\t\t\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\tvar cell = row.getCell(column);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\trow.getElement().removeChild(cell.getElement());\n\t\t\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t\t\tconsole.warn(\"Could not removeColRight\", ex.message);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.vDomPadRight += column.getWidth();\n\t\t\t\t\tthis.rightCol --;\n\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\trow.modules.vdomHoz.rightCol = this.rightCol;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(changes){\n\t\t\tthis.tableElement.style.paddingRight = this.vDomPadRight + \"px\";\n\t\t}\n\t}\n\t\n\tremoveColLeft(){\n\t\tvar changes = false,\n\t\tworking = true;\n\n\t\twhile(working){\n\t\t\tlet column = this.columns[this.leftCol];\n\t\t\t\n\t\t\tif(column){\n\t\t\t\tif(column.modules.vdomHoz.rightPos < this.vDomScrollPosLeft){\n\t\t\t\t\tchanges = true;\n\t\t\t\t\t\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\t\t\t\t\t\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\tvar cell = row.getCell(column);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\trow.getElement().removeChild(cell.getElement());\n\t\t\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t\t\tconsole.warn(\"Could not removeColLeft\", ex.message);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tthis.vDomPadLeft += column.getWidth();\n\t\t\t\t\tthis.leftCol ++;\n\n\t\t\t\t\tthis.getVisibleRows().forEach((row) => {\n\t\t\t\t\t\tif(row.type !== \"group\"){\n\t\t\t\t\t\t\trow.modules.vdomHoz.leftCol = this.leftCol;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(changes){\n\t\t\tthis.tableElement.style.paddingLeft = this.vDomPadLeft + \"px\";\n\t\t}\n\t}\n\t\n\tfitDataColActualWidthCheck(column){\n\t\tvar newWidth, widthDiff;\n\t\t\n\t\tif(column.modules.vdomHoz.fitDataCheck){\n\t\t\tcolumn.reinitializeWidth();\n\t\t\t\n\t\t\tnewWidth = column.getWidth();\n\t\t\twidthDiff = newWidth - column.modules.vdomHoz.width;\n\t\t\t\n\t\t\tif(widthDiff){\n\t\t\t\tcolumn.modules.vdomHoz.rightPos += widthDiff;\n\t\t\t\tcolumn.modules.vdomHoz.width = newWidth;\n\t\t\t\tthis.colPositionAdjust(this.columns.indexOf(column) + 1, this.columns.length, widthDiff);\n\t\t\t}\n\t\t\t\n\t\t\tcolumn.modules.vdomHoz.fitDataCheck = false;\n\t\t}\n\t\t\n\t\treturn widthDiff;\n\t}\n\t\n\tinitializeRow(row){\n\t\tif(row.type !== \"group\"){\n\t\t\trow.modules.vdomHoz = {\n\t\t\t\tleftCol:this.leftCol,\n\t\t\t\trightCol:this.rightCol,\n\t\t\t};\n\n\t\t\tif(this.table.modules.frozenColumns){\n\t\t\t\tthis.table.modules.frozenColumns.leftColumns.forEach((column) => {\n\t\t\t\t\tthis.appendCell(row, column);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfor(let i = this.leftCol; i <= this.rightCol; i++){\n\t\t\t\tthis.appendCell(row, this.columns[i]);\n\t\t\t}\n\n\t\t\tif(this.table.modules.frozenColumns){\n\t\t\t\tthis.table.modules.frozenColumns.rightColumns.forEach((column) => {\n\t\t\t\t\tthis.appendCell(row, column);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\t\n\tappendCell(row, column){\n\t\tif(column && column.visible){\n\t\t\tlet cell = row.getCell(column);\n\t\t\t\n\t\t\trow.getElement().appendChild(cell.getElement());\n\t\t\tcell.cellRendered();\n\t\t}\n\t}\n\t\n\treinitializeRow(row, force){\n\t\tif(row.type !== \"group\"){\n\t\t\tif(force || !row.modules.vdomHoz || row.modules.vdomHoz.leftCol !== this.leftCol || row.modules.vdomHoz.rightCol !== this.rightCol){\n\t\t\t\t\n\t\t\t\tvar rowEl = row.getElement();\n\t\t\t\twhile(rowEl.firstChild) rowEl.removeChild(rowEl.firstChild);\n\n\t\t\t\tthis.initializeRow(row);\n\t\t\t}\n\t\t}\n\t}\n}","import CoreFeature from './CoreFeature.js';\nimport Column from './column/Column.js';\nimport ColumnComponent from './column/ColumnComponent.js';\nimport Helpers from './tools/Helpers.js';\nimport OptionsList from './tools/OptionsList.js';\n\nimport RendererBasicHorizontal from './rendering/renderers/BasicHorizontal.js';\nimport RendererVirtualDomHorizontal from './rendering/renderers/VirtualDomHorizontal.js';\n\nimport defaultColumnOptions from './column/defaults/options.js';\n\nexport default class ColumnManager extends CoreFeature {\n\t\n\tconstructor (table){\n\t\tsuper(table);\n\t\t\n\t\tthis.blockHozScrollEvent = false;\n\t\tthis.headersElement = null;\n\t\tthis.contentsElement = null;\n\t\tthis.element = null ; //containing element\n\t\tthis.columns = []; // column definition object\n\t\tthis.columnsByIndex = []; //columns by index\n\t\tthis.columnsByField = {}; //columns by field\n\t\tthis.scrollLeft = 0;\n\t\tthis.optionsList = new OptionsList(this.table, \"column definition\", defaultColumnOptions);\n\t\t\n\t\tthis.redrawBlock = false; //prevent redraws to allow multiple data manipulations before continuing\n\t\tthis.redrawBlockUpdate = null; //store latest redraw update only status\n\t\t\n\t\tthis.renderer = null;\n\t}\n\t\n\t////////////// Setup Functions /////////////////\n\t\n\tinitialize(){\n\t\tthis.initializeRenderer();\n\t\t\n\t\tthis.headersElement = this.createHeadersElement();\n\t\tthis.contentsElement = this.createHeaderContentsElement();\n\t\tthis.element = this.createHeaderElement();\n\t\t\n\t\tthis.contentsElement.insertBefore(this.headersElement, this.contentsElement.firstChild);\n\t\tthis.element.insertBefore(this.contentsElement, this.element.firstChild);\n\t\t\n\t\tthis.subscribe(\"scroll-horizontal\", this.scrollHorizontal.bind(this));\n\t\tthis.subscribe(\"scrollbar-vertical\", this.padVerticalScrollbar.bind(this));\n\t}\n\n\tpadVerticalScrollbar(width){\n\t\tif(this.table.rtl){\n\t\t\tthis.headersElement.style.marginLeft = width + \"px\";\n\t\t}else{\n\t\t\tthis.headersElement.style.marginRight = width + \"px\";\n\t\t}\n\t}\n\t\n\tinitializeRenderer(){\n\t\tvar renderClass;\n\t\t\n\t\tvar renderers = {\n\t\t\t\"virtual\": RendererVirtualDomHorizontal,\n\t\t\t\"basic\": RendererBasicHorizontal,\n\t\t};\n\t\t\n\t\tif(typeof this.table.options.renderHorizontal === \"string\"){\n\t\t\trenderClass = renderers[this.table.options.renderHorizontal];\n\t\t}else{\n\t\t\trenderClass = this.table.options.renderHorizontal;\n\t\t}\n\t\t\n\t\tif(renderClass){\n\t\t\tthis.renderer = new renderClass(this.table, this.element, this.tableElement);\n\t\t\tthis.renderer.initialize();\n\t\t}else{\n\t\t\tconsole.error(\"Unable to find matching renderer:\", this.table.options.renderHorizontal);\n\t\t}\n\t}\n\t\n\t\n\tcreateHeadersElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-headers\");\n\t\tel.setAttribute(\"role\", \"row\");\n\t\t\n\t\treturn el;\n\t}\n\n\tcreateHeaderContentsElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-header-contents\");\n\t\tel.setAttribute(\"role\", \"rowgroup\");\n\t\t\n\t\treturn el;\n\t}\n\t\n\tcreateHeaderElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-header\");\n\t\tel.setAttribute(\"role\", \"rowgroup\");\n\t\t\n\t\tif(!this.table.options.headerVisible){\n\t\t\tel.classList.add(\"tabulator-header-hidden\");\n\t\t}\n\t\t\n\t\treturn el;\n\t}\n\t\n\t//return containing element\n\tgetElement(){\n\t\treturn this.element;\n\t}\n\n\t//return containing contents element\n\tgetContentsElement(){\n\t\treturn this.contentsElement;\n\t}\n\t\n\t\n\t//return header containing element\n\tgetHeadersElement(){\n\t\treturn this.headersElement;\n\t}\n\t\n\t//scroll horizontally to match table body\n\tscrollHorizontal(left){\n\t\tthis.contentsElement.scrollLeft = left;\n\n\t\tthis.scrollLeft = left;\n\t\t\n\t\tthis.renderer.scrollColumns(left);\n\t}\n\t\n\t///////////// Column Setup Functions /////////////\n\tgenerateColumnsFromRowData(data){\n\t\tvar cols = [],\n\t\tdefinitions = this.table.options.autoColumnsDefinitions,\n\t\trow, sorter;\n\t\t\n\t\tif(data && data.length){\n\t\t\t\n\t\t\trow = data[0];\n\t\t\t\n\t\t\tfor(var key in row){\n\t\t\t\tlet col = {\n\t\t\t\t\tfield:key,\n\t\t\t\t\ttitle:key,\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tlet value = row[key];\n\t\t\t\t\n\t\t\t\tswitch(typeof value){\n\t\t\t\t\tcase \"undefined\":\n\t\t\t\t\t\tsorter = \"string\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"boolean\":\n\t\t\t\t\t\tsorter = \"boolean\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\tif(Array.isArray(value)){\n\t\t\t\t\t\t\tsorter = \"array\";\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tsorter = \"string\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif(!isNaN(value) && value !== \"\"){\n\t\t\t\t\t\t\tsorter = \"number\";\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tif(value.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)){\n\t\t\t\t\t\t\t\tsorter = \"alphanum\";\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tsorter = \"string\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tcol.sorter = sorter;\n\t\t\t\t\n\t\t\t\tcols.push(col);\n\t\t\t}\n\t\t\t\n\t\t\tif(definitions){\n\t\t\t\t\n\t\t\t\tswitch(typeof definitions){\n\t\t\t\t\tcase \"function\":\n\t\t\t\t\t\tthis.table.options.columns = definitions.call(this.table, cols);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"object\":\n\t\t\t\t\t\tif(Array.isArray(definitions)){\n\t\t\t\t\t\t\tcols.forEach((col) => {\n\t\t\t\t\t\t\t\tvar match = definitions.find((def) => {\n\t\t\t\t\t\t\t\t\treturn def.field === col.field;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif(match){\n\t\t\t\t\t\t\t\t\tObject.assign(col, match);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tcols.forEach((col) => {\n\t\t\t\t\t\t\t\tif(definitions[col.field]){\n\t\t\t\t\t\t\t\t\tObject.assign(col, definitions[col.field]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.table.options.columns = cols;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tthis.table.options.columns = cols;\n\t\t\t}\n\t\t\t\n\t\t\tthis.setColumns(this.table.options.columns);\n\t\t}\n\t}\n\t\n\tsetColumns(cols, row){\n\t\twhile(this.headersElement.firstChild) this.headersElement.removeChild(this.headersElement.firstChild);\n\t\t\n\t\tthis.columns = [];\n\t\tthis.columnsByIndex = [];\n\t\tthis.columnsByField = {};\n\t\t\n\t\tthis.dispatch(\"columns-loading\");\n\t\t\n\t\tcols.forEach((def, i) => {\n\t\t\tthis._addColumn(def);\n\t\t});\n\t\t\n\t\tthis._reIndexColumns();\n\t\t\n\t\tthis.dispatch(\"columns-loaded\");\n\t\t\n\t\tthis.rerenderColumns(false, true);\n\t\t\n\t\tthis.redraw(true);\n\t}\n\t\n\t_addColumn(definition, before, nextToColumn){\n\t\tvar column = new Column(definition, this),\n\t\tcolEl = column.getElement(),\n\t\tindex = nextToColumn ? this.findColumnIndex(nextToColumn) : nextToColumn;\n\t\t\n\t\tif(nextToColumn && index > -1){\n\t\t\tvar topColumn = nextToColumn.getTopColumn();\n\t\t\tvar parentIndex = this.columns.indexOf(topColumn);\n\t\t\tvar nextEl = topColumn.getElement();\n\t\t\t\n\t\t\tif(before){\n\t\t\t\tthis.columns.splice(parentIndex, 0, column);\n\t\t\t\tnextEl.parentNode.insertBefore(colEl, nextEl);\n\t\t\t}else{\n\t\t\t\tthis.columns.splice(parentIndex + 1, 0, column);\n\t\t\t\tnextEl.parentNode.insertBefore(colEl, nextEl.nextSibling);\n\t\t\t}\n\t\t}else{\n\t\t\tif(before){\n\t\t\t\tthis.columns.unshift(column);\n\t\t\t\tthis.headersElement.insertBefore(column.getElement(), this.headersElement.firstChild);\n\t\t\t}else{\n\t\t\t\tthis.columns.push(column);\n\t\t\t\tthis.headersElement.appendChild(column.getElement());\n\t\t\t}\n\t\t}\n\t\t\n\t\tcolumn.columnRendered();\n\t\t\n\t\treturn column;\n\t}\n\t\n\tregisterColumnField(col){\n\t\tif(col.definition.field){\n\t\t\tthis.columnsByField[col.definition.field] = col;\n\t\t}\n\t}\n\t\n\tregisterColumnPosition(col){\n\t\tthis.columnsByIndex.push(col);\n\t}\n\t\n\t_reIndexColumns(){\n\t\tthis.columnsByIndex = [];\n\t\t\n\t\tthis.columns.forEach(function(column){\n\t\t\tcolumn.reRegisterPosition();\n\t\t});\n\t}\n\t\n\t//ensure column headers take up the correct amount of space in column groups\n\tverticalAlignHeaders(){\n\t\tvar minHeight = 0;\n\t\t\n\t\tif(!this.redrawBlock){\n\n\t\t\tthis.headersElement.style.height=\"\";\n\t\t\t\n\t\t\tthis.columns.forEach((column) => {\n\t\t\t\tcolumn.clearVerticalAlign();\n\t\t\t});\n\t\t\t\n\t\t\tthis.columns.forEach((column) => {\n\t\t\t\tvar height = column.getHeight();\n\t\t\t\t\n\t\t\t\tif(height > minHeight){\n\t\t\t\t\tminHeight = height;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.headersElement.style.height = minHeight + \"px\";\n\n\t\t\tthis.columns.forEach((column) => {\n\t\t\t\tcolumn.verticalAlign(this.table.options.columnHeaderVertAlign, minHeight);\n\t\t\t});\n\t\t\t\n\t\t\tthis.table.rowManager.adjustTableSize();\n\t\t}\n\t}\n\t\n\t//////////////// Column Details /////////////////\n\tfindColumn(subject){\n\t\tvar columns;\n\n\t\tif(typeof subject == \"object\"){\n\t\t\t\n\t\t\tif(subject instanceof Column){\n\t\t\t\t//subject is column element\n\t\t\t\treturn subject;\n\t\t\t}else if(subject instanceof ColumnComponent){\n\t\t\t\t//subject is public column component\n\t\t\t\treturn subject._getSelf() || false;\n\t\t\t}else if(typeof HTMLElement !== \"undefined\" && subject instanceof HTMLElement){\n\n\t\t\t\tcolumns = [];\n\n\t\t\t\tthis.columns.forEach((column) => {\n\t\t\t\t\tcolumns.push(column);\n\t\t\t\t\tcolumns = columns.concat(column.getColumns(true));\n\t\t\t\t});\n\n\t\t\t\t//subject is a HTML element of the column header\n\t\t\t\tlet match = columns.find((column) => {\n\t\t\t\t\treturn column.element === subject;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\treturn match || false;\n\t\t\t}\n\t\t\t\n\t\t}else{\n\t\t\t//subject should be treated as the field name of the column\n\t\t\treturn this.columnsByField[subject] || false;\n\t\t}\n\t\t\n\t\t//catch all for any other type of input\n\t\treturn false;\n\t}\n\t\n\tgetColumnByField(field){\n\t\treturn this.columnsByField[field];\n\t}\n\t\n\tgetColumnsByFieldRoot(root){\n\t\tvar matches = [];\n\t\t\n\t\tObject.keys(this.columnsByField).forEach((field) => {\n\t\t\tvar fieldRoot = field.split(\".\")[0];\n\t\t\tif(fieldRoot === root){\n\t\t\t\tmatches.push(this.columnsByField[field]);\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn matches;\n\t}\n\t\n\tgetColumnByIndex(index){\n\t\treturn this.columnsByIndex[index];\n\t}\n\t\n\tgetFirstVisibleColumn(){\n\t\tvar index = this.columnsByIndex.findIndex((col) => {\n\t\t\treturn col.visible;\n\t\t});\n\t\t\n\t\treturn index > -1 ? this.columnsByIndex[index] : false;\n\t}\n\t\n\tgetColumns(){\n\t\treturn this.columns;\n\t}\n\t\n\tfindColumnIndex(column){\n\t\treturn this.columnsByIndex.findIndex((col) => {\n\t\t\treturn column === col;\n\t\t});\n\t}\n\t\n\t//return all columns that are not groups\n\tgetRealColumns(){\n\t\treturn this.columnsByIndex;\n\t}\n\t\n\t//traverse across columns and call action\n\ttraverse(callback){\n\t\tthis.columnsByIndex.forEach((column,i) =>{\n\t\t\tcallback(column, i);\n\t\t});\n\t}\n\t\n\t//get definitions of actual columns\n\tgetDefinitions(active){\n\t\tvar output = [];\n\t\t\n\t\tthis.columnsByIndex.forEach((column) => {\n\t\t\tif(!active || (active && column.visible)){\n\t\t\t\toutput.push(column.getDefinition());\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\t//get full nested definition tree\n\tgetDefinitionTree(){\n\t\tvar output = [];\n\t\t\n\t\tthis.columns.forEach((column) => {\n\t\t\toutput.push(column.getDefinition(true));\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetComponents(structured){\n\t\tvar output = [],\n\t\tcolumns = structured ? this.columns : this.columnsByIndex;\n\t\t\n\t\tcolumns.forEach((column) => {\n\t\t\toutput.push(column.getComponent());\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetWidth(){\n\t\tvar width = 0;\n\t\t\n\t\tthis.columnsByIndex.forEach((column) => {\n\t\t\tif(column.visible){\n\t\t\t\twidth += column.getWidth();\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn width;\n\t}\n\t\n\tmoveColumn(from, to, after){\n\t\tto.element.parentNode.insertBefore(from.element, to.element);\n\t\t\n\t\tif(after){\n\t\t\tto.element.parentNode.insertBefore(to.element, from.element);\n\t\t}\n\t\t\n\t\tthis.moveColumnActual(from, to, after);\n\n\t\tthis.verticalAlignHeaders();\n\t\t\n\t\tthis.table.rowManager.reinitialize();\n\t}\n\t\n\tmoveColumnActual(from, to, after){\n\t\tif(from.parent.isGroup){\n\t\t\tthis._moveColumnInArray(from.parent.columns, from, to, after);\n\t\t}else{\n\t\t\tthis._moveColumnInArray(this.columns, from, to, after);\n\t\t}\n\t\t\n\t\tthis._moveColumnInArray(this.columnsByIndex, from, to, after, true);\n\t\t\n\t\tthis.rerenderColumns(true);\n\t\t\n\t\tthis.dispatch(\"column-moved\", from, to, after);\n\t\t\n\t\tif(this.subscribedExternal(\"columnMoved\")){\n\t\t\tthis.dispatchExternal(\"columnMoved\", from.getComponent(), this.table.columnManager.getComponents());\n\t\t}\n\t}\n\t\n\t_moveColumnInArray(columns, from, to, after, updateRows){\n\t\tvar\tfromIndex = columns.indexOf(from),\n\t\ttoIndex, rows = [];\n\t\t\n\t\tif (fromIndex > -1) {\n\t\t\t\n\t\t\tcolumns.splice(fromIndex, 1);\n\t\t\t\n\t\t\ttoIndex = columns.indexOf(to);\n\t\t\t\n\t\t\tif (toIndex > -1) {\n\t\t\t\t\n\t\t\t\tif(after){\n\t\t\t\t\ttoIndex = toIndex+1;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}else{\n\t\t\t\ttoIndex = fromIndex;\n\t\t\t}\n\t\t\t\n\t\t\tcolumns.splice(toIndex, 0, from);\n\t\t\t\n\t\t\tif(updateRows){\n\t\t\t\t\n\t\t\t\trows = this.chain(\"column-moving-rows\", [from, to, after], null, []) || [];\n\t\t\t\t\n\t\t\t\trows = rows.concat(this.table.rowManager.rows);\n\t\t\t\t\n\t\t\t\trows.forEach(function(row){\n\t\t\t\t\tif(row.cells.length){\n\t\t\t\t\t\tvar cell = row.cells.splice(fromIndex, 1)[0];\n\t\t\t\t\t\trow.cells.splice(toIndex, 0, cell);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t}\n\t\n\tscrollToColumn(column, position, ifVisible){\n\t\tvar left = 0,\n\t\toffset = column.getLeftOffset(),\n\t\tadjust = 0,\n\t\tcolEl = column.getElement();\n\t\t\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\t\n\t\t\tif(typeof position === \"undefined\"){\n\t\t\t\tposition = this.table.options.scrollToColumnPosition;\n\t\t\t}\n\t\t\t\n\t\t\tif(typeof ifVisible === \"undefined\"){\n\t\t\t\tifVisible = this.table.options.scrollToColumnIfVisible;\n\t\t\t}\n\t\t\t\n\t\t\tif(column.visible){\n\t\t\t\t\n\t\t\t\t//align to correct position\n\t\t\t\tswitch(position){\n\t\t\t\t\tcase \"middle\":\n\t\t\t\t\tcase \"center\":\n\t\t\t\t\t\tadjust = -this.element.clientWidth / 2;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"right\":\n\t\t\t\t\t\tadjust = colEl.clientWidth - this.headersElement.clientWidth;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//check column visibility\n\t\t\t\tif(!ifVisible){\n\t\t\t\t\tif(offset > 0 && offset + colEl.offsetWidth < this.element.clientWidth){\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//calculate scroll position\n\t\t\t\tleft = offset + adjust;\n\t\t\t\t\n\t\t\t\tleft = Math.max(Math.min(left, this.table.rowManager.element.scrollWidth - this.table.rowManager.element.clientWidth),0);\n\t\t\t\t\n\t\t\t\tthis.table.rowManager.scrollHorizontal(left);\n\t\t\t\tthis.scrollHorizontal(left);\n\t\t\t\t\n\t\t\t\tresolve();\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Scroll Error - Column not visible\");\n\t\t\t\treject(\"Scroll Error - Column not visible\");\n\t\t\t}\n\t\t\t\n\t\t});\n\t}\n\t\n\t//////////////// Cell Management /////////////////\n\tgenerateCells(row){\n\t\tvar cells = [];\n\t\t\n\t\tthis.columnsByIndex.forEach((column) => {\n\t\t\tcells.push(column.generateCell(row));\n\t\t});\n\t\t\n\t\treturn cells;\n\t}\n\t\n\t//////////////// Column Management /////////////////\n\tgetFlexBaseWidth(){\n\t\tvar totalWidth = this.table.element.clientWidth, //table element width\n\t\tfixedWidth = 0;\n\t\t\n\t\t//adjust for vertical scrollbar if present\n\t\tif(this.table.rowManager.element.scrollHeight > this.table.rowManager.element.clientHeight){\n\t\t\ttotalWidth -= this.table.rowManager.element.offsetWidth - this.table.rowManager.element.clientWidth;\n\t\t}\n\t\t\n\t\tthis.columnsByIndex.forEach(function(column){\n\t\t\tvar width, minWidth, colWidth;\n\t\t\t\n\t\t\tif(column.visible){\n\t\t\t\t\n\t\t\t\twidth = column.definition.width || 0;\n\t\t\t\t\n\t\t\t\tminWidth = parseInt(column.minWidth);\n\t\t\t\t\n\t\t\t\tif(typeof(width) == \"string\"){\n\t\t\t\t\tif(width.indexOf(\"%\") > -1){\n\t\t\t\t\t\tcolWidth = (totalWidth / 100) * parseInt(width) ;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tcolWidth = parseInt(width);\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tcolWidth = width;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfixedWidth += colWidth > minWidth ? colWidth : minWidth;\n\t\t\t\t\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn fixedWidth;\n\t}\n\t\n\taddColumn(definition, before, nextToColumn){\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tvar column = this._addColumn(definition, before, nextToColumn);\n\t\t\t\n\t\t\tthis._reIndexColumns();\n\t\t\t\n\t\t\tthis.dispatch(\"column-add\", definition, before, nextToColumn);\n\t\t\t\n\t\t\tif(this.layoutMode() != \"fitColumns\"){\n\t\t\t\tcolumn.reinitializeWidth();\n\t\t\t}\n\t\t\t\n\t\t\tthis.redraw(true);\n\t\t\t\n\t\t\tthis.table.rowManager.reinitialize();\n\t\t\t\n\t\t\tthis.rerenderColumns();\n\t\t\t\n\t\t\tresolve(column);\n\t\t});\n\t}\n\t\n\t//remove column from system\n\tderegisterColumn(column){\n\t\tvar field = column.getField(),\n\t\tindex;\n\t\t\n\t\t//remove from field list\n\t\tif(field){\n\t\t\tdelete this.columnsByField[field];\n\t\t}\n\t\t\n\t\t//remove from index list\n\t\tindex = this.columnsByIndex.indexOf(column);\n\t\t\n\t\tif(index > -1){\n\t\t\tthis.columnsByIndex.splice(index, 1);\n\t\t}\n\t\t\n\t\t//remove from column list\n\t\tindex = this.columns.indexOf(column);\n\t\t\n\t\tif(index > -1){\n\t\t\tthis.columns.splice(index, 1);\n\t\t}\n\t\t\n\t\tthis.verticalAlignHeaders();\n\t\t\n\t\tthis.redraw();\n\t}\n\t\n\trerenderColumns(update, silent){\n\t\tif(!this.redrawBlock){\n\t\t\tthis.renderer.rerenderColumns(update, silent);\n\t\t}else{\n\t\t\tif(update === false || (update === true && this.redrawBlockUpdate === null)){\n\t\t\t\tthis.redrawBlockUpdate = update;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tblockRedraw(){\n\t\tthis.redrawBlock = true;\n\t\tthis.redrawBlockUpdate = null;\n\t}\n\t\n\trestoreRedraw(){\n\t\tthis.redrawBlock = false;\n\t\tthis.verticalAlignHeaders();\n\t\tthis.renderer.rerenderColumns(this.redrawBlockUpdate);\n\t\t\n\t}\n\t\n\t//redraw columns\n\tredraw(force){\n\t\tif(Helpers.elVisible(this.element)){\n\t\t\tthis.verticalAlignHeaders();\n\t\t}\n\t\t\n\t\tif(force){\n\t\t\tthis.table.rowManager.resetScroll();\n\t\t\tthis.table.rowManager.reinitialize();\n\t\t}\n\t\t\n\t\tif(!this.confirm(\"table-redrawing\", force)){\n\t\t\tthis.layoutRefresh(force);\n\t\t}\n\t\t\n\t\tthis.dispatch(\"table-redraw\", force);\n\t\t\n\t\tthis.table.footerManager.redraw();\n\t}\n}","import Renderer from '../Renderer.js';\nimport Helpers from '../../tools/Helpers.js';\n\nexport default class BasicVertical extends Renderer{\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.verticalFillMode = \"fill\";\n\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\t}\n\n\tclearRows(){\n\t\tvar element = this.tableElement;\n\n\t\t// element.children.detach();\n\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\n\t\telement.scrollTop = 0;\n\t\telement.scrollLeft = 0;\n\n\t\telement.style.minWidth = \"\";\n\t\telement.style.minHeight = \"\";\n\t\telement.style.display = \"\";\n\t\telement.style.visibility = \"\";\n\t}\n\n\trenderRows(){\n\t\tvar element = this.tableElement,\n\t\tonlyGroupHeaders = true;\n\n\t\tthis.rows().forEach((row, index) => {\n\t\t\tthis.styleRow(row, index);\n\t\t\telement.appendChild(row.getElement());\n\t\t\trow.initialize(true);\n\n\t\t\tif(row.type !== \"group\"){\n\t\t\t\tonlyGroupHeaders = false;\n\t\t\t}\n\t\t});\n\n\t\tif(onlyGroupHeaders){\n\t\t\telement.style.minWidth = this.table.columnManager.getWidth() + \"px\";\n\t\t}else{\n\t\t\telement.style.minWidth = \"\";\n\t\t}\n\t}\n\n\n\trerenderRows(callback){\t\n\t\tthis.clearRows();\n\n\t\tif(callback){\n\t\t\tcallback();\n\t\t}\n\n\t\tthis.renderRows();\n\t}\n\n\tscrollToRowNearestTop(row){\n\t\tvar rowTop = Helpers.elOffset(row.getElement()).top;\n\n\t\treturn !(Math.abs(this.elementVertical.scrollTop - rowTop) > Math.abs(this.elementVertical.scrollTop + this.elementVertical.clientHeight - rowTop));\n\t}\n\n\tscrollToRow(row){\n\t\tvar rowEl = row.getElement();\n\n\t\tthis.elementVertical.scrollTop = Helpers.elOffset(rowEl).top - Helpers.elOffset(this.elementVertical).top + this.elementVertical.scrollTop;\n\t}\n\n\tvisibleRows(includingBuffer){\n\t\treturn this.rows();\n\t}\n\n}","import Renderer from '../Renderer.js';\nimport Helpers from '../../tools/Helpers.js';\n\nexport default class VirtualDomVertical extends Renderer{\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.verticalFillMode = \"fill\";\n\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\n\t\tthis.vDomRowHeight = 20; //approximation of row heights for padding\n\n\t\tthis.vDomTop = 0; //hold position for first rendered row in the virtual DOM\n\t\tthis.vDomBottom = 0; //hold position for last rendered row in the virtual DOM\n\n\t\tthis.vDomScrollPosTop = 0; //last scroll position of the vDom top;\n\t\tthis.vDomScrollPosBottom = 0; //last scroll position of the vDom bottom;\n\n\t\tthis.vDomTopPad = 0; //hold value of padding for top of virtual DOM\n\t\tthis.vDomBottomPad = 0; //hold value of padding for bottom of virtual DOM\n\n\t\tthis.vDomMaxRenderChain = 90; //the maximum number of dom elements that can be rendered in 1 go\n\n\t\tthis.vDomWindowBuffer = 0; //window row buffer before removing elements, to smooth scrolling\n\n\t\tthis.vDomWindowMinTotalRows = 20; //minimum number of rows to be generated in virtual dom (prevent buffering issues on tables with tall rows)\n\t\tthis.vDomWindowMinMarginRows = 5; //minimum number of rows to be generated in virtual dom margin\n\n\t\tthis.vDomTopNewRows = []; //rows to normalize after appending to optimize render speed\n\t\tthis.vDomBottomNewRows = []; //rows to normalize after appending to optimize render speed\n\t}\n\n\t//////////////////////////////////////\n\t///////// Public Functions ///////////\n\t//////////////////////////////////////\n\n\tclearRows(){\n\t\tvar element = this.tableElement;\n\n\t\t// element.children.detach();\n\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\n\t\telement.style.paddingTop = \"\";\n\t\telement.style.paddingBottom = \"\";\n\t\t// element.style.minWidth = \"\";\n\t\telement.style.minHeight = \"\";\n\t\telement.style.display = \"\";\n\t\telement.style.visibility = \"\";\n\n\t\tthis.elementVertical.scrollTop = 0;\n\t\tthis.elementVertical.scrollLeft = 0;\n\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\n\t\tthis.vDomTop = 0;\n\t\tthis.vDomBottom = 0;\n\t\tthis.vDomTopPad = 0;\n\t\tthis.vDomBottomPad = 0;\n\t\tthis.vDomScrollPosTop = 0;\n\t\tthis.vDomScrollPosBottom = 0;\n\t}\n\n\trenderRows(){\n\t\tthis._virtualRenderFill();\n\t}\n\n\trerenderRows(callback){\n\t\tvar scrollTop = this.elementVertical.scrollTop;\n\t\tvar topRow = false;\n\t\tvar topOffset = false;\n\n\t\tvar left = this.table.rowManager.scrollLeft;\n\n\t\tvar rows = this.rows();\n\n\t\tfor(var i = this.vDomTop; i <= this.vDomBottom; i++){\n\n\t\t\tif(rows[i]){\n\t\t\t\tvar diff = scrollTop - rows[i].getElement().offsetTop;\n\n\t\t\t\tif(topOffset === false || Math.abs(diff) < topOffset){\n\t\t\t\t\ttopOffset = diff;\n\t\t\t\t\ttopRow = i;\n\t\t\t\t}else{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\trows.forEach((row) => {\n\t\t\trow.deinitializeHeight();\n\t\t});\n\n\t\tif(callback){\n\t\t\tcallback();\n\t\t}\n\n\t\tif(this.rows().length){\n\t\t\tthis._virtualRenderFill((topRow === false ? this.rows.length - 1 : topRow), true, topOffset || 0);\n\t\t}else{\n\t\t\tthis.clear();\n\t\t\tthis.table.rowManager.tableEmpty();\n\t\t}\n\n\t\tthis.scrollColumns(left);\n\t}\n\n\tscrollColumns(left){\n\t\tthis.table.rowManager.scrollHorizontal(left);\n\t}\n\n\tscrollRows(top, dir){\n\t\tvar topDiff = top - this.vDomScrollPosTop;\n\t\tvar bottomDiff = top - this.vDomScrollPosBottom;\n\t\tvar margin = this.vDomWindowBuffer * 2;\n\t\tvar rows = this.rows();\n\n\t\tthis.scrollTop = top;\n\n\t\tif(-topDiff > margin || bottomDiff > margin){\n\t\t\t//if big scroll redraw table;\n\t\t\tvar left = this.table.rowManager.scrollLeft;\n\t\t\tthis._virtualRenderFill(Math.floor((this.elementVertical.scrollTop / this.elementVertical.scrollHeight) * rows.length));\n\t\t\tthis.scrollColumns(left);\n\t\t}else{\n\n\t\t\tif(dir){\n\t\t\t\t//scrolling up\n\t\t\t\tif(topDiff < 0){\n\t\t\t\t\tthis._addTopRow(rows, -topDiff);\n\t\t\t\t}\n\n\t\t\t\tif(bottomDiff < 0){\n\t\t\t\t\t//hide bottom row if needed\n\t\t\t\t\tif(this.vDomScrollHeight - this.scrollTop > this.vDomWindowBuffer){\n\t\t\t\t\t\tthis._removeBottomRow(rows, -bottomDiff);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.vDomScrollPosBottom = this.scrollTop;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\n\t\t\t\tif(bottomDiff >= 0){\n\t\t\t\t\tthis._addBottomRow(rows, bottomDiff);\n\t\t\t\t}\n\n\t\t\t\t//scrolling down\n\t\t\t\tif(topDiff >= 0){\n\t\t\t\t\t//hide top row if needed\n\t\t\t\t\tif(this.scrollTop > this.vDomWindowBuffer){\n\t\t\t\t\t\tthis._removeTopRow(rows, topDiff);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.vDomScrollPosTop = this.scrollTop;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tresize(){\n\t\tthis.vDomWindowBuffer = this.table.options.renderVerticalBuffer || this.elementVertical.clientHeight;\n\t}\n\n\tscrollToRowNearestTop(row){\n\t\tvar rowIndex = this.rows().indexOf(row);\n\n\t\treturn !(Math.abs(this.vDomTop - rowIndex) > Math.abs(this.vDomBottom - rowIndex));\n\t}\n\n\tscrollToRow(row){\n\t\tvar index = this.rows().indexOf(row);\n\n\t\tif(index > -1){\n\t\t\tthis._virtualRenderFill(index, true);\n\t\t}\n\t}\n\n\tvisibleRows(includingBuffer){\n\t\tvar topEdge = this.elementVertical.scrollTop,\n\t\tbottomEdge = this.elementVertical.clientHeight + topEdge,\n\t\ttopFound = false,\n\t\ttopRow = 0,\n\t\tbottomRow = 0,\n\t\trows = this.rows();\n\n\t\tif(includingBuffer){\n\t\t\ttopRow = this.vDomTop;\n\t\t\tbottomRow = this.vDomBottom;\n\t\t}else{\n\t\t\tfor(var i = this.vDomTop; i <= this.vDomBottom; i++){\n\t\t\t\tif(rows[i]){\n\t\t\t\t\tif(!topFound){\n\t\t\t\t\t\tif((topEdge - rows[i].getElement().offsetTop) >= 0){\n\t\t\t\t\t\t\ttopRow = i;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\ttopFound = true;\n\n\t\t\t\t\t\t\tif(bottomEdge - rows[i].getElement().offsetTop >= 0){\n\t\t\t\t\t\t\t\tbottomRow = i;\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(bottomEdge - rows[i].getElement().offsetTop >= 0){\n\t\t\t\t\t\t\tbottomRow = i;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn rows.slice(topRow, bottomRow + 1);\n\t}\n\n\t//////////////////////////////////////\n\t//////// Internal Rendering //////////\n\t//////////////////////////////////////\n\n\t//full virtual render\n\t_virtualRenderFill(position, forceMove, offset){\n\t\tvar\telement = this.tableElement,\n\t\tholder = this.elementVertical,\n\t\ttopPad = 0,\n\t\trowsHeight = 0,\n\t\theightOccupied = 0,\n\t\ttopPadHeight = 0,\n\t\ti = 0,\n\t\trows = this.rows(),\n\t\trowsCount = rows.length,\n\t\tcontainerHeight = this.elementVertical.clientHeight;\n\n\t\tposition = position || 0;\n\n\t\toffset = offset || 0;\n\n\t\tif(!position){\n\t\t\tthis.clear();\n\t\t}else{\n\t\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\n\t\t\t//check if position is too close to bottom of table\n\t\t\theightOccupied = (rowsCount - position + 1) * this.vDomRowHeight;\n\n\t\t\tif(heightOccupied < containerHeight){\n\t\t\t\tposition -= Math.ceil((containerHeight - heightOccupied) / this.vDomRowHeight);\n\t\t\t\tif(position < 0){\n\t\t\t\t\tposition = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t//calculate initial pad\n\t\t\ttopPad = Math.min(Math.max(Math.floor(this.vDomWindowBuffer / this.vDomRowHeight),  this.vDomWindowMinMarginRows), position);\n\t\t\tposition -= topPad;\n\t\t}\n\n\t\tif(rowsCount && Helpers.elVisible(this.elementVertical)){\n\t\t\tthis.vDomTop = position;\n\n\t\t\tthis.vDomBottom = position -1;\n\n\t\t\twhile ((rowsHeight <= containerHeight + this.vDomWindowBuffer || i < this.vDomWindowMinTotalRows) && this.vDomBottom < rowsCount -1){\n\t\t\t\tvar index = this.vDomBottom + 1,\n\t\t\t\trow = rows[index],\n\t\t\t\trowHeight = 0;\n\n\t\t\t\tthis.styleRow(row, index);\n\n\t\t\t\telement.appendChild(row.getElement());\n\n\t\t\t\trow.initialize();\n\n\t\t\t\tif(!row.heightInitialized){\n\t\t\t\t\trow.normalizeHeight(true);\n\t\t\t\t}\n\n\t\t\t\trowHeight = row.getHeight();\n\n\t\t\t\tif(i < topPad){\n\t\t\t\t\ttopPadHeight += rowHeight;\n\t\t\t\t}else{\n\t\t\t\t\trowsHeight += rowHeight;\n\t\t\t\t}\n\n\t\t\t\tif(rowHeight > this.vDomWindowBuffer){\n\t\t\t\t\tthis.vDomWindowBuffer = rowHeight * 2;\n\t\t\t\t}\n\n\t\t\t\tthis.vDomBottom ++;\n\t\t\t\ti++;\n\t\t\t}\n\n\t\t\tif(!position){\n\t\t\t\tthis.vDomTopPad = 0;\n\t\t\t\t//adjust row height to match average of rendered elements\n\t\t\t\tthis.vDomRowHeight = Math.floor((rowsHeight + topPadHeight) / i);\n\t\t\t\tthis.vDomBottomPad = this.vDomRowHeight * (rowsCount - this.vDomBottom -1);\n\n\t\t\t\tthis.vDomScrollHeight = topPadHeight + rowsHeight + this.vDomBottomPad - containerHeight;\n\t\t\t}else{\n\t\t\t\tthis.vDomTopPad = !forceMove ? this.scrollTop - topPadHeight : (this.vDomRowHeight * this.vDomTop) + offset;\n\t\t\t\tthis.vDomBottomPad = this.vDomBottom == rowsCount-1 ? 0 : Math.max(this.vDomScrollHeight - this.vDomTopPad - rowsHeight - topPadHeight, 0);\n\t\t\t}\n\n\t\t\telement.style.paddingTop = this.vDomTopPad + \"px\";\n\t\t\telement.style.paddingBottom = this.vDomBottomPad + \"px\";\n\n\t\t\tif(forceMove){\n\t\t\t\tthis.scrollTop = this.vDomTopPad + (topPadHeight) + offset - (this.elementVertical.scrollWidth > this.elementVertical.clientWidth ? this.elementVertical.offsetHeight - containerHeight : 0);\n\t\t\t}\n\n\t\t\tthis.scrollTop = Math.min(this.scrollTop, this.elementVertical.scrollHeight - containerHeight);\n\n\t\t\t//adjust for horizontal scrollbar if present (and not at top of table)\n\t\t\tif(this.elementVertical.scrollWidth > this.elementVertical.clientWidth && forceMove){\n\t\t\t\tthis.scrollTop += this.elementVertical.offsetHeight - containerHeight;\n\t\t\t}\n\n\t\t\tthis.vDomScrollPosTop = this.scrollTop;\n\t\t\tthis.vDomScrollPosBottom = this.scrollTop;\n\n\t\t\tholder.scrollTop = this.scrollTop;\n\n\t\t\tthis.dispatch(\"render-virtual-fill\");\n\t\t}\n\t}\n\n\t_addTopRow(rows, fillableSpace){\n\t\tvar table = this.tableElement,\n\t\taddedRows = [],\n\t\tpaddingAdjust = 0,\n\t\tindex = this.vDomTop -1,\n\t\ti = 0,\n\t\tworking = true;\n\n\t\twhile(working){\n\t\t\tif(this.vDomTop){\n\t\t\t\tlet row = rows[index],\n\t\t\t\trowHeight, initialized;\n\n\t\t\t\tif(row && i < this.vDomMaxRenderChain){\n\t\t\t\t\trowHeight = row.getHeight() || this.vDomRowHeight;\n\t\t\t\t\tinitialized = row.initialized;\n\n\t\t\t\t\tif(fillableSpace >= rowHeight){\n\n\t\t\t\t\t\tthis.styleRow(row, index);\n\t\t\t\t\t\ttable.insertBefore(row.getElement(), table.firstChild);\n\n\t\t\t\t\t\tif(!row.initialized || !row.heightInitialized){\n\t\t\t\t\t\t\taddedRows.push(row);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\trow.initialize();\n\n\t\t\t\t\t\tif(!initialized){\n\t\t\t\t\t\t\trowHeight = row.getElement().offsetHeight;\n\n\t\t\t\t\t\t\tif(rowHeight > this.vDomWindowBuffer){\n\t\t\t\t\t\t\t\tthis.vDomWindowBuffer = rowHeight * 2;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfillableSpace -= rowHeight;\n\t\t\t\t\t\tpaddingAdjust += rowHeight;\n\n\t\t\t\t\t\tthis.vDomTop--;\n\t\t\t\t\t\tindex--;\n\t\t\t\t\t\ti++;\n\n\t\t\t\t\t}else{\n\t\t\t\t\t\tworking = false;\n\t\t\t\t\t}\n\n\t\t\t\t}else{\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\n\t\t\t}else{\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\n\t\tfor (let row of addedRows){\n\t\t\trow.clearCellHeight();\n\t\t}\n\n\t\tthis._quickNormalizeRowHeight(addedRows);\n\n\t\tif(paddingAdjust){\n\t\t\tthis.vDomTopPad -= paddingAdjust;\n\n\t\t\tif(this.vDomTopPad < 0){\n\t\t\t\tthis.vDomTopPad = index * this.vDomRowHeight;\n\t\t\t}\n\n\t\t\tif(index < 1){\n\t\t\t\tthis.vDomTopPad = 0;\n\t\t\t}\n\n\t\t\ttable.style.paddingTop = this.vDomTopPad + \"px\";\n\t\t\tthis.vDomScrollPosTop -= paddingAdjust;\n\t\t}\n\t}\n\n\t_removeTopRow(rows, fillableSpace){\n\t\tvar removableRows = [],\n\t\tpaddingAdjust = 0,\n\t\ti = 0,\n\t\tworking = true;\n\n\t\twhile(working){\n\t\t\tlet row = rows[this.vDomTop],\n\t\t\trowHeight;\n\n\t\t\tif(row && i < this.vDomMaxRenderChain){\n\t\t\t\trowHeight = row.getHeight() || this.vDomRowHeight;\n\n\t\t\t\tif(fillableSpace >= rowHeight){\n\t\t\t\t\tthis.vDomTop++;\n\n\t\t\t\t\tfillableSpace -= rowHeight;\n\t\t\t\t\tpaddingAdjust += rowHeight;\n\n\t\t\t\t\tremovableRows.push(row);\n\t\t\t\t\ti++;\n\t\t\t\t}else{\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\n\t\tfor (let row of removableRows){\n\t\t\tlet rowEl = row.getElement();\n\n\t\t\tif(rowEl.parentNode){\n\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t}\n\t\t}\n\n\t\tif(paddingAdjust){\n\t\t\tthis.vDomTopPad += paddingAdjust;\n\t\t\tthis.tableElement.style.paddingTop = this.vDomTopPad + \"px\";\n\t\t\tthis.vDomScrollPosTop += this.vDomTop ? paddingAdjust : paddingAdjust + this.vDomWindowBuffer;\n\t\t}\n\t}\n\n\t_addBottomRow(rows, fillableSpace){\n\t\tvar table = this.tableElement,\n\t\taddedRows = [],\n\t\tpaddingAdjust = 0,\n\t\tindex = this.vDomBottom + 1,\n\t\ti = 0,\n\t\tworking = true;\n\n\t\twhile(working){\n\t\t\tlet row = rows[index],\n\t\t\trowHeight, initialized;\n\n\t\t\tif(row && i < this.vDomMaxRenderChain){\n\t\t\t\trowHeight = row.getHeight() || this.vDomRowHeight;\n\t\t\t\tinitialized = row.initialized;\n\n\t\t\t\tif(fillableSpace >= rowHeight){\n\n\t\t\t\t\tthis.styleRow(row, index);\n\t\t\t\t\ttable.appendChild(row.getElement());\n\n\t\t\t\t\tif(!row.initialized || !row.heightInitialized){\n\t\t\t\t\t\taddedRows.push(row);\n\t\t\t\t\t}\n\n\t\t\t\t\trow.initialize();\n\n\t\t\t\t\tif(!initialized){\n\t\t\t\t\t\trowHeight = row.getElement().offsetHeight;\n\n\t\t\t\t\t\tif(rowHeight > this.vDomWindowBuffer){\n\t\t\t\t\t\t\tthis.vDomWindowBuffer = rowHeight * 2;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tfillableSpace -= rowHeight;\n\t\t\t\t\tpaddingAdjust += rowHeight;\n\n\t\t\t\t\tthis.vDomBottom++;\n\t\t\t\t\tindex++;\n\t\t\t\t\ti++;\n\t\t\t\t}else{\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\n\t\tfor (let row of addedRows){\n\t\t\trow.clearCellHeight();\n\t\t}\n\n\t\tthis._quickNormalizeRowHeight(addedRows);\n\n\t\tif(paddingAdjust){\n\t\t\tthis.vDomBottomPad -= paddingAdjust;\n\n\t\t\tif(this.vDomBottomPad < 0 || index == rows.length -1){\n\t\t\t\tthis.vDomBottomPad = 0;\n\t\t\t}\n\n\t\t\ttable.style.paddingBottom = this.vDomBottomPad + \"px\";\n\t\t\tthis.vDomScrollPosBottom += paddingAdjust;\n\t\t}\n\t}\n\n\t_removeBottomRow(rows, fillableSpace){\n\t\tvar removableRows = [],\n\t\tpaddingAdjust = 0,\n\t\ti = 0,\n\t\tworking = true;\n\n\t\twhile(working){\n\t\t\tlet row = rows[this.vDomBottom],\n\t\t\trowHeight;\n\n\t\t\tif(row && i < this.vDomMaxRenderChain){\n\t\t\t\trowHeight = row.getHeight() || this.vDomRowHeight;\n\n\t\t\t\tif(fillableSpace >= rowHeight){\n\t\t\t\t\tthis.vDomBottom --;\n\n\t\t\t\t\tfillableSpace -= rowHeight;\n\t\t\t\t\tpaddingAdjust += rowHeight;\n\n\t\t\t\t\tremovableRows.push(row);\n\t\t\t\t\ti++;\n\t\t\t\t}else{\n\t\t\t\t\tworking = false;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tworking = false;\n\t\t\t}\n\t\t}\n\n\t\tfor (let row of removableRows){\n\t\t\tlet rowEl = row.getElement();\n\n\t\t\tif(rowEl.parentNode){\n\t\t\t\trowEl.parentNode.removeChild(rowEl);\n\t\t\t}\n\t\t}\n\n\t\tif(paddingAdjust){\n\t\t\tthis.vDomBottomPad += paddingAdjust;\n\n\t\t\tif(this.vDomBottomPad < 0){\n\t\t\t\tthis.vDomBottomPad = 0;\n\t\t\t}\n\n\t\t\tthis.tableElement.style.paddingBottom = this.vDomBottomPad + \"px\";\n\t\t\tthis.vDomScrollPosBottom -= paddingAdjust;\n\t\t}\n\t}\n\n\t_quickNormalizeRowHeight(rows){\n\t\tfor(let row of rows){\n\t\t\trow.calcHeight();\n\t\t}\n\n\t\tfor(let row of rows){\n\t\t\trow.setCellHeight();\n\t\t}\n\t}\n}","import CoreFeature from './CoreFeature.js';\nimport Row from './row/Row.js';\nimport RowComponent from './row/RowComponent.js';\nimport Helpers from './tools/Helpers.js';\n\nimport RendererBasicVertical from './rendering/renderers/BasicVertical.js';\nimport RendererVirtualDomVertical from './rendering/renderers/VirtualDomVertical.js';\n\nexport default class RowManager extends CoreFeature{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t\t\n\t\tthis.element = this.createHolderElement(); //containing element\n\t\tthis.tableElement = this.createTableElement(); //table element\n\t\tthis.heightFixer = this.createTableElement(); //table element\n\t\tthis.placeholder = null; //placeholder element\n\t\tthis.placeholderContents = null; //placeholder element\n\t\t\n\t\tthis.firstRender = false; //handle first render\n\t\tthis.renderMode = \"virtual\"; //current rendering mode\n\t\tthis.fixedHeight = false; //current rendering mode\n\t\t\n\t\tthis.rows = []; //hold row data objects\n\t\tthis.activeRowsPipeline = []; //hold calculation of active rows\n\t\tthis.activeRows = []; //rows currently available to on display in the table\n\t\tthis.activeRowsCount = 0; //count of active rows\n\t\t\n\t\tthis.displayRows = []; //rows currently on display in the table\n\t\tthis.displayRowsCount = 0; //count of display rows\n\t\t\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\t\t\n\t\tthis.redrawBlock = false; //prevent redraws to allow multiple data manipulations before continuing\n\t\tthis.redrawBlockRestoreConfig = false; //store latest redraw function calls for when redraw is needed\n\t\tthis.redrawBlockRenderInPosition = false; //store latest redraw function calls for when redraw is needed\n\t\t\n\t\tthis.dataPipeline = []; //hold data pipeline tasks\n\t\tthis.displayPipeline = []; //hold data display pipeline tasks\n\n\t\tthis.scrollbarWidth = 0;\n\t\t\n\t\tthis.renderer = null;\n\t}\n\t\n\t//////////////// Setup Functions /////////////////\n\t\n\tcreateHolderElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-tableholder\");\n\t\tel.setAttribute(\"tabindex\", 0);\n\t\t// el.setAttribute(\"role\", \"rowgroup\");\n\t\t\n\t\treturn el;\n\t}\n\t\n\tcreateTableElement (){\n\t\tvar el = document.createElement(\"div\");\n\t\t\n\t\tel.classList.add(\"tabulator-table\");\n\t\tel.setAttribute(\"role\", \"rowgroup\");\n\t\t\n\t\treturn el;\n\t}\n\t\n\tinitializePlaceholder(){\n\t\tvar placeholder = this.table.options.placeholder;\n\n\t\t//configure placeholder element\n\t\tif(placeholder){\t\n\t\t\tlet el = document.createElement(\"div\");\n\t\t\tel.classList.add(\"tabulator-placeholder\");\n\n\t\t\tif(typeof placeholder == \"string\"){\n\t\t\t\tlet contents = document.createElement(\"div\");\n\t\t\t\tcontents.classList.add(\"tabulator-placeholder-contents\");\n\t\t\t\tcontents.innerHTML = placeholder;\n\t\t\t\t\n\t\t\t\tel.appendChild(contents);\n\t\t\t\t\n\t\t\t\tthis.placeholderContents = contents;\n\t\t\t\t\n\t\t\t}else if(typeof HTMLElement !== \"undefined\" && placeholder instanceof HTMLElement){\n\t\t\t\t\n\t\t\t\tel.appendChild(placeholder);\n\t\t\t\tthis.placeholderContents = placeholder;\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Invalid placeholder provided, must be string or HTML Element\", placeholder);\n\n\t\t\t\tthis.el = null;\n\t\t\t}\n\n\t\t\tthis.placeholder = el;\n\t\t}\n\t}\n\t\n\t//return containing element\n\tgetElement(){\n\t\treturn this.element;\n\t}\n\t\n\t//return table element\n\tgetTableElement(){\n\t\treturn this.tableElement;\n\t}\n\t\n\tinitialize(){\n\t\tthis.initializePlaceholder();\n\t\tthis.initializeRenderer();\n\t\t\n\t\t//initialize manager\n\t\tthis.element.appendChild(this.tableElement);\n\t\t\n\t\tthis.firstRender = true;\n\t\t\n\t\t//scroll header along with table body\n\t\tthis.element.addEventListener(\"scroll\", () => {\n\t\t\tvar left = this.element.scrollLeft,\n\t\t\tleftDir = this.scrollLeft > left,\n\t\t\ttop = this.element.scrollTop,\n\t\t\ttopDir = this.scrollTop > top;\n\t\t\t\n\t\t\t//handle horizontal scrolling\n\t\t\tif(this.scrollLeft != left){\n\t\t\t\tthis.scrollLeft = left;\n\t\t\t\t\n\t\t\t\tthis.dispatch(\"scroll-horizontal\", left, leftDir);\n\t\t\t\tthis.dispatchExternal(\"scrollHorizontal\", left, leftDir);\n\t\t\t\t\n\t\t\t\tthis._positionPlaceholder();\n\t\t\t}\n\t\t\t\n\t\t\t//handle vertical scrolling\n\t\t\tif(this.scrollTop != top){\n\t\t\t\tthis.scrollTop = top;\n\t\t\t\t\n\t\t\t\tthis.renderer.scrollRows(top, topDir);\n\t\t\t\t\n\t\t\t\tthis.dispatch(\"scroll-vertical\", top, topDir);\n\t\t\t\tthis.dispatchExternal(\"scrollVertical\", top, topDir);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t////////////////// Row Manipulation //////////////////\n\tfindRow(subject){\n\t\tif(typeof subject == \"object\"){\n\t\t\tif(subject instanceof Row){\n\t\t\t\t//subject is row element\n\t\t\t\treturn subject;\n\t\t\t}else if(subject instanceof RowComponent){\n\t\t\t\t//subject is public row component\n\t\t\t\treturn subject._getSelf() || false;\n\t\t\t}else if(typeof HTMLElement !== \"undefined\" && subject instanceof HTMLElement){\n\t\t\t\t//subject is a HTML element of the row\n\t\t\t\tlet match = this.rows.find((row) => {\n\t\t\t\t\treturn row.getElement() === subject;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\treturn match || false;\n\t\t\t}else if(subject === null){\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else if(typeof subject == \"undefined\"){\n\t\t\treturn false;\n\t\t}else{\n\t\t\t//subject should be treated as the index of the row\n\t\t\tlet match = this.rows.find((row) => {\n\t\t\t\treturn row.data[this.table.options.index] == subject;\n\t\t\t});\n\t\t\t\n\t\t\treturn match || false;\n\t\t}\n\t\t\n\t\t//catch all for any other type of input\n\t\treturn false;\n\t}\n\t\n\tgetRowFromDataObject(data){\n\t\tvar match = this.rows.find((row) => {\n\t\t\treturn row.data === data;\n\t\t});\n\t\t\n\t\treturn match || false;\n\t}\n\t\n\tgetRowFromPosition(position){\n\t\treturn this.getDisplayRows().find((row) => {\n\t\t\treturn row.getPosition() === position && row.isDisplayed();\n\t\t});\n\t}\n\t\n\tscrollToRow(row, position, ifVisible){\n\t\treturn this.renderer.scrollToRowPosition(row, position, ifVisible);\n\t}\n\t\n\t////////////////// Data Handling //////////////////\n\tsetData(data, renderInPosition, columnsChanged){\n\t\treturn new Promise((resolve, reject)=>{\n\t\t\tif(renderInPosition && this.getDisplayRows().length){\n\t\t\t\tif(this.table.options.pagination){\n\t\t\t\t\tthis._setDataActual(data, true);\n\t\t\t\t}else{\n\t\t\t\t\tthis.reRenderInPosition(() => {\n\t\t\t\t\t\tthis._setDataActual(data);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(this.table.options.autoColumns && columnsChanged && this.table.initialized){\n\t\t\t\t\tthis.table.columnManager.generateColumnsFromRowData(data);\n\t\t\t\t}\n\t\t\t\tthis.resetScroll();\n\t\t\t\t\n\t\t\t\tthis._setDataActual(data);\n\t\t\t}\n\t\t\t\n\t\t\tresolve();\n\t\t});\n\t}\n\t\n\t_setDataActual(data, renderInPosition){\n\t\tthis.dispatchExternal(\"dataProcessing\", data);\n\t\t\n\t\tthis._wipeElements();\n\t\t\n\t\tif(Array.isArray(data)){\n\t\t\tthis.dispatch(\"data-processing\", data);\n\t\t\t\n\t\t\tdata.forEach((def, i) => {\n\t\t\t\tif(def && typeof def === \"object\"){\n\t\t\t\t\tvar row = new Row(def, this);\n\t\t\t\t\tthis.rows.push(row);\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Data Loading Warning - Invalid row data detected and ignored, expecting object but received:\", def);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tthis.refreshActiveData(false, false, renderInPosition);\n\t\t\t\n\t\t\tthis.dispatch(\"data-processed\", data);\n\t\t\tthis.dispatchExternal(\"dataProcessed\", data);\n\t\t}else{\n\t\t\tconsole.error(\"Data Loading Error - Unable to process data due to invalid data type \\nExpecting: array \\nReceived: \", typeof data, \"\\nData:     \", data);\n\t\t}\n\t}\n\t\n\t_wipeElements(){\n\t\tthis.dispatch(\"rows-wipe\");\n\t\t\n\t\tthis.destroy();\n\t\t\n\t\tthis.adjustTableSize();\n\n\t\tthis.dispatch(\"rows-wiped\");\n\t}\n\n\tdestroy(){\n\t\tthis.rows.forEach((row) => {\n\t\t\trow.wipe();\n\t\t});\n\n\t\tthis.rows = [];\n\t\tthis.activeRows = [];\n\t\tthis.activeRowsPipeline = [];\n\t\tthis.activeRowsCount = 0;\n\t\tthis.displayRows = [];\n\t\tthis.displayRowsCount = 0;\n\t}\n\t\n\tdeleteRow(row, blockRedraw){\n\t\tvar allIndex = this.rows.indexOf(row),\n\t\tactiveIndex = this.activeRows.indexOf(row);\n\t\t\n\t\tif(activeIndex > -1){\n\t\t\tthis.activeRows.splice(activeIndex, 1);\n\t\t}\n\t\t\n\t\tif(allIndex > -1){\n\t\t\tthis.rows.splice(allIndex, 1);\n\t\t}\n\t\t\n\t\tthis.setActiveRows(this.activeRows);\n\t\t\n\t\tthis.displayRowIterator((rows) => {\n\t\t\tvar displayIndex = rows.indexOf(row);\n\t\t\t\n\t\t\tif(displayIndex > -1){\n\t\t\t\trows.splice(displayIndex, 1);\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(!blockRedraw){\n\t\t\tthis.reRenderInPosition();\n\t\t}\n\t\t\n\t\tthis.regenerateRowPositions();\n\t\t\n\t\tthis.dispatchExternal(\"rowDeleted\", row.getComponent());\n\t\t\n\t\tif(!this.displayRowsCount){\n\t\t\tthis.tableEmpty();\n\t\t}\n\t\t\n\t\tif(this.subscribedExternal(\"dataChanged\")){\n\t\t\tthis.dispatchExternal(\"dataChanged\", this.getData());\n\t\t}\n\t}\n\t\n\taddRow(data, pos, index, blockRedraw){\n\t\tvar row = this.addRowActual(data, pos, index, blockRedraw);\n\t\treturn row;\n\t}\n\t\n\t//add multiple rows\n\taddRows(data, pos, index, refreshDisplayOnly){\n\t\tvar rows = [];\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tpos = this.findAddRowPos(pos);\n\t\t\t\n\t\t\tif(!Array.isArray(data)){\n\t\t\t\tdata = [data];\n\t\t\t}\n\t\t\t\n\t\t\tif((typeof index == \"undefined\" && pos) || (typeof index !== \"undefined\" && !pos)){\n\t\t\t\tdata.reverse();\n\t\t\t}\n\t\t\t\n\t\t\tdata.forEach((item, i) => {\n\t\t\t\tvar row = this.addRow(item, pos, index, true);\n\t\t\t\trows.push(row);\n\t\t\t\tthis.dispatch(\"row-added\", row, item, pos, index);\n\t\t\t});\n\n\t\t\tthis.refreshActiveData(refreshDisplayOnly ? \"displayPipeline\" : false, false, true);\n\t\t\t\n\t\t\tthis.regenerateRowPositions();\n\t\t\t\n\t\t\tif(rows.length){\n\t\t\t\tthis._clearPlaceholder();\n\t\t\t}\n\t\t\t\n\t\t\tresolve(rows);\n\t\t});\n\t}\n\t\n\tfindAddRowPos(pos){\n\t\tif(typeof pos === \"undefined\"){\n\t\t\tpos = this.table.options.addRowPos;\n\t\t}\n\t\t\n\t\tif(pos === \"pos\"){\n\t\t\tpos = true;\n\t\t}\n\t\t\n\t\tif(pos === \"bottom\"){\n\t\t\tpos = false;\n\t\t}\n\t\t\n\t\treturn pos;\n\t}\n\t\n\taddRowActual(data, pos, index, blockRedraw){\n\t\tvar row = data instanceof Row ? data : new Row(data || {}, this),\n\t\ttop = this.findAddRowPos(pos),\n\t\tallIndex = -1,\n\t\tactiveIndex, chainResult;\n\t\t\n\t\tif(!index){\n\t\t\tchainResult = this.chain(\"row-adding-position\", [row, top], null, {index, top});\n\t\t\t\n\t\t\tindex = chainResult.index;\n\t\t\ttop = chainResult.top;\n\t\t}\n\t\t\n\t\tif(typeof index !== \"undefined\"){\n\t\t\tindex = this.findRow(index);\n\t\t}\n\t\t\n\t\tindex = this.chain(\"row-adding-index\", [row, index, top], null, index);\n\t\t\n\t\tif(index){\n\t\t\tallIndex = this.rows.indexOf(index);\n\t\t}\n\t\t\n\t\tif(index && allIndex > -1){\n\t\t\tactiveIndex = this.activeRows.indexOf(index);\n\t\t\t\n\t\t\tthis.displayRowIterator(function(rows){\n\t\t\t\tvar displayIndex = rows.indexOf(index);\n\t\t\t\t\n\t\t\t\tif(displayIndex > -1){\n\t\t\t\t\trows.splice((top ? displayIndex : displayIndex + 1), 0, row);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tif(activeIndex > -1){\n\t\t\t\tthis.activeRows.splice((top ? activeIndex : activeIndex + 1), 0, row);\n\t\t\t}\n\t\t\t\n\t\t\tthis.rows.splice((top ? allIndex : allIndex + 1), 0, row);\n\t\t\t\n\t\t}else{\n\t\t\t\n\t\t\tif(top){\n\t\t\t\t\n\t\t\t\tthis.displayRowIterator(function(rows){\n\t\t\t\t\trows.unshift(row);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.activeRows.unshift(row);\n\t\t\t\tthis.rows.unshift(row);\n\t\t\t}else{\n\t\t\t\tthis.displayRowIterator(function(rows){\n\t\t\t\t\trows.push(row);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tthis.activeRows.push(row);\n\t\t\t\tthis.rows.push(row);\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.setActiveRows(this.activeRows);\n\t\t\n\t\tthis.dispatchExternal(\"rowAdded\", row.getComponent());\n\t\t\n\t\tif(this.subscribedExternal(\"dataChanged\")){\n\t\t\tthis.dispatchExternal(\"dataChanged\", this.table.rowManager.getData());\n\t\t}\n\t\t\n\t\tif(!blockRedraw){\n\t\t\tthis.reRenderInPosition();\n\t\t}\n\t\t\n\t\treturn row;\n\t}\n\t\n\tmoveRow(from, to, after){\n\t\tthis.dispatch(\"row-move\", from, to, after);\n\t\t\n\t\tthis.moveRowActual(from, to, after);\n\t\t\n\t\tthis.regenerateRowPositions();\n\t\t\n\t\tthis.dispatch(\"row-moved\", from, to, after);\n\t\tthis.dispatchExternal(\"rowMoved\", from.getComponent());\n\t}\n\t\n\tmoveRowActual(from, to, after){\n\t\tthis.moveRowInArray(this.rows, from, to, after);\n\t\tthis.moveRowInArray(this.activeRows, from, to, after);\n\t\t\n\t\tthis.displayRowIterator((rows) => {\n\t\t\tthis.moveRowInArray(rows, from, to, after);\n\t\t});\n\t\t\n\t\tthis.dispatch(\"row-moving\", from, to, after);\n\t}\n\t\n\tmoveRowInArray(rows, from, to, after){\n\t\tvar\tfromIndex, toIndex, start, end;\n\t\t\n\t\tif(from !== to){\n\t\t\t\n\t\t\tfromIndex = rows.indexOf(from);\n\t\t\t\n\t\t\tif (fromIndex > -1) {\n\t\t\t\t\n\t\t\t\trows.splice(fromIndex, 1);\n\t\t\t\t\n\t\t\t\ttoIndex = rows.indexOf(to);\n\t\t\t\t\n\t\t\t\tif (toIndex > -1) {\n\t\t\t\t\t\n\t\t\t\t\tif(after){\n\t\t\t\t\t\trows.splice(toIndex+1, 0, from);\n\t\t\t\t\t}else{\n\t\t\t\t\t\trows.splice(toIndex, 0, from);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}else{\n\t\t\t\t\trows.splice(fromIndex, 0, from);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t//restyle rows\n\t\t\tif(rows === this.getDisplayRows()){\n\t\t\t\t\n\t\t\t\tstart = fromIndex < toIndex ? fromIndex : toIndex;\n\t\t\t\tend = toIndex > fromIndex ? toIndex : fromIndex +1;\n\t\t\t\t\n\t\t\t\tfor(let i = start; i <= end; i++){\n\t\t\t\t\tif(rows[i]){\n\t\t\t\t\t\tthis.styleRow(rows[i], i);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tclearData(){\n\t\tthis.setData([]);\n\t}\n\t\n\tgetRowIndex(row){\n\t\treturn this.findRowIndex(row, this.rows);\n\t}\n\t\n\tgetDisplayRowIndex(row){\n\t\tvar index = this.getDisplayRows().indexOf(row);\n\t\treturn index > -1 ? index : false;\n\t}\n\t\n\tnextDisplayRow(row, rowOnly){\n\t\tvar index = this.getDisplayRowIndex(row),\n\t\tnextRow = false;\n\t\t\n\t\t\n\t\tif(index !== false && index < this.displayRowsCount -1){\n\t\t\tnextRow = this.getDisplayRows()[index+1];\n\t\t}\n\t\t\n\t\tif(nextRow && (!(nextRow instanceof Row) || nextRow.type != \"row\")){\n\t\t\treturn this.nextDisplayRow(nextRow, rowOnly);\n\t\t}\n\t\t\n\t\treturn nextRow;\n\t}\n\t\n\tprevDisplayRow(row, rowOnly){\n\t\tvar index = this.getDisplayRowIndex(row),\n\t\tprevRow = false;\n\t\t\n\t\tif(index){\n\t\t\tprevRow = this.getDisplayRows()[index-1];\n\t\t}\n\t\t\n\t\tif(rowOnly && prevRow && (!(prevRow instanceof Row) || prevRow.type != \"row\")){\n\t\t\treturn this.prevDisplayRow(prevRow, rowOnly);\n\t\t}\n\t\t\n\t\treturn prevRow;\n\t}\n\t\n\tfindRowIndex(row, list){\n\t\tvar rowIndex;\n\t\t\n\t\trow = this.findRow(row);\n\t\t\n\t\tif(row){\n\t\t\trowIndex = list.indexOf(row);\n\t\t\t\n\t\t\tif(rowIndex > -1){\n\t\t\t\treturn rowIndex;\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn false;\n\t}\n\t\n\tgetData(active, transform){\n\t\tvar output = [],\n\t\trows = this.getRows(active);\n\t\t\n\t\trows.forEach(function(row){\n\t\t\tif(row.type == \"row\"){\n\t\t\t\toutput.push(row.getData(transform || \"data\"));\n\t\t\t}\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetComponents(active){\n\t\tvar\toutput = [],\n\t\trows = this.getRows(active);\n\t\t\n\t\trows.forEach(function(row){\n\t\t\toutput.push(row.getComponent());\n\t\t});\n\t\t\n\t\treturn output;\n\t}\n\t\n\tgetDataCount(active){\n\t\tvar rows = this.getRows(active);\n\t\t\n\t\treturn rows.length;\n\t}\n\t\n\tscrollHorizontal(left){\n\t\tthis.scrollLeft = left;\n\t\tthis.element.scrollLeft = left;\n\t\t\n\t\tthis.dispatch(\"scroll-horizontal\", left);\n\t}\n\t\n\tregisterDataPipelineHandler(handler, priority){\n\t\tif(typeof priority !== \"undefined\"){\n\t\t\tthis.dataPipeline.push({handler, priority});\n\t\t\tthis.dataPipeline.sort((a, b) => {\n\t\t\t\treturn a.priority - b.priority;\n\t\t\t});\n\t\t}else{\n\t\t\tconsole.error(\"Data pipeline handlers must have a priority in order to be registered\");\n\t\t}\n\t}\n\t\n\tregisterDisplayPipelineHandler(handler, priority){\n\t\tif(typeof priority !== \"undefined\"){\n\t\t\tthis.displayPipeline.push({handler, priority});\n\t\t\tthis.displayPipeline.sort((a, b) => {\n\t\t\t\treturn a.priority - b.priority;\n\t\t\t});\n\t\t}else{\n\t\t\tconsole.error(\"Display pipeline handlers must have a priority in order to be registered\");\n\t\t}\n\t}\n\t\n\t//set active data set\n\trefreshActiveData(handler, skipStage, renderInPosition){\n\t\tvar table = this.table,\n\t\tstage = \"\",\n\t\tindex = 0,\n\t\tcascadeOrder = [\"all\", \"dataPipeline\", \"display\", \"displayPipeline\", \"end\"];\n\t\t\n\t\tif(!this.table.destroyed){\n\t\t\tif(typeof handler === \"function\"){\n\t\t\t\tindex = this.dataPipeline.findIndex((item) => {\n\t\t\t\t\treturn item.handler === handler;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif(index > -1){\n\t\t\t\t\tstage = \"dataPipeline\";\n\t\t\t\t\t\n\t\t\t\t\tif(skipStage){\n\t\t\t\t\t\tif(index == this.dataPipeline.length - 1){\n\t\t\t\t\t\t\tstage = \"display\";\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tindex++;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tindex = this.displayPipeline.findIndex((item) => {\n\t\t\t\t\t\treturn item.handler === handler;\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tif(index > -1){\n\t\t\t\t\t\tstage = \"displayPipeline\";\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(skipStage){\n\t\t\t\t\t\t\tif(index == this.displayPipeline.length - 1){\n\t\t\t\t\t\t\t\tstage = \"end\";\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tindex++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.error(\"Unable to refresh data, invalid handler provided\", handler);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tstage = handler || \"all\";\n\t\t\t\tindex = 0;\n\t\t\t}\n\t\t\t\n\t\t\tif(this.redrawBlock){\n\t\t\t\tif(!this.redrawBlockRestoreConfig || (this.redrawBlockRestoreConfig && ((this.redrawBlockRestoreConfig.stage === stage && index < this.redrawBlockRestoreConfig.index) || (cascadeOrder.indexOf(stage) < cascadeOrder.indexOf(this.redrawBlockRestoreConfig.stage))))){\n\t\t\t\t\tthis.redrawBlockRestoreConfig = {\n\t\t\t\t\t\thandler: handler,\n\t\t\t\t\t\tskipStage: skipStage,\n\t\t\t\t\t\trenderInPosition: renderInPosition,\n\t\t\t\t\t\tstage:stage,\n\t\t\t\t\t\tindex:index,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn;\n\t\t\t}else{\n\t\t\t\tif(Helpers.elVisible(this.element)){\n\t\t\t\t\tif(renderInPosition){\n\t\t\t\t\t\tthis.reRenderInPosition(this.refreshPipelines.bind(this, handler, stage, index, renderInPosition));\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.refreshPipelines(handler, stage, index, renderInPosition);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(!handler){\n\t\t\t\t\t\t\tthis.table.columnManager.renderer.renderColumns();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.renderTable();\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(table.options.layoutColumnsOnNewData){\n\t\t\t\t\t\t\tthis.table.columnManager.redraw(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tthis.refreshPipelines(handler, stage, index, renderInPosition);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.dispatch(\"data-refreshed\");\n\t\t\t}\n\t\t}\n\t}\n\t\n\trefreshPipelines(handler, stage, index, renderInPosition){\n\t\tthis.dispatch(\"data-refreshing\");\n\t\t\n\t\tif(!handler){\n\t\t\tthis.activeRowsPipeline[0] = this.rows.slice(0);\n\t\t}\n\t\t\n\t\t//cascade through data refresh stages\n\t\tswitch(stage){\n\t\t\tcase \"all\":\n\t\t\t//handle case where all data needs refreshing\n\t\t\t\n\t\t\tcase \"dataPipeline\":\n\t\t\t\n\t\t\t\tfor(let i = index; i < this.dataPipeline.length; i++){\n\t\t\t\t\tlet result = this.dataPipeline[i].handler(this.activeRowsPipeline[i].slice(0));\n\t\t\t\t\t\n\t\t\t\t\tthis.activeRowsPipeline[i + 1] = result || this.activeRowsPipeline[i].slice(0);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.setActiveRows(this.activeRowsPipeline[this.dataPipeline.length]);\n\t\t\t\t\n\t\t\tcase \"display\":\n\t\t\t\tindex = 0;\n\t\t\t\tthis.resetDisplayRows();\n\t\t\t\t\n\t\t\tcase \"displayPipeline\":\n\t\t\t\tfor(let i = index; i < this.displayPipeline.length; i++){\n\t\t\t\t\tlet result = this.displayPipeline[i].handler((i ? this.getDisplayRows(i - 1) : this.activeRows).slice(0), renderInPosition);\n\n\t\t\t\t\tthis.setDisplayRows(result || this.getDisplayRows(i - 1).slice(0), i);\n\t\t\t\t}\n\t\t\t\n\t\t\tcase \"end\":\n\t\t\t\t//case to handle scenario when trying to skip past end stage\n\t\t\t\tthis.regenerateRowPositions();\n\t\t}\n\n\t\tif(this.getDisplayRows().length){\n\t\t\tthis._clearPlaceholder();\n\t\t}\n\t}\n\t\n\t//regenerate row positions\n\tregenerateRowPositions(){\n\t\tvar rows = this.getDisplayRows();\n\t\tvar index = 1;\n\t\t\n\t\trows.forEach((row) => {\n\t\t\tif (row.type === \"row\"){\n\t\t\t\trow.setPosition(index);\n\t\t\t\tindex++;\n\t\t\t}\n\t\t});\n\t}\n\t\n\tsetActiveRows(activeRows){\n\t\tthis.activeRows = this.activeRows = Object.assign([], activeRows);\n\t\tthis.activeRowsCount = this.activeRows.length;\n\t}\n\t\n\t//reset display rows array\n\tresetDisplayRows(){\n\t\tthis.displayRows = [];\n\t\t\n\t\tthis.displayRows.push(this.activeRows.slice(0));\n\t\t\n\t\tthis.displayRowsCount = this.displayRows[0].length;\n\t}\n\t\n\t//set display row pipeline data\n\tsetDisplayRows(displayRows, index){\n\t\tthis.displayRows[index] = displayRows;\n\n\t\tif(index == this.displayRows.length -1){\n\t\t\tthis.displayRowsCount = this.displayRows[this.displayRows.length -1].length;\n\t\t}\n\t}\n\t\n\tgetDisplayRows(index){\n\t\tif(typeof index == \"undefined\"){\n\t\t\treturn this.displayRows.length ? this.displayRows[this.displayRows.length -1] : [];\n\t\t}else{\n\t\t\treturn this.displayRows[index] || [];\n\t\t}\n\t}\n\t\n\tgetVisibleRows(chain, viewable){\n\t\tvar rows =  Object.assign([], this.renderer.visibleRows(!viewable));\n\t\t\n\t\tif(chain){\n\t\t\trows = this.chain(\"rows-visible\", [viewable], rows, rows);\n\t\t}\n\t\t\n\t\treturn rows;\n\t}\n\t\n\t//repeat action across display rows\n\tdisplayRowIterator(callback){\n\t\tthis.activeRowsPipeline.forEach(callback);\n\t\tthis.displayRows.forEach(callback);\n\t\t\n\t\tthis.displayRowsCount = this.displayRows[this.displayRows.length -1].length;\n\t}\n\t\n\t//return only actual rows (not group headers etc)\n\tgetRows(type){\n\t\tvar rows = [];\n\n\t\tswitch(type){\n\t\t\tcase \"active\":\n\t\t\t\trows = this.activeRows;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"display\":\n\t\t\t\trows = this.table.rowManager.getDisplayRows();\n\t\t\t\tbreak;\n\t\t\t\t\n\t\t\tcase \"visible\":\n\t\t\t\trows = this.getVisibleRows(false, true);\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\trows = this.chain(\"rows-retrieve\", type, null, this.rows) || this.rows;\n\t\t}\n\t\t\n\t\treturn rows;\n\t}\n\t\n\t///////////////// Table Rendering /////////////////\n\t//trigger rerender of table in current position\n\treRenderInPosition(callback){\n\t\tif(this.redrawBlock){\n\t\t\tif(callback){\n\t\t\t\tcallback();\n\t\t\t}else{\n\t\t\t\tthis.redrawBlockRenderInPosition = true;\n\t\t\t}\n\t\t}else{\n\t\t\tthis.dispatchExternal(\"renderStarted\");\n\t\t\t\n\t\t\tthis.renderer.rerenderRows(callback);\n\n\t\t\tif(!this.fixedHeight){\n\t\t\t\tthis.adjustTableSize();\n\t\t\t}\n\n\t\t\tthis.scrollBarCheck();\n\t\t\t\n\t\t\tthis.dispatchExternal(\"renderComplete\");\n\t\t}\n\t}\n\n\tscrollBarCheck(){\n\t\tvar scrollbarWidth = 0;\n\n\t\t//adjust for vertical scrollbar moving table when present\n\t\tif(this.element.scrollHeight > this.element.clientHeight){\n\t\t\tscrollbarWidth = this.element.offsetWidth - this.element.clientWidth;\n\t\t}\n\n\t\tif(scrollbarWidth !== this.scrollbarWidth){\n\t\t\tthis.scrollbarWidth = scrollbarWidth;\n\t\t\tthis.dispatch(\"scrollbar-vertical\", scrollbarWidth);\n\t\t}\n\t}\n\t\n\tinitializeRenderer(){\n\t\tvar renderClass;\n\t\t\n\t\tvar renderers = {\n\t\t\t\"virtual\": RendererVirtualDomVertical,\n\t\t\t\"basic\": RendererBasicVertical,\n\t\t};\n\t\t\n\t\tif(typeof this.table.options.renderVertical === \"string\"){\n\t\t\trenderClass = renderers[this.table.options.renderVertical];\n\t\t}else{\n\t\t\trenderClass = this.table.options.renderVertical;\n\t\t}\n\t\t\n\t\tif(renderClass){\n\t\t\tthis.renderMode = this.table.options.renderVertical;\n\t\t\t\n\t\t\tthis.renderer = new renderClass(this.table, this.element, this.tableElement);\n\t\t\tthis.renderer.initialize();\n\t\t\t\n\t\t\tif((this.table.element.clientHeight || this.table.options.height) && !(this.table.options.minHeight && this.table.options.maxHeight)){\n\t\t\t\tthis.fixedHeight = true;\n\t\t\t}else{\n\t\t\t\tthis.fixedHeight = false;\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.error(\"Unable to find matching renderer:\", this.table.options.renderVertical);\n\t\t}\n\t}\n\t\n\tgetRenderMode(){\n\t\treturn this.renderMode;\n\t}\n\t\n\trenderTable(){\n\t\tthis.dispatchExternal(\"renderStarted\");\n\t\t\n\t\tthis.element.scrollTop = 0;\n\t\t\n\t\tthis._clearTable();\n\t\t\n\t\tif(this.displayRowsCount){\n\t\t\tthis.renderer.renderRows();\n\t\t\t\n\t\t\tif(this.firstRender){\n\t\t\t\tthis.firstRender = false;\n\n\t\t\t\tif(!this.fixedHeight){\n\t\t\t\t\tthis.adjustTableSize();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.layoutRefresh(true);\n\t\t\t}\n\t\t}else{\n\t\t\tthis.renderEmptyScroll();\n\t\t}\n\t\t\n\t\tif(!this.fixedHeight){\n\t\t\tthis.adjustTableSize();\n\t\t}\n\t\t\n\t\tthis.dispatch(\"table-layout\");\n\t\t\n\t\tif(!this.displayRowsCount){\n\t\t\tthis._showPlaceholder();\n\t\t}\n\n\t\tthis.scrollBarCheck();\n\t\t\n\t\tthis.dispatchExternal(\"renderComplete\");\n\t}\n\t\n\t//show scrollbars on empty table div\n\trenderEmptyScroll(){\n\t\tif(this.placeholder){\n\t\t\tthis.tableElement.style.display = \"none\";\n\t\t}else{\n\t\t\tthis.tableElement.style.minWidth = this.table.columnManager.getWidth() + \"px\";\n\t\t\t// this.tableElement.style.minHeight = \"1px\";\n\t\t\t// this.tableElement.style.visibility = \"hidden\";\n\t\t}\n\t}\n\t\n\t_clearTable(){\t\n\t\tthis._clearPlaceholder();\n\t\t\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\t\t\n\t\tthis.renderer.clearRows();\n\t}\n\n\ttableEmpty(){\n\t\tthis.renderEmptyScroll();\n\t\tthis._showPlaceholder();\n\t}\n\t\n\t_showPlaceholder(){\n\t\tif(this.placeholder){\n\t\t\tthis.placeholder.setAttribute(\"tabulator-render-mode\", this.renderMode);\n\t\t\t\n\t\t\tthis.getElement().appendChild(this.placeholder);\n\t\t\tthis._positionPlaceholder();\n\t\t}\n\t}\n\t\n\t_clearPlaceholder(){\n\t\tif(this.placeholder && this.placeholder.parentNode){\n\t\t\tthis.placeholder.parentNode.removeChild(this.placeholder);\n\t\t}\n\n\t\t// clear empty table placeholder min\n\t\tthis.tableElement.style.minWidth = \"\";\n\t\tthis.tableElement.style.display = \"\";\n\t}\n\t\n\t_positionPlaceholder(){\n\t\tif(this.placeholder && this.placeholder.parentNode){\n\t\t\tthis.placeholder.style.width = this.table.columnManager.getWidth() + \"px\";\n\t\t\tthis.placeholderContents.style.width = this.table.rowManager.element.clientWidth + \"px\";\n\t\t\tthis.placeholderContents.style.marginLeft = this.scrollLeft + \"px\";\n\t\t}\n\t}\n\t\n\tstyleRow(row, index){\n\t\tvar rowEl = row.getElement();\n\t\t\n\t\tif(index % 2){\n\t\t\trowEl.classList.add(\"tabulator-row-even\");\n\t\t\trowEl.classList.remove(\"tabulator-row-odd\");\n\t\t}else{\n\t\t\trowEl.classList.add(\"tabulator-row-odd\");\n\t\t\trowEl.classList.remove(\"tabulator-row-even\");\n\t\t}\n\t}\n\t\n\t//normalize height of active rows\n\tnormalizeHeight(){\n\t\tthis.activeRows.forEach(function(row){\n\t\t\trow.normalizeHeight();\n\t\t});\n\t}\n\t\n\t//adjust the height of the table holder to fit in the Tabulator element\n\tadjustTableSize(){\n\t\tvar initialHeight = this.element.clientHeight, minHeight;\n\t\t\n\t\tif(this.renderer.verticalFillMode === \"fill\"){\n\t\t\tlet otherHeight =  Math.floor(this.table.columnManager.getElement().getBoundingClientRect().height + (this.table.footerManager && this.table.footerManager.active && !this.table.footerManager.external ? this.table.footerManager.getElement().getBoundingClientRect().height : 0));\n\t\t\t\n\t\t\tif(this.fixedHeight){\n\t\t\t\tminHeight = isNaN(this.table.options.minHeight) ? this.table.options.minHeight : this.table.options.minHeight + \"px\";\n\t\t\t\t\n\t\t\t\tthis.element.style.minHeight = minHeight || \"calc(100% - \" + otherHeight + \"px)\";\n\t\t\t\tthis.element.style.height = \"calc(100% - \" + otherHeight + \"px)\";\n\t\t\t\tthis.element.style.maxHeight = \"calc(100% - \" + otherHeight + \"px)\";\n\t\t\t}else{\n\t\t\t\tthis.element.style.height = \"\";\n\t\t\t\tthis.element.style.height = (this.table.element.clientHeight - otherHeight) + \"px\";\n\t\t\t\tthis.element.scrollTop = this.scrollTop;\n\t\t\t}\n\t\t\t\n\t\t\tthis.renderer.resize();\n\t\t\t\n\t\t\t//check if the table has changed size when dealing with variable height tables\n\t\t\tif(!this.fixedHeight && initialHeight != this.element.clientHeight){\n\t\t\t\tif(this.subscribed(\"table-resize\")){\n\t\t\t\t\tthis.dispatch(\"table-resize\");\n\t\t\t\t}else{\n\t\t\t\t\tthis.redraw();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.scrollBarCheck();\n\t\t}\n\t\t\n\t\tthis._positionPlaceholder();\n\t}\n\t\n\t//reinitialize all rows\n\treinitialize(){\n\t\tthis.rows.forEach(function(row){\n\t\t\trow.reinitialize(true);\n\t\t});\n\t}\n\t\n\t//prevent table from being redrawn\n\tblockRedraw (){\n\t\tthis.redrawBlock = true;\n\t\tthis.redrawBlockRestoreConfig = false;\n\t}\n\t\n\t//restore table redrawing\n\trestoreRedraw (){\n\t\tthis.redrawBlock = false;\n\t\t\n\t\tif(this.redrawBlockRestoreConfig){\n\t\t\tthis.refreshActiveData(this.redrawBlockRestoreConfig.handler, this.redrawBlockRestoreConfig.skipStage, this.redrawBlockRestoreConfig.renderInPosition);\n\t\t\t\n\t\t\tthis.redrawBlockRestoreConfig = false;\n\t\t}else{\n\t\t\tif(this.redrawBlockRenderInPosition){\n\t\t\t\tthis.reRenderInPosition();\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.redrawBlockRenderInPosition = false;\n\t}\n\t\n\t//redraw table\n\tredraw (force){\n\t\tvar left = this.scrollLeft;\n\t\t\n\t\tthis.adjustTableSize();\n\t\t\n\t\tthis.table.tableWidth = this.table.element.clientWidth;\n\t\t\n\t\tif(!force){\n\t\t\tthis.reRenderInPosition();\n\t\t\tthis.scrollHorizontal(left);\n\t\t}else{\n\t\t\tthis.renderTable();\n\t\t}\n\t}\n\t\n\tresetScroll(){\n\t\tthis.element.scrollLeft = 0;\n\t\tthis.element.scrollTop = 0;\n\t\t\n\t\tif(this.table.browser === \"ie\"){\n\t\t\tvar event = document.createEvent(\"Event\");\n\t\t\tevent.initEvent(\"scroll\", false, true);\n\t\t\tthis.element.dispatchEvent(event);\n\t\t}else{\n\t\t\tthis.element.dispatchEvent(new Event('scroll'));\n\t\t}\n\t}\n}\n","import CoreFeature from './CoreFeature.js';\n\nexport default class FooterManager extends CoreFeature{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.active = false;\n\t\tthis.element = this.createElement(); //containing element\n\t\tthis.containerElement = this.createContainerElement(); //containing element\n\t\tthis.external = false;\n\t}\n\n\tinitialize(){\n\t\tthis.initializeElement();\n\t}\n\n\tcreateElement(){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-footer\");\n\n\t\treturn el;\n\t}\n\n\t\n\tcreateContainerElement(){\n\t\tvar el = document.createElement(\"div\");\n\n\t\tel.classList.add(\"tabulator-footer-contents\");\n\n\t\tthis.element.appendChild(el);\n\n\t\treturn el;\n\t}\n\n\tinitializeElement(){\n\t\tif(this.table.options.footerElement){\n\n\t\t\tswitch(typeof this.table.options.footerElement){\n\t\t\t\tcase \"string\":\n\t\t\t\t\tif(this.table.options.footerElement[0] === \"<\"){\n\t\t\t\t\t\tthis.containerElement.innerHTML = this.table.options.footerElement;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.external = true;\n\t\t\t\t\t\tthis.containerElement = document.querySelector(this.table.options.footerElement);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthis.element = this.table.options.footerElement;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tgetElement(){\n\t\treturn this.element;\n\t}\n\n\tappend(element){\n\t\tthis.activate();\n\n\t\tthis.containerElement.appendChild(element);\n\t\tthis.table.rowManager.adjustTableSize();\n\t}\n\n\tprepend(element){\n\t\tthis.activate();\n\n\t\tthis.element.insertBefore(element, this.element.firstChild);\n\t\tthis.table.rowManager.adjustTableSize();\n\t}\n\n\tremove(element){\n\t\telement.parentNode.removeChild(element);\n\t\tthis.deactivate();\n\t}\n\n\tdeactivate(force){\n\t\tif(!this.element.firstChild || force){\n\t\t\tif(!this.external){\n\t\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t\t}\n\t\t\tthis.active = false;\n\t\t}\n\t}\n\n\tactivate(){\n\t\tif(!this.active){\n\t\t\tthis.active = true;\n\t\t\tif(!this.external){\n\t\t\t\tthis.table.element.appendChild(this.getElement());\n\t\t\t\tthis.table.element.style.display = '';\n\t\t\t}\n\t\t}\n\t}\n\n\tredraw(){\n\t\tthis.dispatch(\"footer-redraw\");\n\t}\n}","import CoreFeature from '../CoreFeature.js';\nimport Row from '../row/Row.js';\n\nexport default class InteractionManager extends CoreFeature {\n\t\n\tconstructor (table){\n\t\tsuper(table);\n\t\t\n\t\tthis.el = null;\n\t\t\n\t\tthis.abortClasses = [\"tabulator-headers\", \"tabulator-table\"];\n\t\t\n\t\tthis.previousTargets = {};\n\t\t\n\t\tthis.listeners = [\n\t\t\t\"click\",\n\t\t\t\"dblclick\",\n\t\t\t\"contextmenu\",\n\t\t\t\"mouseenter\",\n\t\t\t\"mouseleave\",\n\t\t\t\"mouseover\",\n\t\t\t\"mouseout\",\n\t\t\t\"mousemove\",\n\t\t\t\"mouseup\",\n\t\t\t\"mousedown\",\n\t\t\t\"touchstart\",\n\t\t\t\"touchend\",\n\t\t];\n\t\t\n\t\tthis.componentMap = {\n\t\t\t\"tabulator-cell\":\"cell\",\n\t\t\t\"tabulator-row\":\"row\",\n\t\t\t\"tabulator-group\":\"group\",\n\t\t\t\"tabulator-col\":\"column\",\n\t\t};\n\t\t\n\t\tthis.pseudoTrackers = {\n\t\t\t\"row\":{\n\t\t\t\tsubscriber:null,\n\t\t\t\ttarget:null,\n\t\t\t},\n\t\t\t\"cell\":{\n\t\t\t\tsubscriber:null,\n\t\t\t\ttarget:null,\n\t\t\t},\n\t\t\t\"group\":{\n\t\t\t\tsubscriber:null,\n\t\t\t\ttarget:null,\n\t\t\t},\n\t\t\t\"column\":{\n\t\t\t\tsubscriber:null,\n\t\t\t\ttarget:null,\n\t\t\t},\n\t\t};\n\t\t\n\t\tthis.pseudoTracking = false;\n\t}\n\t\n\tinitialize(){\n\t\tthis.el = this.table.element;\n\t\t\n\t\tthis.buildListenerMap();\n\t\tthis.bindSubscriptionWatchers();\n\t}\n\t\n\tbuildListenerMap(){\n\t\tvar listenerMap = {};\n\t\t\n\t\tthis.listeners.forEach((listener) => {\n\t\t\tlistenerMap[listener] = {\n\t\t\t\thandler:null,\n\t\t\t\tcomponents:[],\n\t\t\t};\n\t\t});\n\t\t\n\t\tthis.listeners = listenerMap;\n\t}\n\t\n\tbindPseudoEvents(){\n\t\tObject.keys(this.pseudoTrackers).forEach((key) => {\n\t\t\tthis.pseudoTrackers[key].subscriber = this.pseudoMouseEnter.bind(this, key);\n\t\t\tthis.subscribe(key + \"-mouseover\", this.pseudoTrackers[key].subscriber);\n\t\t});\n\t\t\n\t\tthis.pseudoTracking = true;\n\t}\n\t\n\tpseudoMouseEnter(key, e, target){\n\t\tif(this.pseudoTrackers[key].target !== target){\n\t\t\t\n\t\t\tif(this.pseudoTrackers[key].target){\n\t\t\t\tthis.dispatch(key + \"-mouseleave\", e, this.pseudoTrackers[key].target);\n\t\t\t}\n\t\t\t\n\t\t\tthis.pseudoMouseLeave(key, e);\n\t\t\t\n\t\t\tthis.pseudoTrackers[key].target = target;\n\t\t\t\n\t\t\tthis.dispatch(key + \"-mouseenter\", e, target);\n\t\t}\n\t}\n\t\n\tpseudoMouseLeave(key, e){\n\t\tvar leaveList = Object.keys(this.pseudoTrackers),\n\t\tlinkedKeys = {\n\t\t\t\"row\":[\"cell\"],\n\t\t\t\"cell\":[\"row\"],\n\t\t};\n\t\t\n\t\tleaveList = leaveList.filter((item) => {\n\t\t\tvar links = linkedKeys[key];\n\t\t\treturn item !== key && (!links || (links && !links.includes(item)));\n\t\t});\n\t\t\n\t\t\n\t\tleaveList.forEach((key) => {\n\t\t\tvar target = this.pseudoTrackers[key].target;\n\t\t\t\n\t\t\tif(this.pseudoTrackers[key].target){\n\t\t\t\tthis.dispatch(key + \"-mouseleave\", e, target);\n\t\t\t\t\n\t\t\t\tthis.pseudoTrackers[key].target = null;\n\t\t\t}\n\t\t});\n\t}\n\t\n\t\n\tbindSubscriptionWatchers(){\n\t\tvar listeners = Object.keys(this.listeners),\n\t\tcomponents = Object.values(this.componentMap);\n\t\t\n\t\tfor(let comp of components){\n\t\t\tfor(let listener of listeners){\n\t\t\t\tlet key = comp + \"-\" + listener;\n\t\t\t\t\n\t\t\t\tthis.subscriptionChange(key, this.subscriptionChanged.bind(this, comp, listener));\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.subscribe(\"table-destroy\", this.clearWatchers.bind(this));\n\t}\n\t\n\tsubscriptionChanged(component, key, added){\n\t\tvar listener = this.listeners[key].components,\n\t\tindex = listener.indexOf(component),\n\t\tchanged = false;\n\t\t\n\t\tif(added){\n\t\t\tif(index === -1){\n\t\t\t\tlistener.push(component);\n\t\t\t\tchanged = true;\n\t\t\t}\n\t\t}else{\n\t\t\tif(!this.subscribed(component + \"-\" + key)){\n\t\t\t\tif(index > -1){\n\t\t\t\t\tlistener.splice(index, 1);\n\t\t\t\t\tchanged = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif((key === \"mouseenter\" || key === \"mouseleave\") && !this.pseudoTracking){\n\t\t\tthis.bindPseudoEvents();\n\t\t}\n\t\t\n\t\tif(changed){\n\t\t\tthis.updateEventListeners();\n\t\t}\n\t}\n\t\n\tupdateEventListeners(){\n\t\tfor(let key in this.listeners){\n\t\t\tlet listener = this.listeners[key];\n\t\t\t\n\t\t\tif(listener.components.length){\n\t\t\t\tif(!listener.handler){\n\t\t\t\t\tlistener.handler = this.track.bind(this, key);\n\t\t\t\t\tthis.el.addEventListener(key, listener.handler);\n\t\t\t\t\t// this.el.addEventListener(key, listener.handler, {passive: true})\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(listener.handler){\n\t\t\t\t\tthis.el.removeEventListener(key, listener.handler);\n\t\t\t\t\tlistener.handler = null;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\ttrack(type, e){\n\t\tvar path = (e.composedPath && e.composedPath()) || e.path;\n\t\t\n\t\tvar targets = this.findTargets(path);\n\t\ttargets = this.bindComponents(type, targets);\n\t\t\n\t\tthis.triggerEvents(type, e, targets);\n\t\t\n\t\tif(this.pseudoTracking && (type == \"mouseover\" || type == \"mouseleave\") && !Object.keys(targets).length){\n\t\t\tthis.pseudoMouseLeave(\"none\", e);\n\t\t}\n\t}\n\t\n\tfindTargets(path){\n\t\tvar targets = {};\n\t\t\n\t\tlet componentMap = Object.keys(this.componentMap);\n\t\t\n\t\tfor (let el of path) {\n\t\t\tlet classList = el.classList ? [...el.classList] : [];\n\t\t\t\n\t\t\tlet abort = classList.filter((item) => {\n\t\t\t\treturn this.abortClasses.includes(item);\n\t\t\t});\n\t\t\t\n\t\t\tif(abort.length){\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\t\n\t\t\tlet elTargets = classList.filter((item) => {\n\t\t\t\treturn componentMap.includes(item);\n\t\t\t});\n\t\t\t\n\t\t\tfor (let target of elTargets) {\n\t\t\t\tif(!targets[this.componentMap[target]]){\n\t\t\t\t\ttargets[this.componentMap[target]] = el;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(targets.group && targets.group === targets.row){\n\t\t\tdelete targets.row;\n\t\t}\n\t\t\n\t\treturn targets;\n\t}\n\t\n\tbindComponents(type, targets){\n\t\t//ensure row component is looked up before cell\n\t\tvar keys = Object.keys(targets).reverse(),\n\t\tlistener = this.listeners[type],\n\t\tmatches = {},\n\t\ttargetMatches = {};\n\t\t\n\t\tfor(let key of keys){\n\t\t\tlet component,\n\t\t\ttarget = targets[key],\n\t\t\tpreviousTarget = this.previousTargets[key];\n\t\t\t\n\t\t\tif(previousTarget && previousTarget.target === target){\n\t\t\t\tcomponent = previousTarget.component;\n\t\t\t}else{\n\t\t\t\tswitch(key){\n\t\t\t\t\tcase \"row\":\n\t\t\t\t\tcase \"group\":\n\t\t\t\t\t\tif(listener.components.includes(\"row\") || listener.components.includes(\"cell\") || listener.components.includes(\"group\")){\n\t\t\t\t\t\t\tlet rows = this.table.rowManager.getVisibleRows(true);\n\t\t\t\t\t\t\n\t\t\t\t\t\t\tcomponent = rows.find((row) => {\n\t\t\t\t\t\t\t\treturn row.getElement() === target;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(targets[\"row\"] && targets[\"row\"].parentNode && targets[\"row\"].parentNode.closest(\".tabulator-row\")){\n\t\t\t\t\t\t\t\ttargets[key] = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"column\":\n\t\t\t\t\t\tif(listener.components.includes(\"column\")){\n\t\t\t\t\t\t\tcomponent = this.table.columnManager.findColumn(target);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase \"cell\":\n\t\t\t\t\t\tif(listener.components.includes(\"cell\")){\n\t\t\t\t\t\t\tif(matches[\"row\"] instanceof Row){\n\t\t\t\t\t\t\t\tcomponent = matches[\"row\"].findCell(target);\n\t\t\t\t\t\t\t}else{\t\n\t\t\t\t\t\t\t\tif(targets[\"row\"]){\n\t\t\t\t\t\t\t\t\tconsole.warn(\"Event Target Lookup Error - The row this cell is attached to cannot be found, has the table been reinitialized without being destroyed first?\");\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(component){\n\t\t\t\tmatches[key] = component;\n\t\t\t\ttargetMatches[key] = {\n\t\t\t\t\ttarget:target,\n\t\t\t\t\tcomponent:component,\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\t\n\t\tthis.previousTargets = targetMatches;\n\t\t\n\t\treturn matches;\n\t}\n\t\n\ttriggerEvents(type, e, targets){\n\t\tvar listener = this.listeners[type];\n\n\t\tfor(let key in targets){\n\t\t\tif(targets[key] && listener.components.includes(key)){\n\t\t\t\tthis.dispatch(key + \"-\" + type, e, targets[key]);\n\t\t\t}\n\t\t}\n\t}\n\t\n\tclearWatchers(){\n\t\tfor(let key in this.listeners){\n\t\t\tlet listener = this.listeners[key];\n\t\t\t\n\t\t\tif(listener.handler){\n\t\t\t\tthis.el.removeEventListener(key, listener.handler);\n\t\t\t\tlistener.handler = null;\n\t\t\t}\n\t\t}\n\t}\n}","export default class ComponentFunctionBinder{\n\n\tconstructor(table){\n\t\tthis.table = table;\n\n\t\tthis.bindings = {};\n\t}\n\n\tbind(type, funcName, handler){\n\t\tif(!this.bindings[type]){\n\t\t\tthis.bindings[type] = {};\n\t\t}\n\n\t\tif(this.bindings[type][funcName]){\n\t\t\tconsole.warn(\"Unable to bind component handler, a matching function name is already bound\", type, funcName, handler);\n\t\t}else{\n\t\t\tthis.bindings[type][funcName] = handler;\n\t\t}\n\t}\n\n\thandle(type, component, name){\n\t\tif(this.bindings[type] && this.bindings[type][name] && typeof this.bindings[type][name].bind === 'function'){\n\t\t\treturn this.bindings[type][name].bind(null, component);\n\t\t}else{\n\t\t\tif(name !== \"then\" && typeof name === \"string\" && !name.startsWith(\"_\")){\n\t\t\t\tif(this.table.options.debugInvalidComponentFuncs){\n\t\t\t\t\tconsole.error(\"The \" + type + \" component does not have a \" + name + \" function, have you checked that you have the correct Tabulator module installed?\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n","import CoreFeature from '../CoreFeature.js';\n\nexport default class DataLoader extends CoreFeature{\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.requestOrder = 0; //prevent requests coming out of sequence if overridden by another load request\n\t\tthis.loading = false;\n\t}\n\n\tinitialize(){}\n\n\tload(data, params, config, replace, silent, columnsChanged){\n\t\tvar requestNo = ++this.requestOrder;\n\n\t\tthis.dispatchExternal(\"dataLoading\", data);\n\n\t\t//parse json data to array\n\t\tif (data && (data.indexOf(\"{\") == 0 || data.indexOf(\"[\") == 0)){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\n\t\tif(this.confirm(\"data-loading\", [data, params, config, silent])){\n\t\t\tthis.loading = true;\n\n\t\t\tif(!silent){\n\t\t\t\tthis.alertLoader();\n\t\t\t}\n\n\t\t\t//get params for request\n\t\t\tparams = this.chain(\"data-params\", [data, config, silent], params || {}, params || {});\n\n\t\t\tparams = this.mapParams(params, this.table.options.dataSendParams);\n\n\t\t\tvar result = this.chain(\"data-load\", [data, params, config, silent], false, Promise.resolve([]));\n\t\t\t\n\t\t\treturn result.then((response) => {\n\t\t\t\tif(!Array.isArray(response) && typeof response == \"object\"){\n\t\t\t\t\tresponse = this.mapParams(response, this.objectInvert(this.table.options.dataReceiveParams));\n\t\t\t\t}\n\n\t\t\t\tvar rowData = this.chain(\"data-loaded\", response, null, response);\n\n\t\t\t\tif(requestNo == this.requestOrder){\n\t\t\t\t\tthis.clearAlert();\n\n\t\t\t\t\tif(rowData !== false){\n\t\t\t\t\t\tthis.dispatchExternal(\"dataLoaded\", rowData);\n\t\t\t\t\t\tthis.table.rowManager.setData(rowData,  replace, typeof columnsChanged === \"undefined\" ? !replace : columnsChanged);\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Data Load Response Blocked - An active data load request was blocked by an attempt to change table data while the request was being made\");\n\t\t\t\t}\n\t\t\t}).catch((error) => {\n\t\t\t\tconsole.error(\"Data Load Error: \", error);\n\t\t\t\tthis.dispatchExternal(\"dataLoadError\", error);\n\n\t\t\t\tif(!silent){\n\t\t\t\t\tthis.alertError();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.clearAlert();\n\t\t\t\t}, this.table.options.dataLoaderErrorTimeout);\n\t\t\t})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t});\n\t\t}else{\n\t\t\tthis.dispatchExternal(\"dataLoaded\", data);\n\n\t\t\tif(!data){\n\t\t\t\tdata = [];\n\t\t\t}\n\n\t\t\tthis.table.rowManager.setData(data, replace, typeof columnsChanged === \"undefined\" ? !replace : columnsChanged);\n\t\t\treturn Promise.resolve();\n\t\t}\n\t}\n\n\tmapParams(params, map){\n\t\tvar output = {};\n\n\t\tfor(let key in params){\n\t\t\toutput[map.hasOwnProperty(key) ? map[key] : key] = params[key];\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tobjectInvert(obj){\n\t\tvar output = {};\n\n\t\tfor(let key in obj){\n\t\t\toutput[obj[key]] = key;\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tblockActiveLoad(){\n\t\tthis.requestOrder++;\n\t}\n\n\talertLoader(){\n\t\tvar shouldLoad = typeof this.table.options.dataLoader === \"function\" ? this.table.options.dataLoader() : this.table.options.dataLoader;\n\n\t\tif(shouldLoad){\n\t\t\tthis.table.alertManager.alert(this.table.options.dataLoaderLoading || this.langText(\"data|loading\"));\n\t\t}\n\t}\n\n\talertError(){\n\t\tthis.table.alertManager.alert(this.table.options.dataLoaderError || this.langText(\"data|error\"), \"error\");\n\t}\n\n\tclearAlert(){\n\t\tthis.table.alertManager.clear();\n\t}\n}","export default class ExternalEventBus {\n\n\tconstructor(table, optionsList, debug){\n\t\tthis.table = table;\n\t\tthis.events = {};\n\t\tthis.optionsList = optionsList || {};\n\t\tthis.subscriptionNotifiers = {};\n\n\t\tthis.dispatch = debug ? this._debugDispatch.bind(this) : this._dispatch.bind(this);\n\t\tthis.debug = debug;\n\t}\n\n\tsubscriptionChange(key, callback){\n\t\tif(!this.subscriptionNotifiers[key]){\n\t\t\tthis.subscriptionNotifiers[key] = [];\n\t\t}\n\n\t\tthis.subscriptionNotifiers[key].push(callback);\n\n\t\tif(this.subscribed(key)){\n\t\t\tthis._notifySubscriptionChange(key, true);\n\t\t}\n\t}\n\n\tsubscribe(key, callback){\n\t\tif(!this.events[key]){\n\t\t\tthis.events[key] = [];\n\t\t}\n\n\t\tthis.events[key].push(callback);\n\n\t\tthis._notifySubscriptionChange(key, true);\n\t}\n\n\tunsubscribe(key, callback){\n\t\tvar index;\n\n\t\tif(this.events[key]){\n\t\t\tif(callback){\n\t\t\t\tindex = this.events[key].findIndex((item) => {\n\t\t\t\t\treturn item === callback;\n\t\t\t\t});\n\n\t\t\t\tif(index > -1){\n\t\t\t\t\tthis.events[key].splice(index, 1);\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Cannot remove event, no matching event found:\", key, callback);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tdelete this.events[key];\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.warn(\"Cannot remove event, no events set on:\", key);\n\t\t\treturn;\n\t\t}\n\n\t\tthis._notifySubscriptionChange(key, false);\n\t}\n\n\tsubscribed(key){\n\t\treturn this.events[key] && this.events[key].length;\n\t}\n\n\t_notifySubscriptionChange(key, subscribed){\n\t\tvar notifiers = this.subscriptionNotifiers[key];\n\n\t\tif(notifiers){\n\t\t\tnotifiers.forEach((callback)=>{\n\t\t\t\tcallback(subscribed);\n\t\t\t});\n\t\t}\n\t}\n\n\t_dispatch(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args.shift(),\n\t\tresult;\n\n\t\tif(this.events[key]){\n\t\t\tthis.events[key].forEach((callback, i) => {\n\t\t\t\tlet callResult = callback.apply(this.table, args);\n\n\t\t\t\tif(!i){\n\t\t\t\t\tresult = callResult;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t_debugDispatch(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args[0];\n\n\t\targs[0] = \"ExternalEvent:\" + args[0];\n\n\t\tif(this.debug === true || this.debug.includes(key)){\n\t\t\tconsole.log(...args);\n\t\t}\n\n\t\treturn this._dispatch(...arguments);\n\t}\n}","export default class InternalEventBus {\n\n\tconstructor(debug){\n\t\tthis.events = {};\n\t\tthis.subscriptionNotifiers = {};\n\n\t\tthis.dispatch = debug ? this._debugDispatch.bind(this) : this._dispatch.bind(this);\n\t\tthis.chain = debug ? this._debugChain.bind(this) : this._chain.bind(this);\n\t\tthis.confirm = debug ? this._debugConfirm.bind(this) : this._confirm.bind(this);\n\t\tthis.debug = debug;\n\t}\n\n\tsubscriptionChange(key, callback){\n\t\tif(!this.subscriptionNotifiers[key]){\n\t\t\tthis.subscriptionNotifiers[key] = [];\n\t\t}\n\n\t\tthis.subscriptionNotifiers[key].push(callback);\n\n\t\tif(this.subscribed(key)){\n\t\t\tthis._notifySubscriptionChange(key, true);\n\t\t}\n\t}\n\n\tsubscribe(key, callback, priority = 10000){\n\t\tif(!this.events[key]){\n\t\t\tthis.events[key] = [];\n\t\t}\n\n\t\tthis.events[key].push({callback, priority});\n\n\t\tthis.events[key].sort((a, b) => {\n\t\t\treturn a.priority - b.priority;\n\t\t});\n\n\t\tthis._notifySubscriptionChange(key, true);\n\t}\n\n\tunsubscribe(key, callback){\n\t\tvar index;\n\n\t\tif(this.events[key]){\n\t\t\tif(callback){\n\t\t\t\tindex = this.events[key].findIndex((item) => {\n\t\t\t\t\treturn item.callback === callback;\n\t\t\t\t});\n\n\t\t\t\tif(index > -1){\n\t\t\t\t\tthis.events[key].splice(index, 1);\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Cannot remove event, no matching event found:\", key, callback);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.warn(\"Cannot remove event, no events set on:\", key);\n\t\t\treturn;\n\t\t}\n\n\t\tthis._notifySubscriptionChange(key, false);\n\t}\n\n\tsubscribed(key){\n\t\treturn this.events[key] && this.events[key].length;\n\t}\n\n\t_chain(key, args, initialValue, fallback){\n\t\tvar value = initialValue;\n\n\t\tif(!Array.isArray(args)){\n\t\t\targs = [args];\n\t\t}\n\n\t\tif(this.subscribed(key)){\n\t\t\tthis.events[key].forEach((subscriber, i) => {\n\t\t\t\tvalue = subscriber.callback.apply(this, args.concat([value]));\n\t\t\t});\n\n\t\t\treturn value;\n\t\t}else{\n\t\t\treturn typeof fallback === \"function\" ? fallback() : fallback;\n\t\t}\n\t}\n\n\t_confirm(key, args){\n\t\tvar confirmed = false;\n\n\t\tif(!Array.isArray(args)){\n\t\t\targs = [args];\n\t\t}\n\n\t\tif(this.subscribed(key)){\n\t\t\tthis.events[key].forEach((subscriber, i) => {\n\t\t\t\tif(subscriber.callback.apply(this, args)){\n\t\t\t\t\tconfirmed = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn confirmed;\n\t}\n\n\t_notifySubscriptionChange(key, subscribed){\n\t\tvar notifiers = this.subscriptionNotifiers[key];\n\n\t\tif(notifiers){\n\t\t\tnotifiers.forEach((callback)=>{\n\t\t\t\tcallback(subscribed);\n\t\t\t});\n\t\t}\n\t}\n\n\t_dispatch(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args.shift();\n\n\t\tif(this.events[key]){\n\t\t\tthis.events[key].forEach((subscriber) => {\n\t\t\t\tsubscriber.callback.apply(this, args);\n\t\t\t});\n\t\t}\n\t}\n\n\t_debugDispatch(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args[0];\n\n\t\targs[0] = \"InternalEvent:\" + key;\n\n\t\tif(this.debug === true || this.debug.includes(key)){\n\t\t\tconsole.log(...args);\n\t\t}\n\n\t\treturn this._dispatch(...arguments);\n\t}\n\n\t_debugChain(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args[0];\n\n\t\targs[0] = \"InternalEvent:\" + key;\n\n\t\tif(this.debug === true || this.debug.includes(key)){\n\t\t\tconsole.log(...args);\n\t\t}\n\n\t\treturn this._chain(...arguments);\n\t}\n\n\t_debugConfirm(){\n\t\tvar args = Array.from(arguments),\n\t\tkey = args[0];\n\n\t\targs[0] = \"InternalEvent:\" + key;\n\n\t\tif(this.debug === true || this.debug.includes(key)){\n\t\t\tconsole.log(...args);\n\t\t}\n\n\t\treturn this._confirm(...arguments);\n\t}\n}","import CoreFeature from '../CoreFeature.js';\n\nexport default class DeprecationAdvisor extends CoreFeature{\n\t\n\tconstructor(table){\n\t\tsuper(table);\n\t}\n\t\n\t_warnUser(){\n\t\tif(this.options(\"debugDeprecation\")){\n\t\t\tconsole.warn(...arguments);\n\t\t}\n\t}\n\t\n\tcheck(oldOption, newOption){\n\t\tvar msg = \"\";\n\t\t\n\t\tif(typeof this.options(oldOption) !== \"undefined\"){\n\t\t\tmsg = \"Deprecated Setup Option - Use of the %c\" + oldOption + \"%c option is now deprecated\";\n\t\t\t\n\t\t\tif(newOption){\n\t\t\t\tmsg = msg + \", Please use the %c\" + newOption + \"%c option instead\";\n\t\t\t\tthis._warnUser(msg, 'font-weight: bold;', 'font-weight: normal;', 'font-weight: bold;', 'font-weight: normal;');\n\t\t\t}else{\n\t\t\t\tthis._warnUser(msg, 'font-weight: bold;', 'font-weight: normal;');\n\t\t\t}\n\t\t\t\n\t\t\treturn false;\n\t\t}else{\n\t\t\treturn true;\n\t\t}\n\t}\n\t\n\tcheckMsg(oldOption, msg){\n\t\tif(typeof this.options(oldOption) !== \"undefined\"){\n\t\t\tthis._warnUser(\"%cDeprecated Setup Option - Use of the %c\" + oldOption + \" %c option is now deprecated, \" + msg, 'font-weight: normal;', 'font-weight: bold;', 'font-weight: normal;');\n\t\t\t\n\t\t\treturn false;\n\t\t}else{\n\t\t\treturn true;\n\t\t}\n\t}\n\t\n\tmsg(msg){\n\t\tthis._warnUser(msg);\n\t}\n}","import Tabulator from '../Tabulator.js';\n\nclass TableRegistry {\n\n\tstatic register(table){\n\t\tTableRegistry.tables.push(table);\n\t}\n\n\tstatic deregister(table){\n\t\tvar index = TableRegistry.tables.indexOf(table);\n\n\t\tif(index > -1){\n\t\t\tTableRegistry.tables.splice(index, 1);\n\t\t}\n\t}\n\n\tstatic lookupTable(query, silent){\n\t\tvar results = [],\n\t\tmatches, match;\n\n\t\tif(typeof query === \"string\"){\n\t\t\tmatches = document.querySelectorAll(query);\n\n\t\t\tif(matches.length){\n\t\t\t\tfor(var i = 0; i < matches.length; i++){\n\t\t\t\t\tmatch = TableRegistry.matchElement(matches[i]);\n\n\t\t\t\t\tif(match){\n\t\t\t\t\t\tresults.push(match);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t}else if((typeof HTMLElement !== \"undefined\" && query instanceof HTMLElement) || query instanceof Tabulator){\n\t\t\tmatch = TableRegistry.matchElement(query);\n\n\t\t\tif(match){\n\t\t\t\tresults.push(match);\n\t\t\t}\n\t\t}else if(Array.isArray(query)){\n\t\t\tquery.forEach(function(item){\n\t\t\t\tresults = results.concat(TableRegistry.lookupTable(item));\n\t\t\t});\n\t\t}else{\n\t\t\tif(!silent){\n\t\t\t\tconsole.warn(\"Table Connection Error - Invalid Selector\", query);\n\t\t\t}\n\t\t}\n\n\t\treturn results;\n\t}\n\n\tstatic matchElement(element){\n\t\treturn TableRegistry.tables.find(function(table){\n\t\t\treturn element instanceof Tabulator ? table === element : table.element === element;\n\t\t});\n\t}\n}\n\nTableRegistry.tables = [];\n\nexport default TableRegistry;","//resize columns to fit data they contain and stretch row to fill table, also used for fitDataTable\nexport default function(columns, forced){\n\tcolumns.forEach(function(column){\n\t\tcolumn.reinitializeWidth();\n\t});\n\n\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\tthis.table.modules.responsiveLayout.update();\n\t}\n}","import fitData from './modes/fitData.js';\nimport fitDataGeneral from './modes/fitDataGeneral.js';\nimport fitDataStretch from './modes/fitDataStretch.js';\nimport fitColumns from './modes/fitColumns.js';\n\nexport default {\n\tfitData:fitData,\n\tfitDataFill:fitDataGeneral,\n\tfitDataTable:fitDataGeneral,\n\tfitDataStretch:fitDataStretch,\n\tfitColumns:fitColumns ,\n};","//resize columns to fit data they contain\nexport default function(columns, forced){\n\tif(forced){\n\t\tthis.table.columnManager.renderer.reinitializeColumnWidths(columns);\n\t}\n\t\n\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\tthis.table.modules.responsiveLayout.update();\n\t}\n}","//resize columns to fit data the contain and stretch last column to fill table\nexport default function(columns, forced){\n\tvar colsWidth = 0,\n\ttableWidth = this.table.rowManager.element.clientWidth,\n\tgap = 0,\n\tlastCol = false;\n\n\tcolumns.forEach((column, i) => {\n\t\tif(!column.widthFixed){\n\t\t\tcolumn.reinitializeWidth();\n\t\t}\n\n\t\tif(this.table.options.responsiveLayout ? column.modules.responsive.visible : column.visible){\n\t\t\tlastCol = column;\n\t\t}\n\n\t\tif(column.visible){\n\t\t\tcolsWidth += column.getWidth();\n\t\t}\n\t});\n\n\tif(lastCol){\n\t\tgap = tableWidth - colsWidth + lastCol.getWidth();\n\n\t\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\t\tlastCol.setWidth(0);\n\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t}\n\n\t\tif(gap > 0){\n\t\t\tlastCol.setWidth(gap);\n\t\t}else{\n\t\t\tlastCol.reinitializeWidth();\n\t\t}\n\t}else{\n\t\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t}\n\t}\n}","//resize columns to fit\nexport default function(columns, forced){\n\tvar totalWidth = this.table.rowManager.element.getBoundingClientRect().width; //table element width\n\tvar fixedWidth = 0; //total width of columns with a defined width\n\tvar flexWidth = 0; //total width available to flexible columns\n\tvar flexGrowUnits = 0; //total number of widthGrow blocks across all columns\n\tvar flexColWidth = 0; //desired width of flexible columns\n\tvar flexColumns = []; //array of flexible width columns\n\tvar fixedShrinkColumns = []; //array of fixed width columns that can shrink\n\tvar flexShrinkUnits = 0; //total number of widthShrink blocks across all columns\n\tvar overflowWidth = 0; //horizontal overflow width\n\tvar gapFill = 0; //number of pixels to be added to final column to close and half pixel gaps\n\n\tfunction calcWidth(width){\n\t\tvar colWidth;\n\n\t\tif(typeof(width) == \"string\"){\n\t\t\tif(width.indexOf(\"%\") > -1){\n\t\t\t\tcolWidth = (totalWidth / 100) * parseInt(width);\n\t\t\t}else{\n\t\t\t\tcolWidth = parseInt(width);\n\t\t\t}\n\t\t}else{\n\t\t\tcolWidth = width;\n\t\t}\n\n\t\treturn colWidth;\n\t}\n\n\t//ensure columns resize to take up the correct amount of space\n\tfunction scaleColumns(columns, freeSpace, colWidth, shrinkCols){\n\t\tvar oversizeCols = [],\n\t\toversizeSpace = 0,\n\t\tremainingSpace = 0,\n\t\tnextColWidth = 0,\n\t\tremainingFlexGrowUnits = flexGrowUnits,\n\t\tgap = 0,\n\t\tchangeUnits = 0,\n\t\tundersizeCols = [];\n\n\t\tfunction calcGrow(col){\n\t\t\treturn (colWidth * (col.column.definition.widthGrow || 1));\n\t\t}\n\n\t\tfunction calcShrink(col){\n\t\t\treturn  (calcWidth(col.width) - (colWidth * (col.column.definition.widthShrink || 0)));\n\t\t}\n\n\t\tcolumns.forEach(function(col, i){\n\t\t\tvar width = shrinkCols ? calcShrink(col) : calcGrow(col);\n\t\t\tif(col.column.minWidth >= width){\n\t\t\t\toversizeCols.push(col);\n\t\t\t}else{\n\t\t\t\tif(col.column.maxWidth && col.column.maxWidth < width){\n\t\t\t\t\tcol.width = col.column.maxWidth;\n\t\t\t\t\tfreeSpace -= col.column.maxWidth;\n\n\t\t\t\t\tremainingFlexGrowUnits -= shrinkCols ? (col.column.definition.widthShrink || 1) : (col.column.definition.widthGrow || 1);\n\n\t\t\t\t\tif(remainingFlexGrowUnits){\n\t\t\t\t\t\tcolWidth = Math.floor(freeSpace/remainingFlexGrowUnits);\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tundersizeCols.push(col);\n\t\t\t\t\tchangeUnits += shrinkCols ? (col.column.definition.widthShrink || 1) : (col.column.definition.widthGrow || 1);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif(oversizeCols.length){\n\t\t\toversizeCols.forEach(function(col){\n\t\t\t\toversizeSpace += shrinkCols ?  col.width - col.column.minWidth : col.column.minWidth;\n\t\t\t\tcol.width = col.column.minWidth;\n\t\t\t});\n\n\t\t\tremainingSpace = freeSpace - oversizeSpace;\n\n\t\t\tnextColWidth = changeUnits ? Math.floor(remainingSpace/changeUnits) : remainingSpace;\n\n\t\t\tgap = scaleColumns(undersizeCols, remainingSpace, nextColWidth, shrinkCols);\n\t\t}else{\n\t\t\tgap = changeUnits ? freeSpace - (Math.floor(freeSpace/changeUnits) * changeUnits) : freeSpace;\n\n\t\t\tundersizeCols.forEach(function(column){\n\t\t\t\tcolumn.width = shrinkCols ? calcShrink(column) : calcGrow(column);\n\t\t\t});\n\t\t}\n\n\t\treturn gap;\n\t}\n\n\tif(this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)){\n\t\tthis.table.modules.responsiveLayout.update();\n\t}\n\n\t//adjust for vertical scrollbar if present\n\tif(this.table.rowManager.element.scrollHeight > this.table.rowManager.element.clientHeight){\n\t\ttotalWidth -= this.table.rowManager.element.offsetWidth - this.table.rowManager.element.clientWidth;\n\t}\n\n\tcolumns.forEach(function(column){\n\t\tvar width, minWidth, colWidth;\n\n\t\tif(column.visible){\n\n\t\t\twidth = column.definition.width;\n\t\t\tminWidth =  parseInt(column.minWidth);\n\n\t\t\tif(width){\n\n\t\t\t\tcolWidth = calcWidth(width);\n\n\t\t\t\tfixedWidth += colWidth > minWidth ? colWidth : minWidth;\n\n\t\t\t\tif(column.definition.widthShrink){\n\t\t\t\t\tfixedShrinkColumns.push({\n\t\t\t\t\t\tcolumn:column,\n\t\t\t\t\t\twidth:colWidth > minWidth ? colWidth : minWidth\n\t\t\t\t\t});\n\t\t\t\t\tflexShrinkUnits += column.definition.widthShrink;\n\t\t\t\t}\n\n\t\t\t}else{\n\t\t\t\tflexColumns.push({\n\t\t\t\t\tcolumn:column,\n\t\t\t\t\twidth:0,\n\t\t\t\t});\n\t\t\t\tflexGrowUnits += column.definition.widthGrow || 1;\n\t\t\t}\n\t\t}\n\t});\n\n\t//calculate available space\n\tflexWidth = totalWidth - fixedWidth;\n\n\t//calculate correct column size\n\tflexColWidth = Math.floor(flexWidth / flexGrowUnits);\n\n\t//generate column widths\n\tgapFill = scaleColumns(flexColumns, flexWidth, flexColWidth, false);\n\n\t//increase width of last column to account for rounding errors\n\tif(flexColumns.length && gapFill > 0){\n\t\tflexColumns[flexColumns.length-1].width += gapFill;\n\t}\n\n\t//calculate space for columns to be shrunk into\n\tflexColumns.forEach(function(col){\n\t\tflexWidth -= col.width;\n\t});\n\n\toverflowWidth = Math.abs(gapFill) + flexWidth;\n\n\t//shrink oversize columns if there is no available space\n\tif(overflowWidth > 0 && flexShrinkUnits){\n\t\tgapFill = scaleColumns(fixedShrinkColumns, overflowWidth, Math.floor(overflowWidth / flexShrinkUnits), true);\n\t}\n\n\t//decrease width of last column to account for rounding errors\n\tif(gapFill && fixedShrinkColumns.length){\n\t\tfixedShrinkColumns[fixedShrinkColumns.length-1].width -= gapFill;\n\t}\n\n\tflexColumns.forEach(function(col){\n\t\tcol.column.setWidth(col.width);\n\t});\n\n\tfixedShrinkColumns.forEach(function(col){\n\t\tcol.column.setWidth(col.width);\n\t});\n}\n","import Module from '../../core/Module.js';\n\nimport defaultModes from './defaults/modes.js';\n\nclass Layout extends Module{\n\n\tconstructor(table){\n\t\tsuper(table, \"layout\");\n\n\t\tthis.mode = null;\n\n\t\tthis.registerTableOption(\"layout\", \"fitData\"); //layout type\n\t\tthis.registerTableOption(\"layoutColumnsOnNewData\", false); //update column widths on setData\n\n\t\tthis.registerColumnOption(\"widthGrow\");\n\t\tthis.registerColumnOption(\"widthShrink\");\n\t}\n\n\t//initialize layout system\n\tinitialize(){\n\t\tvar layout = this.table.options.layout;\n\n\t\tif(Layout.modes[layout]){\n\t\t\tthis.mode = layout;\n\t\t}else{\n\t\t\tconsole.warn(\"Layout Error - invalid mode set, defaulting to 'fitData' : \" + layout);\n\t\t\tthis.mode = 'fitData';\n\t\t}\n\n\t\tthis.table.element.setAttribute(\"tabulator-layout\", this.mode);\n\t}\n\n\tgetMode(){\n\t\treturn this.mode;\n\t}\n\n\t//trigger table layout\n\tlayout(dataChanged){\n\t\tthis.dispatch(\"layout-refreshing\");\n\t\tLayout.modes[this.mode].call(this, this.table.columnManager.columnsByIndex, dataChanged);\n\t\tthis.dispatch(\"layout-refreshed\");\n\t}\n}\n\nLayout.moduleName = \"layout\";\n\n//load defaults\nLayout.modes = defaultModes;\n\nexport default Layout;","export default {\n\t\"default\":{ //hold default locale text\n\t\t\"groups\":{\n\t\t\t\"item\":\"item\",\n\t\t\t\"items\":\"items\",\n\t\t},\n\t\t\"columns\":{\n\t\t},\n\t\t\"data\":{\n\t\t\t\"loading\":\"Loading\",\n\t\t\t\"error\":\"Error\",\n\t\t},\n\t\t\"pagination\":{\n\t\t\t\"page_size\":\"Page Size\",\n\t\t\t\"page_title\":\"Show Page\",\n\t\t\t\"first\":\"First\",\n\t\t\t\"first_title\":\"First Page\",\n\t\t\t\"last\":\"Last\",\n\t\t\t\"last_title\":\"Last Page\",\n\t\t\t\"prev\":\"Prev\",\n\t\t\t\"prev_title\":\"Prev Page\",\n\t\t\t\"next\":\"Next\",\n\t\t\t\"next_title\":\"Next Page\",\n\t\t\t\"all\":\"All\",\n\t\t\t\"counter\":{\n\t\t\t\t\"showing\": \"Showing\",\n\t\t\t\t\"of\": \"of\",\n\t\t\t\t\"rows\": \"rows\",\n\t\t\t\t\"pages\": \"pages\",\n\t\t\t}\n\t\t},\n\t\t\"headerFilters\":{\n\t\t\t\"default\":\"filter column...\",\n\t\t\t\"columns\":{}\n\t\t}\n\t},\n};","import Module from '../../core/Module.js';\n\nimport Helpers from '../../core/tools/Helpers.js';\n\nimport defaultLangs from './defaults/langs.js';\n\nclass Localize extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\n\t\tthis.locale = \"default\"; //current locale\n\t\tthis.lang = false; //current language\n\t\tthis.bindings = {}; //update events to call when locale is changed\n\t\tthis.langList = {};\n\n\t\tthis.registerTableOption(\"locale\", false); //current system language\n\t\tthis.registerTableOption(\"langs\", {});\n\t}\n\n\tinitialize(){\n\t\tthis.langList = Helpers.deepClone(Localize.langs);\n\n\t\tif(this.table.options.columnDefaults.headerFilterPlaceholder !== false){\n\t\t\tthis.setHeaderFilterPlaceholder(this.table.options.columnDefaults.headerFilterPlaceholder);\n\t\t}\n\n\t\tfor(let locale in this.table.options.langs){\n\t\t\tthis.installLang(locale, this.table.options.langs[locale]);\n\t\t}\n\n\t\tthis.setLocale(this.table.options.locale);\n\n\t\tthis.registerTableFunction(\"setLocale\", this.setLocale.bind(this));\n\t\tthis.registerTableFunction(\"getLocale\", this.getLocale.bind(this));\n\t\tthis.registerTableFunction(\"getLang\", this.getLang.bind(this));\n\t}\n\n\t//set header placeholder\n\tsetHeaderFilterPlaceholder(placeholder){\n\t\tthis.langList.default.headerFilters.default = placeholder;\n\t}\n\n\t//setup a lang description object\n\tinstallLang(locale, lang){\n\t\tif(this.langList[locale]){\n\t\t\tthis._setLangProp(this.langList[locale], lang);\n\t\t}else{\n\t\t\tthis.langList[locale] = lang;\n\t\t}\n\t}\n\n\t_setLangProp(lang, values){\n\t\tfor(let key in values){\n\t\t\tif(lang[key] && typeof lang[key] == \"object\"){\n\t\t\t\tthis._setLangProp(lang[key], values[key]);\n\t\t\t}else{\n\t\t\t\tlang[key] = values[key];\n\t\t\t}\n\t\t}\n\t}\n\n\t//set current locale\n\tsetLocale(desiredLocale){\n\t\tdesiredLocale = desiredLocale || \"default\";\n\n\t\t//fill in any matching language values\n\t\tfunction traverseLang(trans, path){\n\t\t\tfor(var prop in trans){\n\t\t\t\tif(typeof trans[prop] == \"object\"){\n\t\t\t\t\tif(!path[prop]){\n\t\t\t\t\t\tpath[prop] = {};\n\t\t\t\t\t}\n\t\t\t\t\ttraverseLang(trans[prop], path[prop]);\n\t\t\t\t}else{\n\t\t\t\t\tpath[prop] = trans[prop];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//determining correct locale to load\n\t\tif(desiredLocale === true && navigator.language){\n\t\t\t//get local from system\n\t\t\tdesiredLocale = navigator.language.toLowerCase();\n\t\t}\n\n\t\tif(desiredLocale){\n\t\t\t//if locale is not set, check for matching top level locale else use default\n\t\t\tif(!this.langList[desiredLocale]){\n\t\t\t\tlet prefix = desiredLocale.split(\"-\")[0];\n\n\t\t\t\tif(this.langList[prefix]){\n\t\t\t\t\tconsole.warn(\"Localization Error - Exact matching locale not found, using closest match: \", desiredLocale, prefix);\n\t\t\t\t\tdesiredLocale = prefix;\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Localization Error - Matching locale not found, using default: \", desiredLocale);\n\t\t\t\t\tdesiredLocale = \"default\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.locale = desiredLocale;\n\n\t\t//load default lang template\n\t\tthis.lang = Helpers.deepClone(this.langList.default || {});\n\n\t\tif(desiredLocale != \"default\"){\n\t\t\ttraverseLang(this.langList[desiredLocale], this.lang);\n\t\t}\n\n\t\tthis.dispatchExternal(\"localized\", this.locale, this.lang);\n\n\t\tthis._executeBindings();\n\t}\n\n\t//get current locale\n\tgetLocale(locale){\n\t\treturn this.locale;\n\t}\n\n\t//get lang object for given local or current if none provided\n\tgetLang(locale){\n\t\treturn locale ? this.langList[locale] : this.lang;\n\t}\n\n\t//get text for current locale\n\tgetText(path, value){\n\t\tvar fillPath = value ? path + \"|\" + value : path,\n\t\tpathArray = fillPath.split(\"|\"),\n\t\ttext = this._getLangElement(pathArray, this.locale);\n\n\t\t// if(text === false){\n\t\t// \tconsole.warn(\"Localization Error - Matching localized text not found for given path: \", path);\n\t\t// }\n\n\t\treturn text || \"\";\n\t}\n\n\t//traverse langs object and find localized copy\n\t_getLangElement(path, locale){\n\t\tvar root = this.lang;\n\n\t\tpath.forEach(function(level){\n\t\t\tvar rootPath;\n\n\t\t\tif(root){\n\t\t\t\trootPath = root[level];\n\n\t\t\t\tif(typeof rootPath != \"undefined\"){\n\t\t\t\t\troot = rootPath;\n\t\t\t\t}else{\n\t\t\t\t\troot = false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn root;\n\t}\n\n\t//set update binding\n\tbind(path, callback){\n\t\tif(!this.bindings[path]){\n\t\t\tthis.bindings[path] = [];\n\t\t}\n\n\t\tthis.bindings[path].push(callback);\n\n\t\tcallback(this.getText(path), this.lang);\n\t}\n\n\t//iterate through bindings and trigger updates\n\t_executeBindings(){\n\t\tfor(let path in this.bindings){\n\t\t\tthis.bindings[path].forEach((binding) => {\n\t\t\t\tbinding(this.getText(path), this.lang);\n\t\t\t});\n\t\t}\n\t}\n}\n\nLocalize.moduleName = \"localize\";\n\n//load defaults\nLocalize.langs = defaultLangs;\n\nexport default Localize;","import Module from '../../core/Module.js';\nimport TableRegistry from '../../core/tools/TableRegistry.js';\n\nclass Comms extends Module{\n\n\tconstructor(table){\n\t\tsuper(table);\n\t}\n\n\tinitialize(){\n\t\tthis.registerTableFunction(\"tableComms\", this.receive.bind(this));\n\t}\n\n\tgetConnections(selectors){\n\t\tvar connections = [],\n\t\tconnection;\n\n\t\tconnection = TableRegistry.lookupTable(selectors);\n\n\t\tconnection.forEach((con) =>{\n\t\t\tif(this.table !== con){\n\t\t\t\tconnections.push(con);\n\t\t\t}\n\t\t});\n\n\t\treturn connections;\n\t}\n\n\tsend(selectors, module, action, data){\n\t\tvar connections = this.getConnections(selectors);\n\n\t\tconnections.forEach((connection) => {\n\t\t\tconnection.tableComms(this.table.element, module, action, data);\n\t\t});\n\n\t\tif(!connections.length && selectors){\n\t\t\tconsole.warn(\"Table Connection Error - No tables matching selector found\", selectors);\n\t\t}\n\t}\n\n\treceive(table, module, action, data){\n\t\tif(this.table.modExists(module)){\n\t\t\treturn this.table.modules[module].commsReceived(table, action, data);\n\t\t}else{\n\t\t\tconsole.warn(\"Inter-table Comms Error - no such module:\", module);\n\t\t}\n\t}\n}\n\nComms.moduleName = \"comms\";\n\nexport default Comms;","import * as coreModules from '../modules/core.js';\nimport TableRegistry from './TableRegistry.js';\n\nexport default class ModuleBinder {\n\t\n\tconstructor(tabulator, modules){\n\t\tthis.bindStaticFunctionality(tabulator);\n\t\tthis.bindModules(tabulator, coreModules, true);\n\t\t\n\t\tif(modules){\n\t\t\tthis.bindModules(tabulator, modules);\n\t\t}\n\t}\n\t\n\tbindStaticFunctionality(tabulator){\n\t\ttabulator.moduleBindings = {};\n\t\t\n\t\ttabulator.extendModule = function(name, property, values){\n\t\t\tif(tabulator.moduleBindings[name]){\n\t\t\t\tvar source = tabulator.moduleBindings[name][property];\n\t\t\t\t\n\t\t\t\tif(source){\n\t\t\t\t\tif(typeof values == \"object\"){\n\t\t\t\t\t\tfor(let key in values){\n\t\t\t\t\t\t\tsource[key] = values[key];\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.warn(\"Module Error - Invalid value type, it must be an object\");\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tconsole.warn(\"Module Error - property does not exist:\", property);\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Module Error - module does not exist:\", name);\n\t\t\t}\n\t\t};\n\t\t\n\t\ttabulator.registerModule = function(modules){\n\t\t\tif(!Array.isArray(modules)){\n\t\t\t\tmodules = [modules];\n\t\t\t}\n\t\t\t\n\t\t\tmodules.forEach((mod) => {\n\t\t\t\ttabulator.registerModuleBinding(mod);\n\t\t\t});\n\t\t};\n\t\t\n\t\ttabulator.registerModuleBinding = function(mod){\n\t\t\ttabulator.moduleBindings[mod.moduleName] = mod;\n\t\t};\n\t\t\n\t\ttabulator.findTable = function(query){\n\t\t\tvar results = TableRegistry.lookupTable(query, true);\n\t\t\treturn Array.isArray(results) && !results.length ? false : results;\n\t\t};\n\t\t\n\t\t//ensure that module are bound to instantiated function\n\t\ttabulator.prototype.bindModules = function(){\n\t\t\tvar orderedStartMods = [],\n\t\t\torderedEndMods = [],\n\t\t\tunOrderedMods = [];\n\t\t\t\n\t\t\tthis.modules = {};\n\t\t\t\n\t\t\tfor(var name in tabulator.moduleBindings){\n\t\t\t\tlet mod = tabulator.moduleBindings[name];\n\t\t\t\tlet module = new mod(this);\n\t\t\t\t\n\t\t\t\tthis.modules[name] = module;\n\t\t\t\t\n\t\t\t\tif(mod.prototype.moduleCore){\n\t\t\t\t\tthis.modulesCore.push(module);\n\t\t\t\t}else{\n\t\t\t\t\tif(mod.moduleInitOrder){\n\t\t\t\t\t\tif(mod.moduleInitOrder < 0){\n\t\t\t\t\t\t\torderedStartMods.push(module);\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\torderedEndMods.push(module);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}else{\n\t\t\t\t\t\tunOrderedMods.push(module);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\torderedStartMods.sort((a, b) => a.moduleInitOrder > b.moduleInitOrder ? 1 : -1);\n\t\t\torderedEndMods.sort((a, b) => a.moduleInitOrder > b.moduleInitOrder ? 1 : -1);\n\t\t\t\n\t\t\tthis.modulesRegular = orderedStartMods.concat(unOrderedMods.concat(orderedEndMods));\n\t\t};\n\t}\n\t\n\tbindModules(tabulator, modules, core){\n\t\tvar mods = Object.values(modules);\n\t\t\n\t\tif(core){\n\t\t\tmods.forEach((mod) => {\n\t\t\t\tmod.prototype.moduleCore = true;\n\t\t\t});\n\t\t}\n\t\t\n\t\ttabulator.registerModule(mods);\n\t}\n}","import CoreFeature from '../CoreFeature.js';\n\nexport default class Alert extends CoreFeature{\n\tconstructor(table){\n\t\tsuper(table);\n        \n\t\tthis.element = this._createAlertElement();\n\t\tthis.msgElement = this._createMsgElement();\n\t\tthis.type = null;\n        \n\t\tthis.element.appendChild(this.msgElement);\n\t}\n    \n\t_createAlertElement(){\n\t\tvar el = document.createElement(\"div\");\n\t\tel.classList.add(\"tabulator-alert\");\n\t\treturn el;\n\t}\n    \n\t_createMsgElement(){\n\t\tvar el = document.createElement(\"div\");\n\t\tel.classList.add(\"tabulator-alert-msg\");\n\t\tel.setAttribute(\"role\", \"alert\");\n\t\treturn el;\n\t}\n    \n\t_typeClass(){\n\t\treturn \"tabulator-alert-state-\" + this.type;\n\t}\n    \n\talert(content, type = \"msg\"){\n\t\tif(content){\n\t\t\tthis.clear();\n            \n\t\t\tthis.type = type;\n            \n\t\t\twhile(this.msgElement.firstChild) this.msgElement.removeChild(this.msgElement.firstChild);\n            \n\t\t\tthis.msgElement.classList.add(this._typeClass());\n            \n\t\t\tif(typeof content === \"function\"){\n\t\t\t\tcontent = content();\n\t\t\t}\n            \n\t\t\tif(content instanceof HTMLElement){\n\t\t\t\tthis.msgElement.appendChild(content);\n\t\t\t}else{\n\t\t\t\tthis.msgElement.innerHTML = content;\n\t\t\t}\n            \n\t\t\tthis.table.element.appendChild(this.element);\n\t\t}\n\t}\n    \n\tclear(){\n\t\tif(this.element.parentNode){\n\t\t\tthis.element.parentNode.removeChild(this.element);\n\t\t}\n        \n\t\tthis.msgElement.classList.remove(this._typeClass());\n\t}\n}","'use strict';\n\nimport defaultOptions from './defaults/options.js';\n\nimport ColumnManager from './ColumnManager.js';\nimport RowManager from './RowManager.js';\nimport FooterManager from './FooterManager.js';\n\nimport InteractionMonitor from './tools/InteractionMonitor.js';\nimport ComponentFunctionBinder from './tools/ComponentFunctionBinder.js';\nimport DataLoader from './tools/DataLoader.js';\n\nimport ExternalEventBus from './tools/ExternalEventBus.js';\nimport InternalEventBus from './tools/InternalEventBus.js';\n\nimport DeprecationAdvisor from './tools/DeprecationAdvisor.js';\n\nimport TableRegistry from './tools/TableRegistry.js';\nimport ModuleBinder from './tools/ModuleBinder.js';\n\nimport OptionsList from './tools/OptionsList.js';\n\nimport Alert from './tools/Alert.js';\n\nclass Tabulator {\n\t\n\tconstructor(element, options){\n\t\t\n\t\tthis.options = {};\n\t\t\n\t\tthis.columnManager = null; // hold Column Manager\n\t\tthis.rowManager = null; //hold Row Manager\n\t\tthis.footerManager = null; //holder Footer Manager\n\t\tthis.alertManager = null; //hold Alert Manager\n\t\tthis.vdomHoz  = null; //holder horizontal virtual dom\n\t\tthis.externalEvents = null; //handle external event messaging\n\t\tthis.eventBus = null; //handle internal event messaging\n\t\tthis.interactionMonitor = false; //track user interaction\n\t\tthis.browser = \"\"; //hold current browser type\n\t\tthis.browserSlow = false; //handle reduced functionality for slower browsers\n\t\tthis.browserMobile = false; //check if running on mobile, prevent resize cancelling edit on keyboard appearance\n\t\tthis.rtl = false; //check if the table is in RTL mode\n\t\tthis.originalElement = null; //hold original table element if it has been replaced\n\t\t\n\t\tthis.componentFunctionBinder = new ComponentFunctionBinder(this); //bind component functions\n\t\tthis.dataLoader = false; //bind component functions\n\t\t\n\t\tthis.modules = {}; //hold all modules bound to this table\n\t\tthis.modulesCore = []; //hold core modules bound to this table (for initialization purposes)\n\t\tthis.modulesRegular = []; //hold regular modules bound to this table (for initialization purposes)\n\t\t\n\t\tthis.deprecationAdvisor = new DeprecationAdvisor(this);\n\t\tthis.optionsList = new OptionsList(this, \"table constructor\");\n\t\t\n\t\tthis.initialized = false;\n\t\tthis.destroyed = false;\n\t\t\n\t\tif(this.initializeElement(element)){\n\t\t\t\n\t\t\tthis.initializeCoreSystems(options);\n\t\t\t\n\t\t\t//delay table creation to allow event bindings immediately after the constructor\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis._create();\n\t\t\t});\n\t\t}\n\t\t\n\t\tTableRegistry.register(this); //register table for inter-device communication\n\t}\n\t\n\tinitializeElement(element){\n\t\tif(typeof HTMLElement !== \"undefined\" && element instanceof HTMLElement){\n\t\t\tthis.element = element;\n\t\t\treturn true;\n\t\t}else if(typeof element === \"string\"){\n\t\t\tthis.element = document.querySelector(element);\n\t\t\t\n\t\t\tif(this.element){\n\t\t\t\treturn true;\n\t\t\t}else{\n\t\t\t\tconsole.error(\"Tabulator Creation Error - no element found matching selector: \", element);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.error(\"Tabulator Creation Error - Invalid element provided:\", element);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\tinitializeCoreSystems(options){\n\t\tthis.columnManager = new ColumnManager(this);\n\t\tthis.rowManager = new RowManager(this);\n\t\tthis.footerManager = new FooterManager(this);\n\t\tthis.dataLoader = new DataLoader(this);\n\t\tthis.alertManager = new Alert(this);\n\t\t\n\t\tthis.bindModules();\n\t\t\n\t\tthis.options = this.optionsList.generate(Tabulator.defaultOptions, options);\n\t\t\n\t\tthis._clearObjectPointers();\n\t\t\n\t\tthis._mapDeprecatedFunctionality();\n\t\t\n\t\tthis.externalEvents = new ExternalEventBus(this, this.options, this.options.debugEventsExternal);\n\t\tthis.eventBus = new InternalEventBus(this.options.debugEventsInternal);\n\t\t\n\t\tthis.interactionMonitor = new InteractionMonitor(this);\n\t\t\n\t\tthis.dataLoader.initialize();\n\t\t// this.columnManager.initialize();\n\t\t// this.rowManager.initialize();\n\t\tthis.footerManager.initialize();\n\t}\n\t\n\t//convert deprecated functionality to new functions\n\t_mapDeprecatedFunctionality(){\n\t\t//all previously deprecated functionality removed in the 5.0 release\n\t}\n\t\n\t_clearSelection(){\n\t\t\n\t\tthis.element.classList.add(\"tabulator-block-select\");\n\t\t\n\t\tif (window.getSelection) {\n\t\t\tif (window.getSelection().empty) {  // Chrome\n\t\t\t\twindow.getSelection().empty();\n\t\t\t} else if (window.getSelection().removeAllRanges) {  // Firefox\n\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t}\n\t\t} else if (document.selection) {  // IE?\n\t\t\tdocument.selection.empty();\n\t\t}\n\t\t\n\t\tthis.element.classList.remove(\"tabulator-block-select\");\n\t}\n\t\n\t//create table\n\t_create(){\n\t\tthis.externalEvents.dispatch(\"tableBuilding\");\n\t\tthis.eventBus.dispatch(\"table-building\");\n\t\t\n\t\tthis._rtlCheck();\n\t\t\n\t\tthis._buildElement();\n\t\t\n\t\tthis._initializeTable();\n\t\t\n\t\tthis._loadInitialData();\n\t\t\n\t\tthis.initialized = true;\n\t\t\n\t\tthis.externalEvents.dispatch(\"tableBuilt\");\n\t}\n\t\n\t_rtlCheck(){\n\t\tvar style = window.getComputedStyle(this.element);\n\t\t\n\t\tswitch(this.options.textDirection){\n\t\t\tcase\"auto\":\n\t\t\t\tif(style.direction !== \"rtl\"){\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\n\t\t\tcase \"rtl\":\n\t\t\t\tthis.element.classList.add(\"tabulator-rtl\");\n\t\t\t\tthis.rtl = true;\n\t\t\t\tbreak;\n\t\t\t\n\t\t\tcase \"ltr\":\n\t\t\t\tthis.element.classList.add(\"tabulator-ltr\");\n\t\t\t\n\t\t\tdefault:\n\t\t\t\tthis.rtl = false;\n\t\t}\n\t}\n\t\n\t//clear pointers to objects in default config object\n\t_clearObjectPointers(){\n\t\tthis.options.columns = this.options.columns.slice(0);\n\t\t\n\t\tif(Array.isArray(this.options.data) && !this.options.reactiveData){\n\t\t\tthis.options.data = this.options.data.slice(0);\n\t\t}\n\t}\n\t\n\t//build tabulator element\n\t_buildElement(){\n\t\tvar element = this.element,\n\t\toptions = this.options,\n\t\tnewElement;\n\t\t\n\t\tif(element.tagName === \"TABLE\"){\n\t\t\tthis.originalElement = this.element;\n\t\t\tnewElement = document.createElement(\"div\");\n\t\t\t\n\t\t\t//transfer attributes to new element\n\t\t\tvar attributes = element.attributes;\n\t\t\t\n\t\t\t// loop through attributes and apply them on div\n\t\t\tfor(var i in attributes){\n\t\t\t\tif(typeof attributes[i] == \"object\"){\n\t\t\t\t\tnewElement.setAttribute(attributes[i].name, attributes[i].value);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// replace table with div element\n\t\t\telement.parentNode.replaceChild(newElement, element);\n\t\t\t\n\t\t\tthis.element = element = newElement;\n\t\t}\n\t\t\n\t\telement.classList.add(\"tabulator\");\n\t\telement.setAttribute(\"role\", \"grid\");\n\t\t\n\t\t//empty element\n\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\t\t\n\t\t//set table height\n\t\tif(options.height){\n\t\t\toptions.height = isNaN(options.height) ? options.height : options.height + \"px\";\n\t\t\telement.style.height = options.height;\n\t\t}\n\t\t\n\t\t//set table min height\n\t\tif(options.minHeight !== false){\n\t\t\toptions.minHeight = isNaN(options.minHeight) ? options.minHeight : options.minHeight + \"px\";\n\t\t\telement.style.minHeight = options.minHeight;\n\t\t}\n\t\t\n\t\t//set table maxHeight\n\t\tif(options.maxHeight !== false){\n\t\t\toptions.maxHeight = isNaN(options.maxHeight) ? options.maxHeight : options.maxHeight + \"px\";\n\t\t\telement.style.maxHeight = options.maxHeight;\n\t\t}\n\t}\n\t\n\t//initialize core systems and modules\n\t_initializeTable(){\n\t\tvar element = this.element,\n\t\toptions = this.options;\n\t\t\n\t\tthis.interactionMonitor.initialize();\n\t\t\n\t\tthis.columnManager.initialize();\n\t\tthis.rowManager.initialize();\n\t\t\n\t\tthis._detectBrowser();\n\t\t\n\t\t//initialize core modules\n\t\tthis.modulesCore.forEach((mod) => {\n\t\t\tmod.initialize();\n\t\t});\n\t\t\n\t\t//build table elements\n\t\telement.appendChild(this.columnManager.getElement());\n\t\telement.appendChild(this.rowManager.getElement());\n\t\t\n\t\tif(options.footerElement){\n\t\t\tthis.footerManager.activate();\n\t\t}\n\t\t\n\t\tif(options.autoColumns && options.data){\n\t\t\t\n\t\t\tthis.columnManager.generateColumnsFromRowData(this.options.data);\n\t\t}\n\t\t\n\t\t//initialize regular modules\n\t\tthis.modulesRegular.forEach((mod) => {\n\t\t\tmod.initialize();\n\t\t});\n\t\t\n\t\tthis.columnManager.setColumns(options.columns);\n\t\t\n\t\tthis.eventBus.dispatch(\"table-built\");\n\t}\n\t\n\t_loadInitialData(){\n\t\tthis.dataLoader.load(this.options.data);\n\t}\n\t\n\t//deconstructor\n\tdestroy(){\n\t\tvar element = this.element;\n\t\t\n\t\tthis.destroyed = true;\n\t\t\n\t\tTableRegistry.deregister(this); //deregister table from inter-device communication\n\t\t\n\t\tthis.eventBus.dispatch(\"table-destroy\");\n\t\t\n\t\t//clear row data\n\t\tthis.rowManager.destroy();\n\t\t\n\t\t//clear DOM\n\t\twhile(element.firstChild) element.removeChild(element.firstChild);\n\t\telement.classList.remove(\"tabulator\");\n\n\t\tthis.externalEvents.dispatch(\"tableDestroyed\");\n\t}\n\t\n\t_detectBrowser(){\n\t\tvar ua = navigator.userAgent||navigator.vendor||window.opera;\n\t\t\n\t\tif(ua.indexOf(\"Trident\") > -1){\n\t\t\tthis.browser = \"ie\";\n\t\t\tthis.browserSlow = true;\n\t\t}else if(ua.indexOf(\"Edge\") > -1){\n\t\t\tthis.browser = \"edge\";\n\t\t\tthis.browserSlow = true;\n\t\t}else if(ua.indexOf(\"Firefox\") > -1){\n\t\t\tthis.browser = \"firefox\";\n\t\t\tthis.browserSlow = false;\n\t\t}else if(ua.indexOf(\"Mac OS\") > -1){\n\t\t\tthis.browser = \"safari\";\n\t\t\tthis.browserSlow = false;\n\t\t}else{\n\t\t\tthis.browser = \"other\";\n\t\t\tthis.browserSlow = false;\n\t\t}\n\t\t\n\t\tthis.browserMobile = /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(ua)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(ua.slice(0,4));\n\t}\n\t\n\tinitGuard(func, msg){\n\t\tvar stack, line;\n\t\t\n\t\tif(this.options.debugInitialization && !this.initialized){\n\t\t\tif(!func){\n\t\t\t\tstack = new Error().stack.split(\"\\n\");\n\t\t\t\t\n\t\t\t\tline = stack[0] == \"Error\" ? stack[2] : stack[1];\n\t\t\t\t\n\t\t\t\tif(line[0] == \" \"){\n\t\t\t\t\tfunc = line.trim().split(\" \")[1].split(\".\")[1];\n\t\t\t\t}else{\n\t\t\t\t\tfunc = line.trim().split(\"@\")[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tconsole.warn(\"Table Not Initialized - Calling the \" + func + \" function before the table is initialized may result in inconsistent behavior, Please wait for the `tableBuilt` event before calling this function.\" + (msg ? \" \" + msg : \"\"));\n\t\t}\n\t\t\n\t\treturn this.initialized;\n\t}\n\t\n\t////////////////// Data Handling //////////////////\n\t//block table redrawing\n\tblockRedraw(){\n\t\tthis.initGuard();\n\n\t\tthis.eventBus.dispatch(\"redraw-blocking\");\n\t\t\n\t\tthis.rowManager.blockRedraw();\n\t\tthis.columnManager.blockRedraw();\n\n\t\tthis.eventBus.dispatch(\"redraw-blocked\");\n\t}\n\t\n\t//restore table redrawing\n\trestoreRedraw(){\n\t\tthis.initGuard();\n\n\t\tthis.eventBus.dispatch(\"redraw-restoring\");\n\n\t\tthis.rowManager.restoreRedraw();\n\t\tthis.columnManager.restoreRedraw();\n\n\t\tthis.eventBus.dispatch(\"redraw-restored\");\n\t}\n\t\n\t//load data\n\tsetData(data, params, config){\n\t\tthis.initGuard(false, \"To set initial data please use the 'data' property in the table constructor.\");\n\t\t\n\t\treturn this.dataLoader.load(data, params, config, false);\n\t}\n\t\n\t//clear data\n\tclearData(){\n\t\tthis.initGuard();\n\t\t\n\t\tthis.dataLoader.blockActiveLoad();\n\t\tthis.rowManager.clearData();\n\t}\n\t\n\t//get table data array\n\tgetData(active){\n\t\treturn this.rowManager.getData(active);\n\t}\n\t\n\t//get table data array count\n\tgetDataCount(active){\n\t\treturn this.rowManager.getDataCount(active);\n\t}\n\t\n\t//replace data, keeping table in position with same sort\n\treplaceData(data, params, config){\n\t\tthis.initGuard();\n\t\t\n\t\treturn this.dataLoader.load(data, params, config, true, true);\n\t}\n\t\n\t//update table data\n\tupdateData(data){\n\t\tvar responses = 0;\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.dataLoader.blockActiveLoad();\n\t\t\t\n\t\t\tif(typeof data === \"string\"){\n\t\t\t\tdata = JSON.parse(data);\n\t\t\t}\n\t\t\t\n\t\t\tif(data && data.length > 0){\n\t\t\t\tdata.forEach((item) => {\n\t\t\t\t\tvar row = this.rowManager.findRow(item[this.options.index]);\n\t\t\t\t\t\n\t\t\t\t\tif(row){\n\t\t\t\t\t\tresponses++;\n\t\t\t\t\t\t\n\t\t\t\t\t\trow.updateData(item)\n\t\t\t\t\t\t\t.then(()=>{\n\t\t\t\t\t\t\t\tresponses--;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif(!responses){\n\t\t\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\t\t\treject(\"Update Error - Unable to update row\", item, e);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}else{\n\t\t\t\t\t\treject(\"Update Error - Unable to find row\", item);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Update Error - No data provided\");\n\t\t\t\treject(\"Update Error - No data provided\");\n\t\t\t}\n\t\t});\n\t}\n\t\n\taddData(data, pos, index){\n\t\tthis.initGuard();\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.dataLoader.blockActiveLoad();\n\t\t\t\n\t\t\tif(typeof data === \"string\"){\n\t\t\t\tdata = JSON.parse(data);\n\t\t\t}\n\t\t\t\n\t\t\tif(data){\n\t\t\t\tthis.rowManager.addRows(data, pos, index)\n\t\t\t\t\t.then((rows) => {\n\t\t\t\t\t\tvar output = [];\n\t\t\t\t\t\n\t\t\t\t\t\trows.forEach(function(row){\n\t\t\t\t\t\t\toutput.push(row.getComponent());\n\t\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\t\tresolve(output);\n\t\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Update Error - No data provided\");\n\t\t\t\treject(\"Update Error - No data provided\");\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//update table data\n\tupdateOrAddData(data){\n\t\tvar rows = [],\n\t\tresponses = 0;\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tthis.dataLoader.blockActiveLoad();\n\t\t\t\n\t\t\tif(typeof data === \"string\"){\n\t\t\t\tdata = JSON.parse(data);\n\t\t\t}\n\t\t\t\n\t\t\tif(data && data.length > 0){\n\t\t\t\tdata.forEach((item) => {\n\t\t\t\t\tvar row = this.rowManager.findRow(item[this.options.index]);\n\t\t\t\t\t\n\t\t\t\t\tresponses++;\n\t\t\t\t\t\n\t\t\t\t\tif(row){\n\t\t\t\t\t\trow.updateData(item)\n\t\t\t\t\t\t\t.then(()=>{\n\t\t\t\t\t\t\t\tresponses--;\n\t\t\t\t\t\t\t\trows.push(row.getComponent());\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif(!responses){\n\t\t\t\t\t\t\t\t\tresolve(rows);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.rowManager.addRows(item)\n\t\t\t\t\t\t\t.then((newRows)=>{\n\t\t\t\t\t\t\t\tresponses--;\n\t\t\t\t\t\t\t\trows.push(newRows[0].getComponent());\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif(!responses){\n\t\t\t\t\t\t\t\t\tresolve(rows);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Update Error - No data provided\");\n\t\t\t\treject(\"Update Error - No data provided\");\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//get row object\n\tgetRow(index){\n\t\tvar row = this.rowManager.findRow(index);\n\t\t\n\t\tif(row){\n\t\t\treturn row.getComponent();\n\t\t}else{\n\t\t\tconsole.warn(\"Find Error - No matching row found:\", index);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\t//get row object\n\tgetRowFromPosition(position){\n\t\tvar row = this.rowManager.getRowFromPosition(position);\n\t\t\n\t\tif(row){\n\t\t\treturn row.getComponent();\n\t\t}else{\n\t\t\tconsole.warn(\"Find Error - No matching row found:\", position);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\t//delete row from table\n\tdeleteRow(index){\n\t\tvar foundRows = [];\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(!Array.isArray(index)){\n\t\t\tindex = [index];\n\t\t}\n\t\t\n\t\t//find matching rows\n\t\tfor(let item of index){\n\t\t\tlet row = this.rowManager.findRow(item, true);\n\t\t\t\n\t\t\tif(row){\n\t\t\t\tfoundRows.push(row);\n\t\t\t}else{\n\t\t\t\tconsole.error(\"Delete Error - No matching row found:\", item);\n\t\t\t\treturn Promise.reject(\"Delete Error - No matching row found\");\n\t\t\t}\n\t\t}\n\t\t\n\t\t//sort rows into correct order to ensure smooth delete from table\n\t\tfoundRows.sort((a, b) => {\n\t\t\treturn this.rowManager.rows.indexOf(a) > this.rowManager.rows.indexOf(b) ? 1 : -1;\n\t\t});\n\t\t\n\t\t//delete rows\n\t\tfoundRows.forEach((row) =>{\n\t\t\trow.delete();\n\t\t});\n\t\t\n\t\tthis.rowManager.reRenderInPosition();\n\t\t\n\t\treturn Promise.resolve();\n\t}\n\t\n\t//add row to table\n\taddRow(data, pos, index){\n\t\tthis.initGuard();\n\t\t\n\t\tif(typeof data === \"string\"){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\t\t\n\t\treturn this.rowManager.addRows(data, pos, index, true)\n\t\t\t.then((rows)=>{\n\t\t\t\treturn rows[0].getComponent();\n\t\t\t});\n\t}\n\t\n\t//update a row if it exists otherwise create it\n\tupdateOrAddRow(index, data){\n\t\tvar row = this.rowManager.findRow(index);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(typeof data === \"string\"){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\t\t\n\t\tif(row){\n\t\t\treturn row.updateData(data)\n\t\t\t\t.then(()=>{\n\t\t\t\t\treturn row.getComponent();\n\t\t\t\t});\n\t\t}else{\n\t\t\treturn this.rowManager.addRows(data)\n\t\t\t\t.then((rows)=>{\n\t\t\t\t\treturn rows[0].getComponent();\n\t\t\t\t});\n\t\t}\n\t}\n\t\n\t//update row data\n\tupdateRow(index, data){\n\t\tvar row = this.rowManager.findRow(index);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(typeof data === \"string\"){\n\t\t\tdata = JSON.parse(data);\n\t\t}\n\t\t\n\t\tif(row){\n\t\t\treturn row.updateData(data)\n\t\t\t\t.then(()=>{\n\t\t\t\t\treturn Promise.resolve(row.getComponent());\n\t\t\t\t});\n\t\t}else{\n\t\t\tconsole.warn(\"Update Error - No matching row found:\", index);\n\t\t\treturn Promise.reject(\"Update Error - No matching row found\");\n\t\t}\n\t}\n\t\n\t//scroll to row in DOM\n\tscrollToRow(index, position, ifVisible){\n\t\tvar row = this.rowManager.findRow(index);\n\t\t\n\t\tif(row){\n\t\t\treturn this.rowManager.scrollToRow(row, position, ifVisible);\n\t\t}else{\n\t\t\tconsole.warn(\"Scroll Error - No matching row found:\", index);\n\t\t\treturn Promise.reject(\"Scroll Error - No matching row found\");\n\t\t}\n\t}\n\t\n\tmoveRow(from, to, after){\n\t\tvar fromRow = this.rowManager.findRow(from);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(fromRow){\n\t\t\tfromRow.moveToRow(to, after);\n\t\t}else{\n\t\t\tconsole.warn(\"Move Error - No matching row found:\", from);\n\t\t}\n\t}\n\t\n\tgetRows(active){\n\t\treturn this.rowManager.getComponents(active);\t\n\t}\n\t\n\t//get position of row in table\n\tgetRowPosition(index){\n\t\tvar row = this.rowManager.findRow(index);\n\t\t\n\t\tif(row){\n\t\t\treturn row.getPosition();\n\t\t}else{\n\t\t\tconsole.warn(\"Position Error - No matching row found:\", index);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\t/////////////// Column Functions  ///////////////\n\tsetColumns(definition){\n\t\tthis.initGuard(false, \"To set initial columns please use the 'columns' property in the table constructor\");\n\t\t\n\t\tthis.columnManager.setColumns(definition);\n\t}\n\t\n\tgetColumns(structured){\n\t\treturn this.columnManager.getComponents(structured);\n\t}\n\t\n\tgetColumn(field){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tif(column){\n\t\t\treturn column.getComponent();\n\t\t}else{\n\t\t\tconsole.warn(\"Find Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\tgetColumnDefinitions(){\n\t\treturn this.columnManager.getDefinitionTree();\n\t}\n\t\n\tshowColumn(field){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(column){\n\t\t\tcolumn.show();\n\t\t}else{\n\t\t\tconsole.warn(\"Column Show Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\thideColumn(field){\n\t\tvar column = this.columnManager.findColumn(field); \n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(column){\n\t\t\tcolumn.hide();\n\t\t}else{\n\t\t\tconsole.warn(\"Column Hide Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\ttoggleColumn(field){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(column){\n\t\t\tif(column.visible){\n\t\t\t\tcolumn.hide();\n\t\t\t}else{\n\t\t\t\tcolumn.show();\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.warn(\"Column Visibility Toggle Error - No matching column found:\", field);\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\taddColumn(definition, before, field){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\treturn this.columnManager.addColumn(definition, before, column)\n\t\t\t.then((column) => {\n\t\t\t\treturn column.getComponent();\n\t\t\t});\n\t}\n\t\n\tdeleteColumn(field){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(column){\n\t\t\treturn column.delete();\n\t\t}else{\n\t\t\tconsole.warn(\"Column Delete Error - No matching column found:\", field);\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\tupdateColumnDefinition(field, definition){\n\t\tvar column = this.columnManager.findColumn(field);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(column){\n\t\t\treturn column.updateDefinition(definition);\n\t\t}else{\n\t\t\tconsole.warn(\"Column Update Error - No matching column found:\", field);\n\t\t\treturn Promise.reject();\n\t\t}\n\t}\n\t\n\tmoveColumn(from, to, after){\n\t\tvar fromColumn = this.columnManager.findColumn(from),\n\t\ttoColumn = this.columnManager.findColumn(to);\n\t\t\n\t\tthis.initGuard();\n\t\t\n\t\tif(fromColumn){\n\t\t\tif(toColumn){\n\t\t\t\tthis.columnManager.moveColumn(fromColumn, toColumn, after);\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Move Error - No matching column found:\", toColumn);\n\t\t\t}\n\t\t}else{\n\t\t\tconsole.warn(\"Move Error - No matching column found:\", from);\n\t\t}\n\t}\n\t\n\t//scroll to column in DOM\n\tscrollToColumn(field, position, ifVisible){\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tvar column = this.columnManager.findColumn(field);\n\t\t\t\n\t\t\tif(column){\n\t\t\t\treturn this.columnManager.scrollToColumn(column, position, ifVisible);\n\t\t\t}else{\n\t\t\t\tconsole.warn(\"Scroll Error - No matching column found:\", field);\n\t\t\t\treturn Promise.reject(\"Scroll Error - No matching column found\");\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//////////// General Public Functions ////////////\n\t//redraw list without updating data\n\tredraw(force){\n\t\tthis.initGuard();\n\n\t\tthis.columnManager.redraw(force);\n\t\tthis.rowManager.redraw(force);\n\t}\n\t\n\tsetHeight(height){\n\t\tthis.options.height = isNaN(height) ? height : height + \"px\";\n\t\tthis.element.style.height = this.options.height;\n\t\tthis.rowManager.initializeRenderer();\n\t\tthis.rowManager.redraw();\n\t}\n\t\n\t//////////////////// Event Bus ///////////////////\n\t\n\ton(key, callback){\n\t\tthis.externalEvents.subscribe(key, callback);\n\t}\n\t\n\toff(key, callback){\n\t\tthis.externalEvents.unsubscribe(key, callback);\n\t}\n\t\n\tdispatchEvent(){\n\t\tvar args = Array.from(arguments);\n\t\targs.shift();\n\t\t\n\t\tthis.externalEvents.dispatch(...arguments);\n\t}\n\n\t//////////////////// Alerts ///////////////////\n\n\talert(contents, type){\n\t\tthis.initGuard();\n\n\t\tthis.alertManager.alert(contents, type);\n\t}\n\n\tclearAlert(){\n\t\tthis.initGuard();\n\n\t\tthis.alertManager.clear();\n\t}\n\t\n\t////////////// Extension Management //////////////\n\tmodExists(plugin, required){\n\t\tif(this.modules[plugin]){\n\t\t\treturn true;\n\t\t}else{\n\t\t\tif(required){\n\t\t\t\tconsole.error(\"Tabulator Module Not Installed: \" + plugin);\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\tmodule(key){\n\t\tvar mod = this.modules[key];\n\t\t\n\t\tif(!mod){\n\t\t\tconsole.error(\"Tabulator module not installed: \" + key);\n\t\t}\n\t\t\n\t\treturn mod;\n\t}\n}\n\n//default setup options\nTabulator.defaultOptions = defaultOptions;\n\n//bind modules and static functionality\nnew ModuleBinder(Tabulator);\n\nexport default Tabulator;\n","export default {\n\n\tdebugEventsExternal:false, //flag to console log events\n\tdebugEventsInternal:false, //flag to console log events\n\tdebugInvalidOptions:true, //allow toggling of invalid option warnings\n\tdebugInvalidComponentFuncs:true, //allow toggling of invalid component warnings\n\tdebugInitialization:true, //allow toggling of pre initialization function call warnings\n\tdebugDeprecation:true, //allow toggling of deprecation warnings\n\n\theight:false, //height of tabulator\n\tminHeight:false, //minimum height of tabulator\n\tmaxHeight:false, //maximum height of tabulator\n\n\tcolumnHeaderVertAlign:\"top\", //vertical alignment of column headers\n\n\tpopupContainer:false,\n\n\tcolumns:[],//store for colum header info\n\tcolumnDefaults:{}, //store column default props\n\n\tdata:false, //default starting data\n\n\tautoColumns:false, //build columns from data row structure\n\tautoColumnsDefinitions:false,\n\n\tnestedFieldSeparator:\".\", //separator for nested data\n\n\tfooterElement:false, //hold footer element\n\n\tindex:\"id\", //filed for row index\n\n\ttextDirection:\"auto\",\n\n\taddRowPos:\"bottom\", //position to insert blank rows, top|bottom\n\n\theaderVisible:true, //hide header\n\n\trenderVertical:\"virtual\",\n\trenderHorizontal:\"basic\",\n\trenderVerticalBuffer:0, // set virtual DOM buffer size\n\n\tscrollToRowPosition:\"top\",\n\tscrollToRowIfVisible:true,\n\n\tscrollToColumnPosition:\"left\",\n\tscrollToColumnIfVisible:true,\n\n\trowFormatter:false,\n\trowFormatterPrint:null,\n\trowFormatterClipboard:null,\n\trowFormatterHtmlOutput:null,\n\n\trowHeight:null,\n\n\tplaceholder:false,\n\n\tdataLoader:true,\n\tdataLoaderLoading:false,\n\tdataLoaderError:false,\n\tdataLoaderErrorTimeout:3000,\n\n\tdataSendParams:{},\n\n\tdataReceiveParams:{},\n};\n","//tabulator with all modules installed\nimport {default as Tabulator} from './Tabulator.js';\nimport * as modules from '../core/modules/optional.js';\nimport ModuleBinder from './tools/ModuleBinder.js';\n\nclass TabulatorFull extends Tabulator {}\n\n//bind modules and static functionality\nnew ModuleBinder(TabulatorFull, modules);\n\nexport default TabulatorFull;","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getDialogContentUtilityClass(slot) {\n  return generateUtilityClass('MuiDialogContent', slot);\n}\nconst dialogContentClasses = generateUtilityClasses('MuiDialogContent', ['root', 'dividers']);\nexport default dialogContentClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\", \"dividers\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { getDialogContentUtilityClass } from './dialogContentClasses';\nimport dialogTitleClasses from '../DialogTitle/dialogTitleClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    dividers\n  } = ownerState;\n  const slots = {\n    root: ['root', dividers && 'dividers']\n  };\n  return composeClasses(slots, getDialogContentUtilityClass, classes);\n};\nconst DialogContentRoot = styled('div', {\n  name: 'MuiDialogContent',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, ownerState.dividers && styles.dividers];\n  }\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  flex: '1 1 auto',\n  // Add iOS momentum scrolling for iOS < 13.0\n  WebkitOverflowScrolling: 'touch',\n  overflowY: 'auto',\n  padding: '20px 24px'\n}, ownerState.dividers ? {\n  padding: '16px 24px',\n  borderTop: `1px solid ${(theme.vars || theme).palette.divider}`,\n  borderBottom: `1px solid ${(theme.vars || theme).palette.divider}`\n} : {\n  [`.${dialogTitleClasses.root} + &`]: {\n    paddingTop: 0\n  }\n}));\nconst DialogContent = /*#__PURE__*/React.forwardRef(function DialogContent(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiDialogContent'\n  });\n  const {\n      className,\n      dividers = false\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    dividers\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(DialogContentRoot, _extends({\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? DialogContent.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * Display the top and bottom dividers.\n   * @default false\n   */\n  dividers: PropTypes.bool,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default DialogContent;"],"sourceRoot":""}